/*
 * emf (Epicor Mobile Framework) 
 * version:1.0.12-dev.125 built: 01-04-2017
*/
if("undefined"==typeof __ep_build_info)var __ep_build_info={};__ep_build_info.utilities={libName:"utilities",version:"1.0.12-dev.125",built:"2017-04-01"},function(){"use strict";angular.module("ep.file",[])}(),angular.module("ep.photo.browser",["ep.templates","ep.sysconfig"]),angular.module("ep.signature",["ep.templates","ep.sysconfig"]),function(){"use strict";angular.module("ep.dynamic.directive",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.animation",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.filter.list",[])}(),function(){"use strict";angular.module("ep.indexeddb",[])}(),function(){"use strict";angular.module("ep.cache",["ep.indexeddb","ep.sysconfig"])}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(a,c){return function(d){var e;e=d.name?w[d.name]:d.code?x[d.code]:d;var f="LocalFileSystem failure: "+e+" [ "+c;d.name&&(f+=": "+d.name),f+=" ]",b.error(f),a.reject(f)}}function i(a,b){return j(a,b).then(function(a){return angular.fromJson(a)})}function j(d,i){var j,k,l=a.defer();switch(y){case v.fileStorage:i||(i=d,d=c.cordova.file.dataDirectory),c.resolveLocalFileSystemURL(d+i,function(a){a.file(function(a){var b=new FileReader;b.onloadend=function(){l.resolve(this.result)},b.readAsText(a)},h(l,i))},h(l,i));break;case v.indexedDB:i||(i=d,d=""),f.openDatabase("ep-file-db",1).then(function(a){var b=a.getObjectStore("ep-file");b.get(i).then(function(a){a?l.resolve(a.value):h(l,i)})});break;case v.localStorage:i||(i=d,d=e.namespace),k=d+"."+i,j=g.get(k),j?(b.debug("Successfully loaded "+k+" from LocalStorage."),l.resolve(j)):h(l,i)({code:1})}return l.promise}function k(a,b,c){return l(angular.toJson(a),b,c)}function l(d,i,j,k){var l=a.defer();try{var m="";switch(k||(k="text/plain"),y){case v.fileStorage:j||(j=i,i=c.cordova.file.dataDirectory),c.resolveLocalFileSystemURL(i,function(a){a.getFile(j,{create:!0},function(a){a.createWriter(function(a){a.onwriteend=function(){b.debug("Successfully wrote file: "+j),l.resolve()},a.onerror=function(a){fail(l,{code:a.toString()})};var c=new Blob([d],{type:k});a.write(c)},h(l,j))},h(l,j))},h(l,j));break;case v.indexedDB:j||(j=i,i="");var n={filename:j,value:d};f.openDatabase("ep-file-db",1).then(function(a){a.getObjectStore("ep-file").put(n).then(function(){b.debug("Saved "+j+" to indexedDB"),l.resolve()},h(l,j))});break;case v.localStorage:j||(j=i,i=e.namespace),m=i+"."+j,g.update(m,d),b.debug("Successfully saved "+m+" to LocalStorage."),l.resolve()}}catch(o){h(l,j)(o)}return l.promise}function m(b,d){var i=a.defer();try{switch(y){case v.fileStorage:d||(d=b,b=c.cordova.file.dataDirectory),c.resolveLocalFileSystemURL(b+d,function(){i.resolve(!0)},function(a){1===a.code?i.resolve(!1):h(i,d)(a)});break;case v.indexedDB:d||(d=b,b=""),f.openDatabase("ep-file-db",1).then(function(a){var b=a.getObjectStore("ep-file");b.get(d).then(function(a){a?i.resolve(!0):i.resolve(!1)})});break;case v.localStorage:d||(d=b,b=e.namespace);var j=b+"."+d;i.resolve(!!g.get(j))}}catch(k){h(i,d)(k)}return i.promise}function n(a){switch(y){case v.fileStorage:return c.cordova.file.dataDirectory+a;case v.indexedDB:return a;case v.localStorage:return e.namespace+"."+a}}function o(b){var d=a.defer();try{switch(y){case v.fileStorage:c.resolveLocalFileSystemURL(c.cordova.file.dataDirectory+b,function(a){a.remove(),d.resolve()},function(a){h(d,b)(a)});break;case v.indexedDB:f.openDatabase("ep-file-db",1).then(function(a){var c=a.getObjectStore("ep-file");c["delete"](b).then(function(){d.resolve()},h(d,b))});break;case v.localStorage:g.clear(e.namespace+"."+b),d.resolve()}}catch(i){h(d,b)(i)}return d.promise}function p(a){u(a)}function q(){var a="";switch(y){case v.localStorage:a="localStorage";break;case v.indexedDB:a="indexedDB";break;case v.fileStorage:a="fileStorage"}return a}function r(){y=v.fileStorage}function s(){f.createSchema("ep-file-db").defineVersion(1,function(a){a.createObjectStore("ep-file",{keyPath:"filename"})}),b.debug("IndexedDB system selected."),y=v.indexedDB}function t(){b.debug("LocalStorage system selected."),y=v.localStorage}function u(a){if(a)switch(a.toLowerCase()){case"localstorage":t();break;case"indexeddb":try{s()}catch(c){b.warn(c),t()}break;case"filestorage":r();break;default:b.warn("Unable to set file storage system to "+a+"."),t()}else if("Cordova"===d.getFeatures().platform.app)t();else try{s()}catch(c){b.warn(c),t()}}var v={localStorage:0,fileStorage:1,indexedDB:2},w={DeviceNotReadyError:"The device is not ready for file operations",FileSystemNotReady:"The file system is not ready to accept operations.",IndexSizeError:"The index is not in the allowed range (e.g, thrown in a range object).",HierarchyRequestError:"The node tree hierarchy is not correct.",WrongDocumentError:"The object is in the wrong document.",InvalidCharacterError:"The string contains invalid characters.",NoModificationAllowedError:"The object can not be modified.",NotFoundError:"The object can not be found here.",NotSupportedError:"The operation is not supported.",InvalidStateError:"The object is in an invalid state.",SyntaxError:"The string did not match the expected pattern.",InvalidModificationError:"The object can not be modified in this way.",NamespaceError:"The operation is not allowed by Namespaces in XML.",InvalidAccessError:"The object does not support the operation or argument.",TypeMismatchError:"The type of the object does not match the expected type.",SecurityError:"The operation is insecure.",NetworkError:"A network error occurred.",AbortError:"The operation was aborted.",URLMismatchError:"The given URL does not match another URL.",QuotaExceededError:"The quota has been exceeded.",TimeoutError:"The operation timed out.",InvalidNodeTypeError:"The node is incorrect or has an incorrect ancestor for this operation.",DataCloneError:"The object can not be cloned."},x={1:"File not found.",2:"Security error.",3:"Operation aborted error.",4:"File or Directory not readable error.",5:"Encoding error.",6:"No modifications allowed error.",7:"Invalid state error.",8:"Syntax error.",9:"Invalid modification.",10:"Storage quota exceeded.",11:"Type mismatch error.",12:"Path exists error."},y=v.localStorage;return u(),{load:i,loadText:j,save:k,saveText:l,getFilePath:n,fileExists:m,remove:o,setStorageSystem:p,getStorageSystem:q}}a.$inject=["$q","$log","$window","epFeatureDetectionService","epFileConstants","epIndexedDbService","epLocalStorageService"],angular.module("ep.file").constant("epFileConstants",{namespace:"persistentData"}).service("epFileService",a)}(),angular.module("ep.photo.browser").controller("epPhotoBrowserCtrl",["$scope","epPhotoBrowserService",function(a,b){b.getImages().then(function(b){a.images=b})}]),angular.module("ep.photo.browser").directive("epPhotoBrowser",["epPhotoBrowserService",function(a){function b(b){b.active=a.active,b.slides=a.slides,b.imageFiles=a.imageFiles}return{link:b,restrict:"E",controller:"epPhotoBrowserCtrl",templateUrl:"src/components/ep.photo.browser/ep-photo-browser.html",scope:{showPreview:"@"}}}]),angular.module("ep.photo.browser").factory("epPhotoBrowserFactory",[function(){function a(){return!0}return{publicMethod:a}}]),function(){"use strict";angular.module("ep.photo.browser").service("epPhotoBrowserService",["$q",function(a){function b(){var b=a.defer();return b.resolve(h),b.promise}function c(){document.addEventListener("deviceready",d,!1)}function d(){window.resolveLocalFileSystemURL(cordova.file.externalRootDirectory,function(a){window.console.log(cordova.file.externalRootDirectory);var b=a.createReader();b.readEntries(function(a){var b;for(b=0;b<a.length;b++)if("DCIM"===a[b].name){var c=a[b].createReader();c.readEntries(f,!1);break}},function(){window.console.log("fail")})})}function e(a,b){function c(){window.Console.log("file not found")}function d(a){a.file(function(a){var c=new FileReader;c.onloadend=function(){var a=this.result;b(a)},c.readAsDataURL(a)})}window.resolveLocalFileSystemURL(a,d,c)}function f(a){var b;for(b=0;b<a.length;b++){if("Camera"===a[b].name){var c=a[b].createReader();c.readEntries(g,!1);break}window.console.log("the entries name"+a[b].name)}}function g(a){var b;for(b=0;b<a.length;b++)if(/\.(jpe?g|png|gif|bmp)$/i.test(a[b].name)){var c=a[b].fullPath.substr(1),d=cordova.file.externalRootDirectory+c;h.push({thumb:d,img:d})}}var h=[],i=[];return{imageFiles:i,getFileContentAsBase64:e,onGetDCIM:f,onGetFileNames:g,images:h,getImages:b,showDeviceImage:c}}])}(),angular.module("ep.signature").directive("epSignature",["$timeout","$document","$q",function(a,b,c){function d(a,b,c,d){b&&(a.strokeText(b,c,d),a.fillText(b,c,d))}function e(a,b){var c=b[0].getContext("2d"),e=b.attr("height"),f=b.attr("width");c.shadowColor="",c.shadowOffsetX=0,c.shadowOffsetY=0,c.shadowBlur=0;var g=a.ulText,h=a.llText,i=a.urText,j=a.lrText,k=10,l=10,m=f-c.measureText(i).width-30,n=10,o=10,p=e-5,q=f-c.measureText(j).width-30,r=e-5;c.font="8pt Courier New",c.fillStyle="#000",d(c,g,k,l),d(c,h,o,p),d(c,i,m,n),d(c,j,q,r)}function f(a,d){var f=c.defer(),g=a.imageSizeWidth,h=a.imageSizeHeight,i=new Image;return i.onload=function(){var c=b[0].createElement("canvas");c.width=g,c.height=h;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,g,h),d.drawImage(i,0,0,g,h),e(a,$(c)),f.resolve(c.toDataURL("image/jpeg",1))},i.onerror=function(a){f.reject(a)},i.src=d[0].toDataURL(),f.promise}function g(b,c){b.initialized=!1,b.isEnabled=!1,b.drawText=!1,b.initialize=function(){if(!b.initialized){var d={"background-color":"#fffff",color:"#000"},e=c.find("#signature").jSignature(d);a(function(){e.resize()},200),c.find("#signature").bind("change",function(){a(function(){b.sig=c.find("#signature").jSignature("getData"),b.isEnabled=!!b.sig},0)}),b.initialized=!0}},b.accept=function(){!angular.isDefined(b.sig)||b.onBeforeAccept&&b.onBeforeAccept(b)===!1||(b.isEnabled=!1,b.drawText=!0,a(function(){var a=$("canvas.jSignature"),c=a[0];if(b.imageSizeWidth||b.imageSizeHeight){angular.isString(b.imageSizeWidth)&&(b.imageSizeWidth=b.imageSizeWidth?parseInt(b.imageSizeWidth):0),angular.isString(b.imageSizeHeight)&&(b.imageSizeHeight=b.imageSizeHeight?parseInt(b.imageSizeHeight):0);var d=parseInt(a.attr("width"))/parseInt(a.attr("height"));b.imageSizeWidth&&!b.imageSizeHeight?b.imageSizeHeight=Math.floor(b.imageSizeWidth/d):b.imageSizeHeight&&!b.imageSizeWidth&&(b.imageSizeWidth=Math.floor(b.imageSizeHeight*d)),f(b,a).then(function(a){b.onAccept(a.replace("data:image/jpeg;base64,",""))})}else e(b,a),b.onAccept(c.toDataURL("image/jpeg",1).replace("data:image/jpeg;base64,",""))}))},b.reset=function(){b.setButton=!1,b.isEnabled=!0,c.find("#signature").jSignature("reset")},b.signatureControls={reset:b.reset},b.initialize()}return{restrict:"E",scope:{sig:"=?",signatureControls:"=?",onBeforeAccept:"=",onAccept:"=",acceptIsEnabled:"=",backgroundColor:"@",color:"@",acknowledgeText:"@",ulText:"@",urText:"@",llText:"@",lrText:"@",height:"@",imageSizeWidth:"@",imageSizeHeight:"@"},templateUrl:"src/components/ep.signature/ep-signature.html",link:g}}]),function(){"use strict";angular.module("ep.dynamic.directive").controller("epDynamicDirectiveCtrl",["$scope","epDynamicDirectiveService",function(a,b){function c(){d.compiled=b.build(d.directiveInfo.name,d.directiveInfo.scopeProperties,d.scope),d.element&&d.element.html(d.compiled)}var d=this;d.scope=a,a.$watch(function(){return d.directiveInfo},c),c()}])}(),function(){"use strict";angular.module("ep.dynamic.directive").directive("epDynamicDirective",function(){return{restrict:"E",controller:"epDynamicDirectiveCtrl",controllerAs:"dynamicDirective",bindToController:!0,scope:{directiveInfo:"="},compile:function(){return{pre:function(a,b){a.dynamicDirective.element=b},post:function(a,b){null!==a.dynamicDirective.compiled&&b.append(a.dynamicDirective.compiled)}}}}})}(),function(){"use strict";angular.module("ep.dynamic.directive").service("epDynamicDirectiveService",["$rootScope","$compile",function(a,b){var c={};this.build=function(c,d,e,f){var g=f?e||a:e?e.$new():a.$new();angular.extend(g,d);var h=this.getTemplate(c);return h?b(h)(g):null},this.registerTemplate=function(a){c[a.id]||(c[a.id]=a.value)},this.getTemplate=function(a){return c[a]}}])}(),function(){"use strict";angular.module("ep.animation").directive("epAnimation",function(){function a(a,b,c){a.$watch(function(){return a.options},function(a){if(a){var d=c.id,e=angular.element("body"),f=angular.element("#animationStyle");if(!f.length){var g=document.createElement("style");e.append(g),f=angular.element(g),f.attr("id","animationStyle")}var h=f.get(0).textContent;d||(d=c.id=_.uniqueId(b[0].nodeName));var i,j="";a.show&&(j="#"+d+".ng-hide-remove {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-hide-remove { animation: "+(a.show.duration||"0.5s")+" "+a.show.animation+" "+(a.show.easing||"ease")+"; }"),a.hide&&(j="#"+d+".ng-hide-add {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-hide-add { animation: "+(a.hide.duration||"0.5s")+" "+a.hide.animation+" "+(a.hide.easing||"ease")+"; }"),a.enter&&(j="#"+d+".ng-enter-active {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-enter-active { animation: "+(a.enter.duration||"0.5s")+" "+a.enter.animation+" "+(a.enter.easing||"ease")+"; }"),a.leave&&(j="#"+d+".ng-leave-active {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-leave-active { animation: "+(a.leave.duration||"0.5s")+" "+a.leave.animation+" "+(a.leave.easing||"ease")+"; }"),f.html(h)}})}return{restrict:"A",scope:{options:"="},link:a}})}(),function(){"use strict";angular.module("ep.filter.list").directive("epFilterList",function(){return{restrict:"E",replace:!0,scope:{searchBy:"=",count:"=",changeHandler:"="},templateUrl:"src/components/ep.filter.list/filter_list.html",link:function(a){a.clearSearch=function(){a.searchBy="",a.showRemove=!1}}}})}(),function(){"use strict";function a(a){this.name=a,this.versions=[],this.versionDefinitionFuncs={}}function b(a,b,c){this.$log=a,this.$q=b,this.db=c,this.db.onerror=this.logError}function c(a,b,c,d){this.$log=a,this.$q=b,this.db=c,this.name=d}function d(a,b,c,d,e){this.$q=b,this.$log=a,this.db=c,this.index=d,this.name=e}function e(c,d,e,h){function i(b){return f[b]=new a(name),f[b]}function j(a){delete g[a]}function k(a,e){var i=d.defer();if(g[a])i.resolve(g[a]);else{var j=m.open(a,e),k=h(function(){c.warn("Database "+a+" v"+e+" could not be opened. This is possibly due to a conflict between two or more open tabs."),i.reject("Timeout reached while waiting for database "+a+" to open.")},1500);j.onsuccess=function(){var e=j.result,f=new b(c,d,e);g[a]=f,h.cancel(k),i.resolve(f)},j.onerror=function(a){i.reject(a)},j.onblocked=function(){i.reject("Unable to open database. The request is blocked.")},j.onupgradeneeded=function(b){var c=b.target.result,d=f[a];if(d)for(var e=b.oldVersion;e<=b.newVersion;e++)d.upgrade(c,e);else i.reject("No database schema with the name "+a+" has been defined.")}}return i.promise}function l(a){var b=d.defer(),c=m.deleteDatabase(a);return c.onsuccess=function(){b.resolve(!0)},c.onerror=function(a){b.reject(a)},b.promise}var m=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;return{createSchema:i,openDatabase:k,closeDatabase:j,deleteDatabase:l}}e.$inject=["$log","$q","$window","$timeout"],angular.module("ep.indexeddb").service("epIndexedDbService",e);var f={},g={};a.prototype.defineVersion=function(a,b){this.versions.push(a),this.versionDefinitionFuncs["version "+a]=b},a.prototype.upgrade=function(a,b){var c=this.versionDefinitionFuncs["version "+b];c&&c(a)},b.prototype.getObjectStore=function(a){return new c(this.$log,this.$q,this.db,a)},b.prototype.logError=function(a){this.$log.error("An IndexedDB error has occured: "+a)};var h={get:function(a){return this._execute("readonly",function(b){return b.get(a)})},getAll:function(){return this._execute("readonly",function(a){return a.getAll()})},getAllKeys:function(){return this._execute("readonly",function(a){return a.getAllKeys()})},clear:function(){return this._execute("readwrite",function(a){return a.clear()})},count:function(){return this._execute("readonly",function(a){return a.count})}};c.prototype._execute=function(a,b){var c=this,d=c.$q.defer(),e=this.db.transaction(c.name,a);e.oncomplete=function(){c.$log.debug("Transaction completed on "+c.name)},e.onerror=function(a){c.$log.warn("Transaction error occurred on "+c.name+". "+a),d.reject(a)};var f=e.objectStore(c.name),g=b(f);return g.onsuccess=function(a){var b=a&&a.target&&a.target.result;d.resolve(b)},g.onerror=function(a){c.$log.warn("Request error occurred on "+c.name+". "+a),d.reject(a)},d.promise},c.prototype.openCursor=function(){var a=this,b=$q.defer(),c=a.db.transaction(this.name,"readwrite").objectStore(a.name),d=c.openCursor();return d.onsuccess=function(a){var c=a.target.result;c?(b.notify(c.value),c["continue"]()):b.resolve()},d.onerror=function(a){b.reject(a)},b.promise},c.prototype.openKeyCursor=function(a,b){var c=this,d=$q.defer(),e=c.db.transaction(this.name,"readwrite").objectStore(c.name),f=e.openKeyCursor(a,b);return f.onsuccess=function(a){var b=a.target.result;b?(d.notify(b.value),b["continue"]()):d.resolve()},f.onerror=function(a){d.reject(a)},d.promise},c.prototype["delete"]=function(a){return this._execute("readwrite",function(b){return b["delete"](a)})},c.prototype.put=function(a){return this._execute("readwrite",function(b){return b.put(a)})},c.prototype.add=function(a){return this._execute("readwrite",function(b){return b.add(a)})},c.prototype.index=function(a){var b=this;return this._execute("readonly",function(c){return new d(b.$log,b.$q,b.db,c.index(a),a)})},c.prototype.deleteByIndex=function(a,b){var c=this,d=c.$q.defer(),e=c.db.transaction(c.name,"readwrite"),f=e.objectStore(c.name),g=f.index(a),h=g.openKeyCursor(IDBKeyRange.only(b));return h.onsuccess=function(){var a=h.result;a?(f["delete"](a.primaryKey),a["continue"](),d.notify()):d.resolve(!0)},h.onerror=function(a){d.reject(a)},d.promise},c.prototype.queryByIndex=function(a,b){var c=this,d=c.$q.defer(),e=c.db.transaction(c.name,"readwrite"),f=e.objectStore(c.name),g=f.index(a),h=[],i=g.openKeyCursor(IDBKeyRange.only(b));return i.onsuccess=function(){var e=i.result;if(e){var g=f.get(e.primaryKey);g.onsuccess=function(a){var b=a&&a.result&&a.result.target;h.push(b),e["continue"](),d.notify(b)},g.onerror=function(){c.$log.warn("An error occurred while executing query "+a+"="+b),e["continue"]()}}else d.resolve(h)},i.onerror=function(a){d.reject(a)},d.promise},angular.extend(c.prototype,h),d.prototype._execute=function(a,b){var c=this,d=c.$q.defer(),e=b(c.index);return e.onsuccess=function(a){var b=a&&a.target&&a.target.result;d.resolve(b)},e.onerror=function(a){c.$log.warn("Request error occurred on "+c.name+". "+a),d.reject(a)},d.promise},d.prototype.openCursor=function(){var a=this,b=$q.defer(),c=a.index.openCursor();return c.onsuccess=function(a){var c=a.target.result;c?(b.notify(c.value),c["continue"]()):b.resolve()},c.onerror=function(a){b.reject(a)},b.promise},d.prototype.openKeyCursor=function(){var a=this,b=$q.defer(),c=a.index.openCursor();return c.onsuccess=function(a){var c=a.target.result;c?(b.notify(c.value),c["continue"]()):b.resolve()},c.onerror=function(a){b.reject(a)},b.promise},angular.extend(d.prototype,h)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a){return angular.isFunction(a)?a.apply(null):a}function h(a){return a=g(a),r[a]=r[a]||{},r[a]}function i(a,c,d,e){var f=h(a);c=g(c);var i=b.defer();if(e)j(i,c,null,d);else{var l=f[c];l?i.resolve(l):k(c).then(function(b){b?(f[c]=b,i.resolve(b)):j(i,c,a,d)},function(){j(i,c,a,d)})}return i.promise}function j(b,c,d,e){function f(a){return d&&q(d,c,a),a}var g=e(c);g.then?g.then(function(a){b.resolve(f(a))},function(d){a.warn("An error occurred while invoking service call with key "+c+". "+d),b.reject(d)}):b.resolve(f(g))}function k(b){return d.openDatabase("ep-cache-db",1).then(function(a){var c=a.getObjectStore("ep-cache");return c.get(b).then(function(a){return a&&a.value})},function(b){a.warn("An error occured that prevented data from being retreived from the cache. This is probably caused by two or more open tabs sending contending commands to the underlying database. If this warning occurs frequently, then it could temporarily degrade performance of the application.")})}function l(b,c,e){var f={key:b,cacheId:c,value:e};return d.openDatabase("ep-cache-db",1).then(function(a){var b=a.getObjectStore("ep-cache");return b.put(f)},function(b){a.warn("An error occured that prevented data from being stored in the cache. This is probably caused by two or more open tabs sending contending commands to the underlying database. If this warning occurs frequently, then it could temporarily degrade performance of the application.")})}function m(){Object.keys(r).forEach(function(a){n(a)}),d.deleteDatabase("ep-cache-db")}function n(b){b=g(b),r[b]&&delete r[b],d.openDatabase("ep-cache-db",1).then(function(a){a.getObjectStore("ep-cache").deleteByIndex("cacheId",b),c.$emit(e.SHELL_CACHE_DELETED_EVENT,{cacheId:b})},function(b){a.error(b)})}function o(a,b){var f=h(a);b=g(b),f&&f[b]&&delete f[b],d.openDatabase("ep-cache-db",1).then(function(a){a.getObjectStore("ep-cache")["delete"](b)}),c.$emit(e.SHELL_CACHE_DATA_DELETED_EVENT,{cacheId:g(a),key:b})}function p(a,b,c){var d=h(a),e=d[b];return angular.isUndefined(e)&&(e=d[b]=c),e}function q(b,d,i){if(f.options.enableCache){var j=h(b);d=g(d),j[d]=i,l(d,b,i).then(function(){c.$emit(e.SHELL_DATA_CACHED_EVENT,{cacheId:g(b),key:d,data:i})},function(b){a.warn("Unable to open cache database: "+b)})}}var r={};return d.createSchema("ep-cache-db").defineVersion(1,function(a){var b=a.createObjectStore("ep-cache",{keyPath:"key"});b.createIndex("cacheId","cacheId",{unique:!1})}),{cacheServiceCall:i,deleteAllCaches:m,deleteCache:n,deleteCacheKey:o,getCachedData:p,cacheData:q}}a.$inject=["$log","$q","$rootScope","epIndexedDbService","epShellConstants","epShellConfig"],angular.module("ep.cache").service("epCacheService",a)}(),angular.module("ep.templates").run(["$templateCache",function(a){"use strict";a.put("src/components/ep.photo.browser/ep-photo-browser.html","<!--This is a partial for the ep-photo-browser directive --><div class=content ng-controller=epPhotoBrowserCtrl><ng-gallery images=images show-preview=showPreview></ng-gallery></div>"),a.put("src/components/ep.signature/ep-signature.html",'<!--This is a partial for the ep-signature directive --><div id=signature_parent style="min-height: 100px"><div id=signature style="background-color: #ffffff"></div></div><div class=row><div class=col-xs-3><button id=clearButton class="btn btn-primary" ng-disabled=!isEnabled tabindex=-1 ng-click=reset()>Clear</button></div><div class="col-xs-6 text-center"><strong ng-bind=acknowledgeText></strong></div><div class=col-xs-3><button ng-click=accept() tabindex=-1 type=submit id=saveButton ng-disabled="!isEnabled || !acceptIsEnabled" class="btn btn-success pull-right">Accept</button></div></div>'),a.put("src/components/ep.filter.list/filter_list.html",'<div class=ep-search-list-container><div class=row><div class=col-xs-10><span class="ep-cicrm-search ep-pad-left-10"></span> <input id=searchinput class="search-query form-control" ng-focus="showRemove=true" ng-model=searchBy placeholder=Search ng-change="changeHandler(searchBy)"> <span class="ep-cicrm-delete text-danger" ng-if=showRemove ng-click=clearSearch()></span></div><div class="col-xs-2 result-count-container text-center"><div>{{count}}</div><div>Results</div></div></div></div>')}]);