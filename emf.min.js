/*
 * emf (Epicor Mobile Framework) 
 * version:1.0.10-dev.493 built: 03-02-2017
*/
var __ep_build_info={emf:{libName:"emf",version:"1.0.10-dev.493",built:"2017-02-03"}};if(!epEmfGlobal){var epEmfGlobal={epModules:[],initialize:function(){!function(a){angular.module=function(){return arguments.length>1&&0===arguments[0].indexOf("ep.")&&epEmfGlobal.epModules.push(arguments[0]),a.apply(null,arguments)}}(angular.module)}};epEmfGlobal.initialize()}!function(){"use strict";angular.module("ep.accordion.menu",["ngAnimate","ep.templates","ep.local.storage"])}(),function(){"use strict";angular.module("ep.action.set",["ep.feature.detection","ep.templates"])}(),function(){"use strict";angular.module("ep.animation",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.application",["ep.templates","ep.sysconfig"])}(),angular.module("ep.binding",["ep.templates","ep.sysconfig"]),function(){"use strict";angular.module("ep.cache",["ep.indexeddb","ep.sysconfig"])}(),angular.module("ep.card",["ep.templates","ep.sysconfig"]),function(){"use strict";angular.module("ep.chart",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.color.selector",["ep.templates"])}(),function(){"use strict";angular.module("ep.color.tile",[])}(),function(){"use strict";angular.module("ep.console",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.contacts.list",[])}(),angular.module("ep.customization",["ep.templates","ep.sysconfig","ep.local.storage","ep.binding"]),function(){"use strict";angular.module("ep.data.model",["ep.utils"])}(),angular.module("ep.datagrid",["ep.templates","ep.dropdown"]),function(){"use strict";angular.module("ep.dock.panel",[])}(),function(){"use strict";angular.module("ep.drag.drop",["ep.templates"])}(),function(){"use strict";angular.module("ep.dropdown",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.dynamic.directive",["ep.templates","ep.sysconfig"])}(),angular.module("ep.embedded.apps",["ep.templates","ep.sysconfig","ep.utils"]),angular.module("ep.erp",["ep.templates","ep.modaldialog","ep.utils","ep.odata","ep.binding"]),function(){"use strict";angular.module("ep.feature.detection",["ep.templates"])}(),function(){"use strict";angular.module("ep.file",[])}(),function(){"use strict";angular.module("ep.filter.list",[])}(),function(){"use strict";angular.module("ep.hybrid",["ep.templates"])}(),function(){"use strict";angular.module("ep.icon.selector",[])}(),function(){"use strict";angular.module("ep.include",["ep.templates"])}(),function(){"use strict";angular.module("ep.indexeddb",[])}(),function(){"use strict";angular.module("ep.list",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.local.storage",["ep.sysconfig"])}(),angular.module("ep.menu.builder",["ep.templates"]),function(){"use strict";angular.module("ep.modaldialog",["ep.templates"])}(),function(){"use strict";angular.module("ep.multi.level.menu",["ngAnimate","ep.templates","ep.local.storage"])}(),function(){"use strict";angular.module("ep.odata",[])}(),angular.module("ep.photo.browser",["ep.templates","ep.sysconfig"]),angular.module("ep.record.editor",["ep.feature.detection","ep.templates","ep.sysconfig","ep.include"]),function(){"use strict";angular.module("ep.search",["ep.token","ep.templates"])}(),function(){"use strict";angular.module("ep.shell",["ngRoute","ngAnimate","ui.bootstrap","ep.templates","ep.feature.detection","ep.local.storage","ep.include","ep.theme","ep.utils","ep.sysconfig","ep.application","ep.modaldialog","ep.console"])}(),angular.module("ep.signature",["ep.templates","ep.sysconfig"]),function(){"use strict";angular.module("ep.sliding.panel",["ngAnimate"])}(),function(){"use strict";angular.module("ep.sysconfig",[])}(),function(){"use strict";angular.module("ep.tabbar",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.table",["ep.templates"])}(),function(){"use strict";angular.module("ep.templates",[])}(),function(){"use strict";angular.module("ep.theme",["ep.templates","ep.local.storage","ep.sysconfig","ep.application"])}(),function(){"use strict";angular.module("ep.tile",["ep.templates","ep.sysconfig","ep.application","ep.utils","ep.include"])}(),function(){"use strict";angular.module("ep.tiles.panel",["ep.templates","ep.sysconfig","ep.tile"])}(),function(){"use strict";angular.module("ep.token",["ep.sysconfig","ep.utils"])}(),function(){"use strict";angular.module("ep.ui.range.slider",["ep.templates","ep.sysconfig","ngTouch"])}(),function(){"use strict";angular.module("ep.utils",[])}(),function(){"use strict";angular.module("ep.viewmodal",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.accordion.menu").directive("epAccordionMenu",["$timeout",function(a){return{restrict:"E",replace:!0,controller:"epMultiLevelMenuCtrl",templateUrl:"src/components/ep.accordion.menu/ep-accordion-menu_template.html",scope:{menuId:"=",searchType:"=",searchDisabled:"=",sortDisabled:"=",iconDisabled:"=",initFavorites:"=",menu:"=",onMenuInit:"&",onFavoriteChange:"&",onExpand:"=",onTopMenuClick:"=",searchResultsHeader:"=",favoritesHeader:"=",mainHeader:"=",commitMenuState:"="},link:{pre:function(){},post:function(b){b.searchResultsHeader=b.searchResultsHeader||"Search Results",b.favoritesHeader=b.favoritesHeader||"Favorites",b.mainHeader=b.mainHeader||"",a(function(){b.initializeMenus("epAccordionMenu")}),b.onKeydown=function(a){var b=a.keyCode,c=$(a.target);40===b&&c.parents().nextAll().filter(":visible").not(".ep-menu-header").find(".container-fluid").first().focus()}}}}}]).directive("epAccordionMenuItem",function(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.accordion.menu/ep-accordion-menu-item_template.html",scope:{item:"=",navigate:"=",navigateExternal:"=",toggleFavorite:"=",hideDescription:"=",onExpand:"=",commitMenuState:"="},controller:["$rootScope","$scope","epFeatureDetectionService",function(a,b,c){b.isMobile=!1,c.initialize().then(function(a){"cordova"===a.platform.app.toLowerCase()&&(b.isMobile=!0)}),b.$watch("item.isExpanded",function(a){void 0!==a&&(b.onExpand&&b.onExpand(b.item),b.commitMenuState&&b.commitMenuState())}),b.onKeydown=function(a,b){var c=b.keyCode,d=$(b.target);switch(c){case 13:a.isExpanded=!a.isExpanded;break;case 37:a.isExpanded=!1;break;case 39:a.isExpanded=!0;break;case 38:d.parents().prevAll().filter(":visible").first().parent().hasClass("ep-accordion-expanded")?d.parents().prevAll().filter(":visible").first().focus():d.parents().prevAll().filter(":visible").not(".ep-menu-header").first().find(".container-fluid, .form-control").focus();break;case 40:d.parent().hasClass("ep-accordion-expanded")?d.next().find(".container-fluid").first().focus():d.parents().nextAll().filter(":visible").find(".container-fluid").first().focus()}}}]}})}(),function(){"use strict";angular.module("ep.action.set").directive("epActionItem",["$document","actionSetFactory",function(a,b){return{restrict:"E",scope:{handler:"=",title:"@",trigger:"@",type:"@",params:"=",actionSwitch:"=switch",actionSwitchParams:"=switchParams",actionSwitchResult:"=switchResult",icon:"@"},link:function(a,c,d){var e={handler:a.handler,title:a.title,trigger:a.trigger,type:a.type,params:a.params,actionSwitch:a.actionSwitch,actionSwitchParams:a.actionSwitchParams,actionSwitchResult:a.actionSwitchResult};a.$destroy(),a=null,b.registerAction(c,e,"default"in d),c.remove()}}}])}(),function(){"use strict";angular.module("ep.action.set").controller("epActionMenuCtrl",["$scope","$document",function(a,b){function c(){e.actions=null,a.$root.$$phase||a.$apply(),b.off("click.actionMenu")}function d(a,b){b.handler.call(e,b.callback),c(),a.stopPropagation(),a.preventDefault()}var e=this;e.closeMenu=c,e.invokeAction=d,a.$on("actionMenuCall",function(d,f){e.actions=f.actions,"fixed"!==e.menu.css("position")&&e.menu.css({left:f.event.clientX+"px",top:f.event.clientY+"px"}),b.on("click.actionMenu",function(){c()}),a.$root.$$phase||a.$apply()})}])}(),function(){"use strict";angular.module("ep.action.set").directive("epActionMenu",function(){return{restrict:"E",replace:!0,controller:"epActionMenuCtrl",controllerAs:"actionMenuCtrl",templateUrl:"src/components/ep.action.set/action-menu/action-menu.html",link:function(a,b){a.actionMenuCtrl.menu=b}}})}(),function(){"use strict";angular.module("ep.action.set").directive("epActionSeparator",["$document",function(){return{restrict:"E",require:"^epActionSet",link:function(a,b){var c=$(b).parent(),d=c.data("actions")||[];d.push({type:"separator"}),b.remove()}}}])}(),function(){"use strict";angular.module("ep.action.set").controller("epActionSetCtrl",["$scope",function(a){a.onActionCallerClick=function(b){var c=$(b.target).closest(".ep-interactivity-sign"),d=c.parent().data("actions");a.$root.$broadcast("actionMenuCall",{event:b,actions:d}),b.preventDefault(),b.stopPropagation()}}])}(),function(){"use strict";angular.module("ep.action.set").directive("epActionSet",["$compile","epFeatureDetectionService",function(a,b){return{restrict:"E",scope:{position:"=",bindTo:"=",insertTo:"="},controller:"epActionSetCtrl",compile:function(a,c){var d="";if(a.parent().addClass("ep-relative").addClass("ep-action-owner"),d="ep-actionset-right-down",b.browserIsMobile()===!1&&c.position)switch(c.position){case"absolute-right-bottom":d="ep-actionset-right-bottom";break;case"right-bottom":d="ep-actionset-right-down";break;case"right-center":d="ep-actionset-right-center"}return a.addClass("ep-actionset"),a.addClass(d),a.append($('<div class="ep-interactivity-sign" ng-controller="epActionSetCtrl" ng-click="onActionCallerClick($event)"><span class="fa fa-ellipsis-h"></span></div></div>')),{pre:function(){},post:function(b){b.bindTo&&(b.bindTo.append(a),b.bindTo.addClass("ep-relative").addClass("ep-action-owner")),b.$destroy(),b=null}}}}}])}(),function(){"use strict";angular.module("ep.action.set").factory("actionSetFactory",[function(){function a(a,b){if(null!==b.handler){var c=$(a).parent(),d=c.data("actions")||[],e={title:b.title,type:"action",icon:b.icon};if(b.actionSwitch&&(e["switch"]=b.actionSwitch,e.switchParams=b.actionSwitchParams,e.switchResult=b.actionSwitchResult),Array.isArray(b.params)){var f=function(){b.handler.apply(a,arguments[0])};e.handler=f.bind(c,b.params)}else b.handler&&(e.handler=b.handler.bind(c,b.params));d.push(e),c.data("actions",d)}}return{registerAction:a}}])}(),function(){"use strict";angular.module("ep.action.set").directive("epDynamicActionSet",["$compile","$rootScope",function(a,b){return{restrict:"EA",scope:{provider:"=epDynamicActionSetProvider",actionParams:"=epDynamicActionSetParams",bindTo:"=epDynamicActionSetBindTo",insertTo:"=epDynamicActionSetInsrtTo",injections:"=epDynamicActionSetInjections"},link:function(c,d){var e="undefined"==typeof c.bindTo||null===c.bindTo;c.provider&&(c.provider.actionSet.apply(e,d,b,c,a),c.$destroy(),c=null)}}}])}(),function(){"use strict";angular.module("ep.action.set").factory("dynamicActionSetFactory",[function(){function a(a,c){return new b(a,c)}function b(a,b){function d(a,b,d){var f=new c(a,b,d);e(f),m.push(f)}function e(a){if(!(a.title&&a.title.length>0))throw new Error("Title for the action is required!")}function f(a,b){for(var c=!1,d=0;d<m.length;d++)if(m[d].title===a){m.splice(d,b?m.length-d:1),c=!0;break}c&&(l&&l.remove(),this.apply.apply(this,k))}function g(a,b,d,f){for(var g=0;g<m.length;g++)if(m[g].title===a)return;var h=new c(a,b,d,f);e(h),m.push(h),l&&l.remove(),this.apply.apply(this,k)}function h(a,c,d,e,f){var g=[];if(k=arguments,j=f,a&&(!angular.isFunction(b)||b(c,e))){g.push('<ep-action-set position="right-bottom" bind-to="bindTo" insert-to="insertTo">'),i=d.$new(!0);for(var h=0;h<m.length;h++)g.push(m[h].build(h,i));g.push("</ep-action-set>"),i.bindTo=e.bindTo||c,i.params=e.actionParams,i.bindTo.data("actions",null),l=f(g.join(""))(i)}}this.name=a,this.onCreateActionSet=b;var i,j,k,l,m=[];return{addAction:d,apply:h,removeAction:f,appendAction:g}}function c(a,b,c,d){this.title=a,this.handler=b;var e,f=[];if(c)for(e in c)c.hasOwnProperty(e)&&f.push(e+'="'+c[e]+'"');this.apply=function(a,b,c,e){var g=b.$new(!0),h='<ep-action-item title="'+this.title+'icon="'+d+'" " handler="handler" params="params" bind-to="bindTo" insert-to="insertTo" '+f.join(" ")+"></ep-action-item>";g.handler="function"==typeof this.handler?this.handler:c[this.handler],g.params=c.actionParams,g.bindTo=c.bindTo||a,g.insertTo=c.provider.insertTo,g.injections=c.injections,e(h)(g)},this.build=function(a,b){return b["fnc"+a]=this.handler,'<ep-action-item title="'+this.title+'" icon="'+d+'" " handler="fnc'+a+'" params="params" bind-to="bindTo" insert-to="insertTo" '+f.join(" ")+"></ep-action-item>"}}return{getDynamicActionSet:a}}])}(),function(){"use strict";angular.module("ep.animation").directive("epAnimation",function(){function a(a,b,c){a.$watch(function(){return a.options},function(a){if(a){var d=c.id,e=angular.element("body"),f=angular.element("#animationStyle");if(!f.length){var g=document.createElement("style");e.append(g),f=angular.element(g),f.attr("id","animationStyle")}var h=f.get(0).textContent;d||(d=c.id=_.uniqueId(b[0].nodeName));var i,j="";a.show&&(j="#"+d+".ng-hide-remove {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-hide-remove { animation: "+(a.show.duration||"0.5s")+" "+a.show.animation+" "+(a.show.easing||"ease")+"; }"),a.hide&&(j="#"+d+".ng-hide-add {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-hide-add { animation: "+(a.hide.duration||"0.5s")+" "+a.hide.animation+" "+(a.hide.easing||"ease")+"; }"),a.enter&&(j="#"+d+".ng-enter-active {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-enter-active { animation: "+(a.enter.duration||"0.5s")+" "+a.enter.animation+" "+(a.enter.easing||"ease")+"; }"),a.leave&&(j="#"+d+".ng-leave-active {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-leave-active { animation: "+(a.leave.duration||"0.5s")+" "+a.leave.animation+" "+(a.leave.easing||"ease")+"; }"),f.html(h)}})}return{restrict:"A",scope:{options:"="},link:a}})}(),function(){"use strict";angular.module("ep.application").provider("epApplicationConfig",function(){var a={id:"",type:"webapp",generatorEMF:"",libPath:"./lib",assetsPath:"./lib/bower/emf/assets",emfBuildInfo:{}};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.application",a),a.libPath||(a.libPath="./lib"),__ep_build_info&&(a.emfBuildInfo=__ep_build_info),a.getEmfLibPath=function(b){var c="./lib/bower/emf";return a.emfBuildInfo[b]&&"emf"!==b&&(c="./lib/bower/emf/emf."+a.emfBuildInfo[b].libName),c},a.getAssetsPath=function(b,c){var d=a.getEmfLibPath(b)+"/assets";return c&&(d+="/"+c),d},a}]})}(),function(){"use strict";var a={state:{moduleId:"",contentLoaded:!1,deviceDetected:!1,messages:["Initializing application."],debugMode:!1},initialize:function(){if(this.state.moduleId=document.getElementsByTagName("html")[0].getAttribute("ep-ng-app"),this.state.moduleId){var a=document.getElementsByTagName("html")[0].getAttribute("ep-debug");this.state.debugMode="1"===a||"true"===a,document.addEventListener("deviceready",this.onDeviceReady,!1),window.addEventListener("load",this.onLoad,!1)}},onDeviceReady:function(){a.state.deviceDetected=!0,a.state.messages.push("The device is ready."),a.bootstrapApp()},onLoad:function(){a.state.contentLoaded=!0,a.state.messages.push("onLoad event is triggered."),a.state.deviceDetected&&a.doTheBootstrap(),window.cordova||(a.state.messages.push("No device detected, executing a manual bootstrap."),a.bootstrapApp())},bootstrapApp:function(){a.debugOutput(function(){a.state.contentLoaded?a.doTheBootstrap():(a.state.messages.push("Waiting for DOM to load."),document.addEventListener("DOMContentLoaded",function(){a.doTheBootstrap()}))})},doTheBootstrap:function(){var b=a.state;b.contentLoaded=!0,b.moduleId&&(a.attachFastClick(),b.messages.push("Bootstrapping epApplicationLoader..."),angular.bootstrap(document,[b.moduleId]),b.messages.push("Application successfully bootstrapped."))},attachFastClick:function(){"undefined"==typeof module&&(FastClick.attach(document.body),this.state.messages.push("FastClick attached."))},debugOutput:function(a){if(this.state.debugMode){angular.element("body").append('<div id="messages"></div>');var b=angular.element("#messages");b.append('<button id="continueButton" class="btn btn-default">Continue</button>'),this.state.messages.forEach(function(a){b.append(angular.element("<p>"+a+"</p>"))}),angular.element("#continueButton").on("click",function(){a()})}else a()}};a.initialize()}(),function(){"use strict";function a(a,b,c,d){return{restrict:"E",templateUrl:"src/components/ep.binding/controls/ep-binding-editor.html",scope:{epBinding:"=",column:"=",isRow:"="},link:function(a,e,f){var g;a.epBindingInfo={value:void 0,kind:"ep-editor-control"};var h={editor:"auto",updatable:!0};a.state={column:void 0,metaColumn:{},epBinding:{}},a.setBinding=function(e){g?g.changeBinding(e):g=new b(a,e,a.epBindingInfo),a.state.metaColumn={},a.state.epBinding.column===a.epBindingInfo.epBinding.column&&a.state.epBinding.view===a.epBindingInfo.epBinding.view||(a.state.metaColumn.caption=a.epBindingInfo.epBinding.column);var f=d.get(a.epBindingInfo.epBinding.view);if(f&&f.columns&&f.columns[a.epBindingInfo.epBinding.column]){var h=f.columns[a.epBindingInfo.epBinding.column];c.copyProperties(h,a.state.metaColumn)}a.state.epBinding.view=a.epBindingInfo.epBinding.view,a.state.epBinding.column=a.epBindingInfo.epBinding.column},a.setColumn=function(){var b=angular.extend({},h);a.state.metaColumn&&Object.keys(a.state.metaColumn).length&&c.copyProperties(a.state.metaColumn,b),a.column&&c.copyProperties(a.column,b),angular.equals(a.state.column,b)||(a.state.column=b)},a.$watch("epBinding",function(b,c){void 0!==b&&b!==c&&a.setBinding(b)}),a.$watch("column",function(b,c){void 0===b||angular.equals(b,c)||a.setColumn()}),a.epBinding&&a.setBinding(a.epBinding),a.setColumn()}}}a.$inject=["$location","epBindingFactory","epUtilsService","epBindingMetadataService"],angular.module("ep.binding").directive("epBindingEditor",a)}(),function(){"use strict";function a(a,b){return{restrict:"E",templateUrl:"src/components/ep.binding/controls/ep-binding-label.html",scope:{epBinding:"=",label:"@",labelClass:"@",required:"=",forCtrl:"@"},link:function(c,d,e){c.state={epBinding:{},label:c.label||"",requiredFlag:!1,metaColumn:{}},c.setBinding=function(d){var e=c.state.epBinding=a.parseBinding(d),f=b.get(e.view);f&&f.columns&&f.columns[e.column]&&(c.state.metaColumn=f.columns[e.column]||{})},c.setLabel=function(){c.state.label=c.state.metaColumn.caption||c.label||c.state.epBinding.column||""},c.$watch("epBinding",function(a,b){void 0!==a&&a!==b&&c.setBinding(a)}),c.epBinding&&c.setBinding(c.epBinding),c.setLabel()}}}a.$inject=["epBindingService","epBindingMetadataService"],angular.module("ep.binding").directive("epBindingLabel",a)}(),function(){"use strict";function a(a,b,c){return{restrict:"E",templateUrl:"src/components/ep.binding/controls/ep-binding-pagination.html",scope:{epBinding:"="},link:function(d,e,f){function g(a){a&&a.hasData()?(d.view=a,d.record=a.dataRow(),d.totalItems=a.data().length,d.currentPage=a.row()+1,d.maxSize=10):(d.view=null,d.totalItems=0,d.currentPage=0)}d.state={},d.view=null,d.totalItems=0,d.currentPage=0,a.$on("EP_BINDING_VIEW_ADDED",function(a,b){d.state.epBinding&&b.viewId===d.state.epBinding.view&&g(c.current().view(d.state.epBinding.view))}),a.$on("EP_BINDING_VIEW_ROW_CHANGED",function(a,b){d.state.epBinding&&b.viewId===d.state.epBinding.view&&(d.currentPage=b.view.row()+1)}),a.$on("EP_BINDING_VIEW_ROW_ADDED",function(a,b){if(d.state.epBinding&&b.viewId===d.state.epBinding.view){var c=d.view;d.record=c.dataRow(),d.totalItems=c.data().length,d.currentPage=c.row()+1}}),d.$watch("epBinding",function(a,e){if(void 0!==a){d.state.epBinding=b.parseBinding(a);var f=c.current().view(d.state.epBinding.view);f&&g(f)}}),d.onPageChange=function(){d.view&&d.view.row(d.currentPage-1)}}}}a.$inject=["$rootScope","epBindingService","epTransactionFactory"],angular.module("ep.binding").directive("epBindingPagination",a)}(),function(){"use strict";function epBindingRecordEditorDirective($log,$location,epBindingFactory,epCustomizationService,epUtilsService,epBindingMetadataService){return{restrict:"E",templateUrl:"src/components/ep.binding/controls/ep-binding-record-editor.html",scope:{epBinding:"=",options:"=",isreadonly:"=",onInit:"="},link:function(scope,element,attrs){function setOptions(){if(void 0!==scope.options){if(scope.options.columnList&&!scope.options.columns){var columns=[],colNames=scope.options.columnList.split(","),meta=epBindingMetadataService.get(scope.epBinding);angular.forEach(colNames,function(a){var b={columnIndex:a,editor:"auto",updatable:!0};if(meta&&meta.columns&&meta.columns[a]){var c=meta.columns[a];epUtilsService.copyProperties(c,b),b.editor=c.editor||b.editor}columns.push(b)}),scope.options.columns=columns}if(scope.options.columns&&scope.options.columns.length){var customProps=epCustomizationService.getCustomization(scope.state.id);customProps&&(angular.forEach(customProps,function(v,n){var col=_.find(scope.options.columns,function(a){return a.columnIndex===n});if(col){var valid=v.validation;if(epUtilsService.copyProperties(v,col),valid){var xxx;try{var fff;eval("fff = function(ctx, ev, value) { "+valid+"}"),col.fnOnFldValidate=fff}catch(err){}}}else scope.options.columns.push(v)}),scope.state.factory&&scope.state.factory.draw())}}}return attrs.id?(scope.state={id:attrs.id},scope.epCustomizationInfo={kind:"ep-record-editor",id:scope.state.id,scope:scope,url:$location.url(),data:void 0,index:void 0,ctrl:{epBinding:scope.epBinding,factory:void 0},api:{onCustomizeActivate:function(a){scope.isCustomizeActive=a===!0,scope.activeClass=scope.isCustomizeActive?"ep-customize-active":"",scope.epCustomizationInfo.ctrl.factory.enableEditorsDrag(a,a)}}},scope.onInitThis=function(a){scope.state.factory=a,scope.epCustomizationInfo.ctrl.factory=a,scope.onInit&&scope.onInit(a)},void scope.$watch("options",function(a,b){setOptions()},!0)):void $log.warn("ep-binding-record-editor must have an id for customization")}}}epBindingRecordEditorDirective.$inject=["$log","$location","epBindingFactory","epCustomizationService","epUtilsService","epBindingMetadataService"],angular.module("ep.binding").directive("epBindingRecordEditor",epBindingRecordEditorDirective)}(),function(){"use strict";function a(a,b,c,d){function e(a){var e=[];f.meta.column="",f.meta.preview="",f.config.binding="["+a+"]",f.loadingColumns=!0,b(function(){var b=c.current().view(a),g=d.get(a);if(g&&g.columns&&angular.forEach(g.columns,function(a,b){e.push({label:b,value:b})}),b.hasData()){var h=b.dataRow();f.meta.preview=JSON.stringify(h,null,"    "),0==e.length&&angular.forEach(h,function(a,b){e.push({label:b,value:b})})}f.columns=e,f.columnList.list=f.columns,f.loadingColumns=!1})}var f=a;f.config||(f.config={binding:""}),f.views=[],f.columns=[],a.meta={view:"",column:"",preview:""};var g=c.current().views();angular.forEach(g,function(a){f.views.push({label:a,value:a})}),f.views.length&&(a.meta.view=f.views[0].value),f.viewList={caption:"View",name:"View",editor:"select",updatable:!0,list:f.views,sizeClass:"col-lg-12",fnOnChange:function(a,b){f.columns=[];var c=b.fnGetCurrentValue();e(c)}},f.columnList={caption:"Columns",name:"Columns",editor:"select",updatable:!0,list:void 0,sizeClass:"col-lg-12",fnOnChange:function(a,b){b.fnGetCurrentValue();f.config.binding="["+f.meta.view+"].["+f.meta.column+"]"}},f.columnBinding={caption:"ep-binding",sizeClass:"col-lg-12",editor:"text",updatable:!0,readonly:!0,placeholder:""},g.length&&e(g[0])}a.$inject=["$scope","$timeout","epTransactionFactory","epBindingMetadataService"],angular.module("ep.binding").controller("epBindingSelectorCtrl",a)}(),function(){"use strict";function a(a,b,c,d){return{restrict:"E",templateUrl:"src/components/ep.binding/controls/ep-binding-table.html",scope:{epBinding:"=",columns:"=",trackSelectedRow:"=",onSelectRow:"&",onDoubleClickRow:"&"},link:function(e,f,g){function h(){var a=d.getCustomization(e.state.id);angular.forEach(a,function(a,b){if(a.isCustom)e.state.columns.push(a);else if(a.hidden){var c=_.find(e.state.columns,function(a){return a.name===b});c&&(c.hidden=a.hidden)}else if(a.caption){var c=_.find(e.state.columns,function(a){return a.name===b});c&&(c.caption=a.caption)}})}function i(a){var b=[];return angular.forEach(e.state.columns,function(c){c.hidden!==!0&&b.push(a?c.caption:c.name)}),b.join(",")}function j(){e.headers=i(!0),e.dataColumns=i(!1)}e.epBindingInfo={value:void 0},e.state={id:g.id,data:void 0,columns:[]};var k=e.columns.split(",");angular.forEach(k,function(a){e.state.columns.push({name:a,caption:a})}),e.dblClickRow=function(a){e.onDoubleClickRow&&e.onDoubleClickRow({row:a})},e.$watch("epBinding",function(a,b){if(void 0!==a){var d={onViewReady:function(a){e.state.data=e.epBindingInfo.view.data(),e.ready=!0}};e.state.bindingFactory=new c(e,a,e.epBindingInfo,(!0),d),h(),j()}}),e.epCustomizationInfo={kind:"ep-table",id:e.state.id,scope:e,url:a.url(),data:void 0,index:void 0,ctrl:{epBinding:e.epBinding,factory:void 0,columns:e.state.columns},api:{onCustomizeActivate:function(a){e.isCustomizeActive=a===!0,e.activeClass=e.isCustomizeActive?"ep-customize-active":""},onColumnAdd:function(a){e.state.columns.push(a),j(),e.ready=!1,b(function(){e.ready=!0})},onColumnRemove:function(a){e.state.columns=_.without(e.state.columns,a),j(),e.ready=!1,b(function(){e.ready=!0})},onChange:function(a){j(),e.ready=!1,b(function(){e.ready=!0})}}}}}}a.$inject=["$location","$timeout","epBindingFactory","epCustomizationService"],angular.module("ep.binding").directive("epBindingTable",a)}(),function(){"use strict";function a(){function a(a,b,c,d){f.meta[a]={id:a,kind:b,columns:c||{},metadata:d||{}}}function b(a){return f.aliases[a]?f.meta[f.aliases[a]]:f.meta[a]}function c(a,b){f.aliases[b]=f.aliases[a]||a}function d(a){return a&&(f=angular.copy(a)),f}function e(){f={meta:{},aliases:{}}}var f={meta:{},aliases:{}};return{add:a,get:b,addAlias:c,data:d,clear:e}}angular.module("ep.binding").service("epBindingMetadataService",a)}(),function(){"use strict";function a(a){return{restrict:"A",require:"?ngModel",scope:!0,link:function(b,c,d,e){var f;e&&(b.epBindingInfo={value:void 0,kind:"ep-binding-model"},b.$watch(d.epBindingModel,function(c){void 0!==c&&(f?f.changeBinding(c):f=new a(b,c,b.epBindingInfo,(!1),{onValueChanged:function(a){b[d.ngModel]=a}}))}),e.$parsers.unshift(function(a){return b.epBindingInfo.value=a,a}))}}}a.$inject=["epBindingFactory"],angular.module("ep.binding").directive("epBindingModel",a)}(),function(){"use strict";function a(a,b){return{restrict:"E",replace:!1,scope:!0,compile:function(a,c){return{pre:function(a,d){var e;a.epBindingInfo={};var f=c.aliasView;a.$watch(c.epBinding,function(c){void 0!==c&&(e?e.changeBinding(c):(e=new b(a,c,a.epBindingInfo,(!1),{onRowChanged:function(b){a[f]=b}},(!0)),f=f||a.epBindingInfo.epBinding.view,a.epb=a.epBindingInfo,a["epb_"+f]=a.epBindingInfo,f&&(a[f]=a.epBindingInfo.record)))})}}}}}a.$inject=["$compile","epBindingFactory"],angular.module("ep.binding").directive("epBindingScope",a)}(),function(){"use strict";function a(a,b,c,d){var e=function(e,f,g,h,i,j){function k(f){function l(){o.epBinding.column&&(t.value=t.record[o.epBinding.column],s.onValueChanged&&s.onValueChanged(t.value))}function m(a){o.trackBufferRecord&&(t.rec=void 0,b(function(){t.rec=angular.extend({},a),s.onRowChanged&&s.onRowChanged(t.rec)}),p.bufferRecord||(p.bufferRecord=e.$watch("epBindingInfo.rec",function(a,b){if(a&&b&&a!==b)for(var c in a)a.hasOwnProperty(c)&&void 0!==a[c]&&(angular.equals(a[c],b[c])||t.view.columnValue(c,a[c]))},!0)))}function q(a){a&&a.hasData()&&(t.view=a,s.onViewReady&&s.onViewReady(a),a.hasData()&&r(a))}function r(a){t.record=a.dataRow(),m(t.record),!o.trackBufferRecord&&s.onRowChanged&&s.onRowChanged(t.record),l()}var s=i||{};o={trackBufferRecord:j,scope:e,binding:f,epBinding:c.parseBinding(f),bi:{}};var t=o.bi=g||e.epBindingInfo||{};t.epBinding=o.epBinding,t.columnName=o.epBinding.column,t.viewId=o.epBinding.view,t.view=void 0,t.record=void 0,t.rec=void 0,t.value=void 0,t.rowCount=function(){return t.view&&t.view.hasData()?t.view.data().length:0},t.trx=d.current();var u=d.current().view(o.epBinding.view);p.main||(p.main=a.$on("EP_BINDING_VIEW_ADDED",function(a,c){c.viewId===o.epBinding.view&&("RELOAD"===c.action?(n(),b(function(){k(o.binding)})):q(d.current().view(o.epBinding.view)))})),u&&q(u),p.onViewRowChanged=a.$on("EP_BINDING_VIEW_ROW_CHANGED",function(a,b){b.viewId===o.epBinding.view&&r(b.view)}),o.epBinding.column&&(h!==!0&&(p.bindingValue=e.$watch("epBindingInfo.value",function(a,b){a!==b&&t.record&&o.epBinding.column&&t.view.columnValue(o.epBinding.column,a)})),p.bindingRecord=e.$watch("epBindingInfo.record."+o.epBinding.column,function(a,b){a!==b&&t.record&&o.epBinding.column&&t.record[o.epBinding.column]!==t.value&&l()}))}function l(a){n(),k(a)}function m(){return o.epBinding}function n(){angular.forEach(p,function(a){a()})}var o,p={};return k(f),{epBinding:m,changeBinding:l,freeze:n}};return e}a.$inject=["$rootScope","$timeout","epBindingService","epTransactionFactory"],angular.module("ep.binding").factory("epBindingFactory",a)}(),function(){"use strict";angular.module("ep.binding").filter("epBinding",["epBindingFactory","$log","$rootScope",function(a,b,c){var d="___epBindings",e=function(b,e){e[d]||(e[d]={});var f=e[d][b];return f||(f={column:b,epBindingInfo:{kind:"ep-binding-filter",value:void 0}},e[d][b]=f,f.tempScope=e.$new(!1,e),f.bindingFactory=new a(e,b,f.epBindingInfo,(!0),{onValueChanged:function(a){f.value=a}}),f.eventColumn=c.$on("EP_BINDING_COLUMN_VALUE_CHANGED",function(a,b){b.viewId===f.epBindingInfo.epBinding.view&&(f.epBindingInfo.value=b.newValue)}),f.tempScope.$on("$destroy",function(){f.eventColumn()})),f.epBindingInfo.value};return e}])}(),function(){"use strict";function a(a,b,c,d,e){function f(a){c.showCustomDialog({title:"Data Binding",templateUrl:"src/components/ep.binding/controls/ep-binding-selector.html",icon:"fa fa-cogs fa-2x",binding:"",buttons:[{text:"Ok",action:function(b){a&&a(b.binding)}},{text:"Cancel",isCancel:!0}]})}function g(a){var b;if(!a)return b;if(angular.isString(a)){var c=a.trim();if(b={view:c,column:""},0===c.indexOf("[")&&c.lastIndexOf("]")===c.length-1){var d=c.match(/\[(.*?)\]/g);d.length>1?b={view:d[0].replace("[","").replace("]",""),column:d[1].replace("[","").replace("]","")}:1===d.length&&(b.view=d[0].replace("[","").replace("]",""))}else{var e=c.split(".");e.length&&(b={view:e[0],column:e[1]})}}else b=a;return b}function h(c){c&&!i.onViewRowChanged&&(i.onViewRowChanged=a.$on("EP_BINDING_COMMIT",function(a,c){b.warn("[EP_BINDING_COMMIT] ViewId:"+c.viewId)}),i.onViewRowChanged=a.$on("EP_BINDING_ROLLBACK",function(a,c){b.warn("[EP_BINDING_ROLLBACK] ViewId:"+c.viewId)}),i.onViewRowChanged=a.$on("EP_BINDING_VIEW_ADDED",function(a,c){var d=e.current().view(c.viewId),f="ViewId:"+c.viewId+";Row:"+d.row()+";Count:"+(d.data()?d.data().length:0)+";Action:"+c.action;b.warn("[EP_BINDING_VIEW_ADDED] "+f)}),i.onViewRowChanged=a.$on("EP_BINDING_VIEW_ROW_CHANGED",function(a,c){b.warn("[EP_BINDING_VIEW_ROW_CHANGED] ViewId:"+c.viewId+";Row:"+c.view.row()+";PrevRow:"+c.prevRow)}),i.onViewRowChanged=a.$on("EP_BINDING_COLUMN_VALUE_CHANGED",function(a,c){var d=e.current().view(c.viewId),f=d.__state,g="ViewId:"+c.viewId+";Row:"+c.row+";Orig. Value:"+(c.originalValue||"")+";Old Value:"+c.oldValue+";New value:"+c.newValue+";isDirty:"+d.isDirty()+";hasModified:"+d.hasModified()+";Modified rows:"+Object.keys(f.modifiedRows).length;b.warn("[EP_BINDING_COLUMN_VALUE_CHANGED] "+g),angular.forEach(f.modifiedRows,function(a){b.info("  row:"+a+";state:"+f.modified[a].state+";columns:"+JSON.stringify(f.modified[a].columns))})})),c||angular.forEach(i,function(a){a()})}var i={};return{selectBinding:f,parseBinding:g,logBindingEvents:h}}a.$inject=["$rootScope","$log","epModalDialogService","epUtilsService","epTransactionFactory"],
angular.module("ep.binding").service("epBindingService",a)}(),function(){"use strict";function a(a,b){var c=function(c,d){function e(a,c,d){A.id=a,A.data=c,A.row=A.data&&A.data.length?0:-1,A.original=b.merge([],A.data),f()}function f(){A.isDirty=!1,A.modifiedRows={},A.addedRows={},A.hasModified=!1,A.hasAdded=!1,A.modified=Array(A.data.length)}function g(){return A.id}function h(){return A.data}function i(){return A.row<0||!A.data||A.data.length<1||A.row>A.data.length?null:A.data[A.row]}function j(){return A.data&&A.data.length}function k(b){if(void 0!==b){var c=A.row;A.row=b,a.$emit("EP_BINDING_VIEW_ROW_CHANGED",{viewId:A.id,view:this,prevRow:c})}return A.row}function l(b,c){angular.isArray(A.data)||(A.data=[]),A.data.push(b);var d=A.data.length-1;return A.addedRows[d]=d,A.hasAdded=!0,a.$emit("EP_BINDING_VIEW_ROW_ADDED",{viewId:A.id,view:this,row:d}),c===!0&&this.row(d),d}function m(b,c){var d=A.data[A.row];if(arguments.length>1){var e=d[b];if(d[b]!==c){d[b]=c,A.isDirty=!0;var f="",g=A.row;if(void 0===A.addedRows[g]){var h=A.modified[g]||{state:"M",columns:{}};f=A.original[g][b],Object.keys(h.columns).length>0&&d[b]===f?delete h.columns[b]:h.columns[b]=c,h.state=Object.keys(h.columns).length>0?"M":"",A.modified[g]=""===h.state?void 0:h,A.modifiedRows[g]=g,""===h.state&&delete A.modifiedRows[g],A.hasModified=Object.keys(A.modifiedRows).length>0}a.$emit("EP_BINDING_COLUMN_VALUE_CHANGED",{viewId:A.id,row:A.row,newValue:c,oldValue:e,Value:f})}}return d[b]}function n(){A.data=b.merge([],A.original),f(),a.$emit("EP_BINDING_ROLLBACK",{viewId:A.id})}function o(){A.original=b.merge([],A.data),f(),a.$emit("EP_BINDING_COMMIT",{viewId:A.id})}function p(){return A.hasModified}function q(){return A.isDirty}function r(){var a=[];return angular.forEach(Object.keys(A.modifiedRows),function(b){a.push(A.data[b])}),a}function s(a){var b=void 0==a?A.row:a;return void 0!==A.modified[b]&&"M"===A.modified[b].state}function t(){var a=[];return angular.forEach(Object.keys(A.addedRows),function(b){a.push(A.data[b])}),a}function u(){var a=r().concat(t());return a}function v(){return A.hasAdded}function w(){return A.hasAdded||A.hasModified}function x(a,b){for(var c=0;A.data.length;c++){var d=A.data[c];if(a(d))return b&&this.row(c),d}}function y(a,c){return a&&(c===!0?b.merge(a,A.userData):A.userData=a),A.userData}function z(a){e(this.id(),a,!0)}var A={userData:{}};return e(c,d),{__state:A,id:g,reload:z,data:h,dataRow:i,row:k,columnValue:m,addRow:l,isDirty:q,hasData:j,hasModified:p,hasAdded:v,hasChanges:w,modifiedRows:r,addedRows:t,changedRows:u,rowModified:s,findRow:x,rollback:n,commit:o,userData:y}};return c}a.$inject=["$rootScope","epUtilsService"],angular.module("ep.binding").factory("epDataViewFactory",a)}(),function(){"use strict";function a(a,b,c){function d(a){return new g(a)}function e(){return f||(f=d("default")),f}var f,g=function(d){function e(){return m}function f(c,d){var e="CREATE",f=this.view(c);return f?(f.reload(d),e="RELOAD"):f=n[c]=new b(c,d),a.$emit("EP_BINDING_VIEW_ADDED",{viewId:c,action:e}),f.data()&&f.data().length&&a.$emit("EP_BINDING_VIEW_ROW_CHANGED",{viewId:f.id(),view:f}),n[c]}function g(a){return n[a]}function h(){var a=[];return angular.forEach(n,function(b,c){a.push(c)}),a}function i(){var a=[];return angular.forEach(n,function(a){a.rollback()}),a}function j(a,b,d){var e=this.view(a);if(e){if(d||(d={}),"data"===d.data)this.add(b,e.data());else if("record"===d.data){var f=e.dataRow();this.add(b,f?[f]:[])}else"none"===d.data?this.add(b,[]):this.add(b,[]);var g=c.get(a);g&&c.addAlias(a,b)}}function k(a){this.view(a)&&delete n[a]}function l(){n={}}var m=d,n={};return{id:e,add:f,clone:j,remove:k,clear:l,view:g,views:h,rollback:i}};return{current:e,newTransaction:d}}a.$inject=["$rootScope","epDataViewFactory","epBindingMetadataService"],angular.module("ep.binding").factory("epTransactionFactory",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a){return angular.isFunction(a)?a.apply(null):a}function h(a){return a=g(a),r[a]=r[a]||{},r[a]}function i(c,d,e,f){var i=h(c);d=g(d);var l=b.defer();if(f)j(l,d,null,e);else{var m=i[d];m?(a.debug('Resolving service call data from cache "'+c+'" for key "'+d+'".'),l.resolve(m)):k(d).then(function(b){b?(i[d]=b,a.debug('Resolving service call data from persistent cache "'+c+'" for key "'+d+'".'),l.resolve(b)):(a.debug('Cached record "'+d+'" not found in persistent cache'),j(l,d,c,e))},function(){a.debug('An error occurred while retrieving cached record for key: "'+d+'".'),j(l,d,c,e)})}return l.promise}function j(b,c,d,e){function f(a){return d&&q(d,c,a),a}a.debug('Invoking service call for key "'+c+'".');var g=e(c);g.then?g.then(function(a){b.resolve(f(a))},function(d){a.warn('An error occurred while invoking service call with key "'+c+'". '+d),b.reject(d)}):b.resolve(f(g))}function k(a){return d.openDatabase("ep-cache-db",1).then(function(b){var c=b.getObjectStore("ep-cache");return c.get(a).then(function(a){return a&&a.value})})}function l(a,b,c){var e={key:a,cacheId:b,value:c};return d.openDatabase("ep-cache-db",1).then(function(a){var b=a.getObjectStore("ep-cache");return b.put(e)})}function m(){Object.keys(r).forEach(function(a){n(a)}),d.deleteDatabase("ep-cache-db")}function n(b){b=g(b),r[b]&&(delete r[b],a.debug('Cache "'+b+'" deleted from memory cache.')),d.openDatabase("ep-cache-db",1).then(function(d){d.getObjectStore("ep-cache").deleteByIndex("cacheId",b),c.$emit(e.SHELL_CACHE_DELETED_EVENT,{cacheId:b}),a.debug('Cache "'+b+'" deleted from database cache.')})}function o(b,f){var i=h(b);f=g(f),i&&i[f]&&delete i[f],d.openDatabase("ep-cache-db",1).then(function(b){b.getObjectStore("ep-cache")["delete"](f),a.debug('Value with key "'+f+'" deleted from database.')}),c.$emit(e.SHELL_CACHE_DATA_DELETED_EVENT,{cacheId:g(b),key:f})}function p(a,b,c){var d=h(a),e=d[b];return angular.isUndefined(e)&&(e=d[b]=c),e}function q(b,d,i){if(f.options.enableCache){var j=h(b);d=g(d),j[d]=i,l(d,b,i).then(function(){a.debug('Cached value with key:"'+d+'" in cache: "'+b+'".'),c.$emit(e.SHELL_DATA_CACHED_EVENT,{cacheId:g(b),key:d,data:i})},function(b){a.warn("Unable to open cache database: "+b)})}}var r={};return d.createSchema("ep-cache-db").defineVersion(1,function(a){var b=a.createObjectStore("ep-cache",{keyPath:"key"});b.createIndex("cacheId","cacheId",{unique:!1})}),{cacheServiceCall:i,deleteAllCaches:m,deleteCache:n,deleteCacheKey:o,getCachedData:p,cacheData:q}}a.$inject=["$log","$q","$rootScope","epIndexedDbService","epShellConstants","epShellConfig"],angular.module("ep.cache").service("epCacheService",a)}();var app=angular.module("ep.card");app.directive("epCard",function(){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"src/components/ep.card/ep-card-template.html"}}),app.directive("epCardBlock",function(){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"src/components/ep.card/ep-card-block-template.html",link:function(a,b,c){"true"===c.contrast&&(b[0].className=b[0].className+" card-block-contrast")}}}),app.directive("epCardTitle",function(){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"src/components/ep.card/ep-card-title-template.html"}}),function(){"use strict";function a(a,b,c,d,e,f){function g(a){return q[a]||p}function h(a){return angular.element(a.state.chartElement).width()}function i(a){var b=angular.element(a.state.theElement),c=$(window).height()-b.offset().top,d=a.settings.height;if("view"===d||void 0===d){var e=angular.element("#viewContainer");e.length&&(c=e.height()-b.offset().top)}else if(angular.isNumber(d))c=d;else if(angular.isFunction(d))c=d();else if(angular.isString(d)||d instanceof HTMLElement){var f=$(d);f.length&&(c=f.outerHeight(!0))}var g=a.settings.showOptions!==!1?-25:30;return g=angular.isFunction(a.settings.heightOffset)?a.settings.heightOffset(c):a.settings.heightOffset?a.settings.heightOffset:g,c+=g}function j(a,b){var d=i(a),e=angular.element(a.state.chartElement);e&&e.length&&e.height(d),b&&a.state.chart&&(a.state.chart.resize({height:d}),c.$emit(f.CHART_HAS_RESIZED_EVENT,{settings:a.settings,id:a.state.chartId})),a.state.chartHeight=d,a.state.chartWidth=e.width()}function k(c){var e=function(){$(c.state.theElement).is(":visible")?l(c):b(function(){e(c)},200)};try{e()}catch(f){a.error(f),d.hideProgressIndicator()}}function l(a){function b(a){if(0===a.index)return 0;var b=0;angular.forEach(c.data.yValues,function(c){b+=c[a.index+1]});var d=a.value/b*30;return d<2&&(d=2),Math.round(d)}a.menuLegends=void 0,d.showProgressIndicator();var c=a.settings;j(a,!1);var e=140,f="date"===c.xAxis.type,h=g(c.chartType),i=c.data.yValues&&c.data.yValues.length>1;a.state.chartType=h,a.state.optStackedDisplay=c.stacked!==!1&&i&&h.stackable,a.state.optDataFmtDisplay="pie"===h.category,a.state.optZoomDisplay=c.zoom!==!1&&"pie"!==h.category&&!h.rotated,a.state.legendSupported=c.legend!==!1&&(h.legend===!0||i),a.state.optLegendListDisplay=a.state.optLegendDisplay=a.state.legendSupported;var k="pie"===h.category?a.settings.data.xValues.length:a.settings.data.yValues.length;a.state.criteriaHideLegend=a.settings.autoHideLegends!==!1&&(k>50||a.state.chartHeight<t),a.state.criteriaHideLegend&&(a.state.optLegend=!1,a.state.optLegendDisplay=!1);var l;!i&&h.color&&(l=function(a,b){return r[b.index%r.length]});var n,o=[];if("pie"===h.category){if(o=c.data.xValues,f){var p=!1;c.data.xValues.length<=1?p=!0:(angular.isDate(c.data.xValues[0][0])||angular.isDate(c.data.xValues[1][0]))&&(p=!0),p&&(o=[],angular.forEach(c.data.xValues,function(a){if(angular.isDate(a[0])){var b=moment(a[0]).format("YYYY, MMMM DD");o.push([b,a[1]])}else o.push(a)}))}}else if("LineAndBarChart"===h.value&&c.data.yValues.length>=2){var q=c.data.yValues[0][0];n={},n[q]="line",o.push(c.data.yValues[0]),o.push(c.data.yValues[1])}else angular.forEach(c.data.yValues,function(a){o.push(a)});var u;if(f)e=80,u="%Y-%m-%d","year"===c.dateUnit?u="%Y":"month"===c.dateUnit&&(u="%Y-%m");else{if("pie"!==h.category){var v=_.find(c.data.xValues,function(a){return(a?a.length:0)>15});v||(e=100),a.state.chartHeight<200&&(e=80)}u=function(b){var d=a.state.chartHeight<200?10:20,e=c.data.xValues[b+1];return e&&e.length>d&&(e=e.substring(0,d)+"..."),e}}var w,x=f&&"pie"!==h.category?"timeseries":"category";"timeseries"===x&&(o.push(c.data.xValues),w=c.data.xValues[0]);var y;"BubbleChart"===h.value&&(y={r:i?b:15});var z={bindto:a.state.chartElement[0],data:{x:w,columns:o,type:h.ctype,types:n,color:l},point:y,axis:{rotated:h.rotated===!0,x:{type:x,tick:{rotate:75,multiline:!1,format:u},height:e,label:{text:c.xAxis.label,position:h.rotated!==!0?"outer-center":"outer-middle"}},y:{label:{text:c.yAxis.label,position:h.rotated!==!0?"outer-middle":"outer-center"}}},bar:{width:{ratio:.8}},pie:{label:{format:function(b,c){return"percent"===a.state.optDataFmt?(100*c).toFixed(2)+"%":b}}},donut:{label:{format:function(b,c){return"percent"===a.state.optDataFmt?(100*c).toFixed(2)+"%":b}}},grid:{x:{show:!1},y:{show:!0}},legend:{show:a.state.legendSupported&&a.state.optLegend},zoom:{enabled:a.state.optZoomDisplay&&a.state.optZoom},subchart:{show:a.state.optZoomDisplay&&a.state.optZoom&&a.state.chartHeight>s},onrendered:function(){m(a)}};a.state.chart=c3.generate(z)}function m(a){b(function(){a.state.whenRendered=new Date,d.hideProgressIndicator()})}function n(a){a.state.$chartElement.is(":visible")&&(b.cancel(a.state.timeoutResize),a.state.timeoutResize=b(function(){var b=!1,c=h(a);Math.abs(c-a.state.chartWidth)>20&&(a.state.chartWidth=c,b=!0);var d=i(a);Math.abs(d-a.state.chartHeight)>20&&(b=!0),b&&a.checkShowLegendOption(),j(a,!0)},250))}function o(a,g){a.state={theElement:g,chartElement:angular.element(g).find("#chartc3"),$chartElement:angular.element(angular.element(g).find("#chartc3")),chart:null,chartId:a.settings.id||a.$id,chartHeight:-1,selectAllLegend:!0,optStacked:"grouped",optStackedDisplay:!1,optLegendListDisplay:!1,optLegendDisplay:!1,optLegend:!0,optDataFmtDisplay:!1,optDataFmt:"percent",optZoomDisplay:!1,optZoom:!1},a.$watch("settings",function(b){b&&(a.optZoom=!1,k(a))}),a.fnOptStackedChanged=function(){var b=[];"stacked"===a.state.optStacked&&angular.forEach(a.state.chart.data(),function(a){b.push(a.id)}),a.state.chart.groups([b])},a.fnOptLegendChanged=function(b){a.state.optLegend=!a.state.optLegend,d.showProgressIndicator(),a.state.optLegend?a.state.chart.legend.show():a.state.chart.legend.hide(),b||(a.state.previousOptLegend=!1)},a.fnOnLegendList=function(){if(void 0===a.menuLegends){a.menuLegends=[];var b=[],c=a.state.chart.data.colors();angular.forEach(a.state.chart.data(),function(a){b.push({id:a.id,caption:a.id,checked:!0,color:c[a.id]+"",style:{backgroundColor:c[a.id].toString()}})}),a.menuLegends=b,a.updateMenuLegendState()}else a.state.whenRendered>a.state.whenMenuLegendState&&a.updateMenuLegendState()},a.fnOnLegendChanged=function(b){b.checked=!b.checked,a.state.chart.toggle(b.id)},a.fnLegendSelectAllChanged=function(){var b=[];angular.forEach(a.menuLegends,function(c){b.push(c.id),c.checked=a.state.selectAllLegend}),a.state.selectAllLegend?a.state.chart.show(b):a.state.chart.hide(b)},a.updateMenuLegendState=function(){a.menuLegends&&(angular.forEach(a.menuLegends,function(b){b.checked=a.state.chart.internal.isTargetToShow(b.id)}),a.state.whenMenuLegendState=new Date)},a.fnOptDataFmtChanged=function(){a.state.chart.show()},a.fnOptZoomChanged=function(){a.state.chart.destroy(),k(a),a.state.optZoomTip=a.state.chartHeight>s,a.state.optZoomTip&&b(function(){a.state.optZoomTip=!1},7e3)},a.checkShowLegendOption=function(){if(a.state.legendSupported&&a.settings.autoHideLegends!==!1){var b="pie"===a.state.chartType.category?a.settings.data.xValues.length:a.settings.data.yValues.length;a.state.criteriaHideLegend=b>50||a.state.chartHeight<t,a.state.criteriaHideLegend?(a.state.optLegendDisplay=!1,a.state.optLegend&&(a.state.previousOptLegend=!0,a.fnOptLegendChanged(!0))):(a.state.optLegendDisplay=!0,!a.state.optLegend&&a.state.previousOptLegend&&a.fnOptLegendChanged(!0),a.state.previousOptLegend=!1)}},d.registerViewEvent("ep-resize-chart"+a.$id,e.SHELL_SIZE_CHANGE_EVENT,function(){n(a)}),c.$on(f.CHART_RESIZE_EVENT,function(b){!angular.isString(b)||b&&b!==a.state.chartId||n(a)})}var p={ctype:"bar"},q={LineChart:_.extend(_.clone(p),{name:"Line",value:"LineChart",ctype:"line"}),SplineChart:_.extend(_.clone(p),{name:"Spline",value:"SplineChart",ctype:"spline"}),ScatterChart:_.extend(_.clone(p),{name:"Scatter",value:"ScatterChart",ctype:"scatter"}),BubbleChart:_.extend(_.clone(p),{name:"Bubble",value:"BubbleChart",ctype:"scatter",point:!0,color:!0}),StackedAreaChart:_.extend(_.clone(p),{name:"Stacked Area",value:"StackedAreaChart",ctype:"area-spline",isStacked:!0,isArea:!0,stackable:!0}),ColumnChart:_.extend(_.clone(p),{name:"Column",value:"ColumnChart",ctype:"bar",color:!0,stackable:!0}),HorizontalBarChart:_.extend(_.clone(p),{name:"Horizontal Bar",value:"HorizontalBarChart",ctype:"bar",rotated:!0,color:!0,stackable:!0}),LineAndBarChart:_.extend(_.clone(p),{name:"Line and Bar",value:"LineAndBarChart",ctype:"bar"}),PieChart:_.extend(_.clone(p),{name:"Pie",value:"PieChart",ctype:"pie",legend:!0,category:"pie"}),DoughnutChart:_.extend(_.clone(p),{name:"Doughnut",value:"DoughnutChart",ctype:"donut",legend:!0,category:"pie"})},r=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],s=400,t=350;return{restrict:"E",replace:!0,templateUrl:"src/components/ep.chart/ep-chart-c3.html",scope:{settings:"="},compile:function(){return{pre:angular.noop,post:o}}}}a.$inject=["$log","$timeout","$rootScope","epShellService","epShellConstants","epChartConstants"],angular.module("ep.chart").directive("epChartC3",a)}(),function(){"use strict";angular.module("ep.chart").constant("epChartConstants",{CHART_RESIZE_EVENT:"EP_CHART_RESIZE_EVENT",CHART_HAS_RESIZED_EVENT:"EP_CHART_HAS_RESIZED_EVENT"})}(),function(){"use strict";function a(){return{restrict:"EA",replace:!0,scope:{ngModel:"=",position:"@",size:"@",closeOnSelect:"@",width:"@",applyColorToBtn:"@",icon:"@"},templateUrl:"src/components/ep.color.selector/color_selector.html"}}angular.module("ep.color.selector").directive("epColorSelector",a)}(),function(){"use strict";angular.module("ep.color.tile").directive("epColorTile",function(){return{restrict:"E",scope:{title:"@",description:"@",fineprint:"@",icon:"@",color:"@",colorclass:"@"},templateUrl:"src/components/ep.color.tile/ep-color-tile.html"}})}(),function(){"use strict";angular.module("ep.console").provider("epConsoleConfig",function(){var a={};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.console",a),a}]})}(),function(){"use strict";function a(a,b){function c(){a.getInstance=function(b){return{log:d(a.log,b,"info"),info:d(a.info,b,"info"),warn:d(a.warn,b,"warning"),debug:d(a.debug,b,"debug"),error:d(a.error,b,"error")}},a.log=d(a.log,"","info"),a.info=d(a.info,"","info"),a.warn=d(a.warn,"","warning"),a.debug=d(a.debug,"","debug"),a.error=d(a.error,"","error")}function d(a,b,c){return function(){var d=[].slice.call(arguments),e=moment().format();a.apply(null,d),k.push({message:d[0],type:c,timestamp:e,context:b})}}function e(){k.length=0}function f(c){var d;if(angular.module("ep.datagrid")&&(d=b.getService("epDataGridService")),!d)return void a.warn("ep.datagrid module is not available for console. Verify that it is included");var f={size:"fullscreen",windowClass:"ep-console-dialog",title:"Console log output",icon:"fa fa-cogs fa-2x",buttons:[{isCancel:!1,id:"clear_btn",value:"clear",text:"Clear logs",action:function(){e()}},{isDefault:!1,text:"Ok",type:"primary"}]};b.copyProperties(c,f);var h={FormatString:"MM/DD/YY hh:mm:ss"},i={metadata:{columns:[{sName:"icon",sTitle:"",width:10,orderable:!1,align:"center"},{mData:0,sName:"message",sTitle:"Message"},{mData:1,sName:"type",sTitle:"Type",widthFactor:.6},{mData:2,sName:"timestamp",sTitle:"TimeStamp",sDataType:"DateTime",oFormat:h},{mData:3,sName:"context",sTitle:"Context"}]},fnOnRenderGridCell:function(a,b,c,d,e,f){var g=f;return e&&e.userColumnDef&&"icon"===e.sName&&(g="error"===c[1]?"<div class='fa fa-lg fa-exclamation-circle ep-console-error'></div>":"warning"===c[1]?"<div class='fa fa-lg fa-exclamation-circle ep-console-warning'></div>":"<div class='fa fa-lg fa-info ep-console-info'></div>"),g}},j=g().map(function(a){return _.values(a)});d.showGridDialog(f,i,j)}function g(){return k}function h(a){k=a}function i(){return g().length>0}function j(){}var k=[];return c(),{initialize:j,messages:g,restoreLog:h,hasLog:i,clearLog:e,showLog:f}}a.$inject=["$log","epUtilsService"],angular.module("ep.console").service("epConsoleService",a)}(),function(){"use strict";angular.module("ep.contacts.list").constant("epContactsListConstants",{CONTACTS_LIST_INDEXES:"#ABCDEFGHIJKLMNOPQRSTUVWXYZ",CONTACTS_LIST_INDEXES_SMALL:"#A.E.H.L.O.S.V.Z",CONTACTS_LIST_INDEXES_BREAKPOINT:430,CONTACTS_LIST_INDEXES_HIDDEN_BREAKPOINT:180})}(),function(){"use strict";function a(a,b,c,d){return{restrict:"EA",replace:!0,scope:{data:"=",handler:"&",mainTitle:"@",id:"@",filter:"&",sort:"&",add:"&",subTitle:"@",additionalTitle:"@",groupBy:"@"},templateUrl:"src/components/ep.contacts.list/contacts_list.html",link:function(b){"true"==b.groupBy?b.nameList=c.getGroupedList(b.data,b.mainTitle):b.nameList=b.data,b.filterVal=[],b.items={count:0},b.indexKeys=d.CONTACTS_LIST_INDEXES,b.smallIndexKeys=d.CONTACTS_LIST_INDEXES_SMALL,b.setTitles=b.subTitle.split(" "),$(window).resize(function(){c.toggleIndexes()}),c.toggleIndexes(),b.getDetails=function(a){return a},b.$watch("contactListSearch",function(c){var d=a("filter")(b.data,c);b.items.count=d.length}),b.goToLink=function(a,c){var d=$(".ep-contacts-list");if("."!==a){a="#"===a?"1":a;var e=$("#list-group-"+a);e.length&&d.animate({scrollTop:e.offset().top-d.offset().top+d.scrollTop()-90})}else for(var f=b.smallIndexKeys[c-1],g=b.smallIndexKeys[c+1],h=b.indexKeys.substring(b.indexKeys.indexOf(f)+1,b.indexKeys.indexOf(g)),i=0;i<h.length;i++){var e=$("#list-group-"+h[i]);if(e.length){d.animate({scrollTop:e.offset().top-d.offset().top+d.scrollTop()-90});break}}}}}}a.$inject=["$filter","$timeout","epContactsListService","epContactsListConstants"],angular.module("ep.contacts.list").directive("epContactsList",a)}(),function(){"use strict";function a(a,b,c){function d(a,b){for(var c=_.sortBy(a,function(a){return a[b].toLowerCase()}),d={},e=[],f="",g="",h=0;h<c.length;h++)f=c[h][b].substring(0,1).toUpperCase(),isNaN(f)||(f="#"),f!==g&&""!==g&&(d[g]=e,e=[]),e.push(c[h]),h===c.length-1&&(d[f]=e,e=[]),g=f;return d}function e(){b(function(){var a=$(".ep-contacts-list").height(),b=0,d=0;a<c.CONTACTS_LIST_INDEXES_HIDDEN_BREAKPOINT?$(".ep-index-list").hide():a<c.CONTACTS_LIST_INDEXES_BREAKPOINT?($(".ep-index-list.large-index-list").hide(),$(".ep-index-list.small-index-list").show(),b=$(".ep-index-list.small-index-list li").length):($(".ep-index-list.small-index-list").hide(),$(".ep-index-list.large-index-list").show(),b=$(".ep-index-list.large-index-list li").length),d=parseInt(a/b),$(".ep-index-list li").css("line-height",d+"px")})}return{getGroupedList:d,toggleIndexes:e}}a.$inject=["$filter","$timeout","epContactsListConstants"],angular.module("ep.contacts.list").factory("epContactsListService",a)}(),function(){"use strict";function a(a,b,c,d,e,f){return{restrict:"A",scope:{epCustomData:"="},link:function(a,b,f){a.state={scope:a,id:f.id,element:b},a.epCustomizationInfo={kind:"ep-customizable-freeform",element:a.state.element,id:a.state.id,scope:a,parentScope:a.$parent,url:d.url(),data:a.epCustomData,index:a.$parent.$index,isCustomizeActive:!1,api:{onCustomizeActivate:function(b){a.epCustomizationInfo.isCustomizeActive=b===!0,a.activeClass=a.epCustomizationInfo.isCustomizeActive?"ep-customize-active":"",$(a.state.element).removeClass("ep-customize-active").addClass(a.activeClass)}}};var g=e.getCustomization(a.state.id);if(g){var h=angular.element(a.state.element),i=angular.element('<ep-customization-container ep-customization-info="epCustomizationInfo"></ep-customization-container>');angular.element(h).append(c(i)(a))}}}}a.$inject=["$log","$timeout","$compile","$location","epCustomizationService","epBindingService"],angular.module("ep.customization").directive("epCustomizable",a)}(),function(){"use strict";function epCustomizationContainerDirective($log,$timeout,epCustomizationService,epBindingService){return{replace:!0,restrict:"E",templateUrl:"src/components/ep.customization/ep-customization-container.html",scope:{epCustomizationInfo:"="},link:function(scope,element,attrs){scope.state={element:element,style:"",controls:[]};var cProps=epCustomizationService.getCustomization(scope.epCustomizationInfo.id);if(cProps){if(cProps.$container){if(scope.state.style=cProps.$container.style,scope.state.style)try{eval("scope.state.style = "+scope.state.style)}catch(err){$log.error("error during execution of customization style for "+scope.epCustomizationInfo.id)}if(scope.state.script=cProps.$container.script,scope.state.script)try{var f=new Function(scope.state.script);f()}catch(err){$log.error("error during execution of customization script for "+scope.epCustomizationInfo.id+"\nerror:"+err.message)}}var iSeqMax=0;angular.forEach(cProps,function(a,b){if(b&&"$container"!==b){var c={id:"ep-custom_"+a.id,props:a};scope.state.scope;if("html"===a.controlKind)c.type="html",c["class"]="col-xs-12 col-sm-8 col-md-6 col-lg-3";else if("editor"===a.controlKind&&a.binding)if(0!==a.binding.indexOf("$custom-data."))c.type="binding-editor",c.binding=a.binding;else if(scope.epCustomizationInfo.data){c.type="editor-control",c.binding=a.binding.replace("$custom-data.","epCustomizationInfo.data."),c.columnName=a.binding.replace("$custom-data.","");var d=a.binding.replace("$custom-data.","");c.data=scope.epCustomizationInfo.data[d]}c.type&&(void 0!==a.seq?c.seq=a.seq:c.seq=iSeqMax+1,c.seq>iSeqMax&&(iSeqMax=c.seq),c.props.sizeClassTarget=".ep-custom-element",scope.state.controls.push(c))}}),scope.orderByControls=function(a){return a.seq},scope.handleDrop1=function(a,b){if(a&&a.dragItem&&b){var c=a.dragItem,d=$(b).attr("id"),e=_.find(scope.state.controls,function(a){return a.id===d});e&&(c.seq>=e.seq?(c.seq=e.seq,angular.forEach(scope.state.controls,function(a){a.seq>e.seq&&a.seq++}),e.seq++):(angular.forEach(scope.state.controls,function(a){a.seq<e.seq&&a.seq--}),c.seq=e.seq-1),angular.forEach(scope.state.controls,function(a){a.props.seq=a.seq}))}scope.$apply()}}}}}epCustomizationContainerDirective.$inject=["$log","$timeout","epCustomizationService","epBindingService"],angular.module("ep.customization").directive("epCustomizationContainer",epCustomizationContainerDirective)}(),function(){"use strict";function a(a,b,c,d,e){return{replace:!1,restrict:"E",scope:{customizationData:"="},templateUrl:"src/components/ep.customization/ep-customization-eptable.html",link:function(a,b){function f(){a.customization&&a.customization.api.onCustomizeActivate(!1),i=void 0,a.customization=null,a.column={},a.loadingColumns=!0,c(function(){if(j=[],a.customization=a.customizationData.customization,a.customization.ctrl.epBinding){var b=d.getView(a.customization.ctrl.epBinding);b.api().hasData()&&(i=b.api().dataRow(),angular.forEach(i,function(a,b){j.push({label:b,value:b})}))}a.changes=e.getCustomization(a.customization.id)||{},a.columnList={caption:"Columns",name:"Columns",editor:"select",updatable:!0,list:j,sizeClass:"col-lg-12",fnOnChange:function(b,c){a.column.name=c.fnGetCurrentValue(),a.curColCtx=_.find(a.customization.ctrl.columns,function(b){return b.name===a.column.name}),a.curColCtx?a.curColProps={hidden:a.curColCtx.hidden===!0,caption:a.curColCtx.caption,readonly:!1}:a.curColProps={hidden:!1,caption:a.column.name,readonly:!1}}},g(),a.customization.api.onCustomizeActivate(!0),a.loadingColumns=!1},200)}function g(){a.curColProps={hidden:!1,caption:"",readonly:!1,binding:""}}function h(b,c){a.changes[a.column.name]||(a.changes[a.column.name]={}),a.changes[a.column.name][b]=c}a.changes={};var i,j=[];a.customization=null,a.column={},g(),a.curColCtx={},a.colCaption={caption:"Caption",editor:"text",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(b,c){a.curColCtx&&(a.curColCtx.caption=c.fnGetCurrentValue(),h("caption",a.curColCtx.caption),a.customization.api.onChange("captions"))}},a.colHidden={caption:"Hidden",editor:"checkbox",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(b,c){a.curColCtx&&(a.curColCtx.hidden=c.fnGetCurrentValue(),h("hidden",a.curColCtx.hidden===!0),a.customization.api.onChange("hidden"))}},a.colReadOnly={caption:"Read-only",editor:"checkbox",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(b,c){a.curColCtx&&(a.curColCtx.readonly=c.fnGetCurrentValue(),h("updatable",a.curColCtx.readonly!==!0))}},a.addColumn=function(){var b=a.column.name,c={name:b,caption:b,columnIndex:b,isCustom:!0};a.changes[b]=c,a.customization.api.onColumnAdd(c)},a.removeColumn=function(){a.customization.api.onColumnRemove(a.curColCtx),delete a.changes[a.column.name],a.curColCtx=null},a.$watch("customizationData",function(b,c){void 0!==b&&(f(),a.customizationData.fnGetChanges=function(){return a.changes})})}}}a.$inject=["$compile","$location","$timeout","epBindingService","epCustomizationService"],angular.module("ep.customization").directive("epCustomizationEptable",a)}(),function(){"use strict";function a(a,b,c,d,e,f){return{replace:!1,restrict:"E",scope:{customizationData:"="},templateUrl:"src/components/ep.customization/ep-customization-freeform.html",link:function(g,h){function i(a){g.customization&&g.customization.api.onCustomizeActivate(!1),g.customization=null,b(function(){g.customization=g.customizationData.customization,j(),g.customization.api.onCustomizeActivate(!0),g.customization.data&&e.addView("$custom-data",[g.customization.data]),g.changes=d.getCustomization(g.customization.id)||{};var a=[{label:"<New Control>",value:"$new"},{label:"<Container>",value:"$container"}];g.changes&&angular.forEach(g.changes,function(b,c){if(c&&"$container"!==c){var d=b.caption||b.binding||"";d?d=" ("+d+")":"html"===b.controlKind&&(d=" (html)"),a.push({label:c+d,value:c})}}),g.state.controls=a,g.controlsList.list=a,g.state.control="$new",g.curColProps.id=m()},200)}function j(){g.curColProps={id:"",hidden:!1,caption:"",updatable:!1,binding:"",style:"",validate:"",html:"",script:""}}function k(a,b,c){g.curColProps[a]=b,l(a,b,c)}function l(a,b,c){var c=c||g.curColProps.id;g.changes[c]||(g.changes[c]={}),g.changes[c][a]=b}function m(){var a="Ctrl-0";if(g.controlsList)for(var b=1;b<100;b++)if(a="Ctrl-"+b,!_.find(g.controlsList.list,function(b){return b.value===a}))return a;return a}function n(b,d){var e={};"html"===b&&(e={caption:"Template Samples",name:"Sample",editor:"select",updatable:!0,list:[{label:"None",value:"none"},{label:"Panel",value:"sample-panel.html"},{label:"Color Tile",value:"sample-color-tile.html"},{label:"Button",value:"sample-button.html"}],sizeClass:"col-lg-12",fnOnChange:function(b,c){var d=c.fnGetCurrentValue(),e="";e="none"===d?"":a.get(d),f.editText=e}});var f={title:"Editor",size:"fullscreen",closeButton:!0,editorOptions:{type:b,sampleCol:e,sampleVal:"none"},editText:g.curColProps[b],templateOptions:{templateUrl:"src/components/ep.customization/ep-customization-editor-box.html"},buttons:[{id:"okButton",type:"default",text:"Ok",action:function(a){d?d(a.editText):k(b,a.editText)}}]};c.showCustomDialog(f)}g.changes={},g.customization=null,g.state={ctrlNumber:1,controls:[],control:void 0,controlKind:"editor"},g.controlsList={caption:"Select Control",name:"Controls",editor:"select",updatable:!0,list:g.state.controls,sizeClass:"col-lg-12",fnOnChange:function(a,b){if(g.state.control=b.fnGetCurrentValue(),j(),"$new"===g.state.control)g.curColProps.id=m();else{f.copyProperties(g.changes[g.state.control],g.curColProps),g.state.controlKind=g.curColProps.controlKind;var c="#ep-custom_"+g.state.control;if($(".ep-custom-element").removeClass("ep-customize-control-active"),$(c).length){var d=$(c);d.addClass("ep-customize-control-active")}}}};var o=[{label:"Editor",value:"editor"},{label:"HTML Template",value:"html"}];g.controlKinds={caption:"Kind of Control",name:"ControlKind",editor:"select",updatable:!0,list:o,sizeClass:"col-lg-12",fnOnChange:function(a,b){g.state.controlKind=b.fnGetCurrentValue()}},j(),g.curColProps.id=m(),g.colBinding={caption:"ep-binding",editor:"text",updatable:!0,sizeClass:"col-lg-12",buttons:[{position:"post",type:"btn",style:"fa fa-cog",action:function(){e.selectBinding(function(a){k("binding",a)})}}],fnOnChange:function(a,b){k("binding",b.fnGetCurrentValue())}},g.colCaption={caption:"Caption",editor:"text",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(a,b){k("caption",b.fnGetCurrentValue())}},g.colHidden={caption:"Hidden",editor:"checkbox",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(a,b){k("hidden",b.fnGetCurrentValue()===!0)}},g.colReadOnly={caption:"Updatable",editor:"checkbox",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(a,b){k("updatable",b.fnGetCurrentValue()===!0)}},g.colStyle={caption:"Style",editor:"text",updatable:!0,sizeClass:"col-lg-12",oFormat:{MaxLength:2e4},buttons:[{position:"post",type:"btn",style:"fa fa-edit",action:function(){n("style",function(a){var b="$container"===g.state.control?"$container":void 0;k("style",a,b)})}}],fnOnChange:function(a,b){var c="$container"===g.state.control?"$container":void 0;k("style",b.fnGetCurrentValue(),c)}},g.colValidate={caption:"Validation",editor:"text",updatable:!0,sizeClass:"col-lg-12",oFormat:{MaxLength:1e4},buttons:[{position:"post",type:"btn",style:"fa fa-edit",action:function(){n("validation")}}],fnOnChange:function(a,b){k("validation",b.fnGetCurrentValue())}},g.colId={caption:"ID",editor:"text",updatable:!1,sizeClass:"col-lg-12",fnOnChange:function(a,b){g.curColProps.id=b.fnGetCurrentValue()}},g.colHTML={caption:"HTML Template",editor:"text",updatable:!0,sizeClass:"col-lg-12",oFormat:{MaxLength:1e4},buttons:[{position:"post",
type:"btn",style:"fa fa-edit",action:function(){n("html")}}],fnOnChange:function(a,b){k("html",b.fnGetCurrentValue())}},g.colContainerScript={caption:"Container Script",editor:"text",updatable:!0,sizeClass:"col-lg-12",oFormat:{MaxLength:2e4},buttons:[{position:"post",type:"btn",style:"fa fa-edit",action:function(){n("script",function(a){k("script",a,"$container")})}}],fnOnChange:function(a,b){k("script",b.fnGetCurrentValue(),"$container")}},g.addColumn=function(){if(!g.curColProps.id)return void c.showMessage({title:"Missing Id",message:"Id is required for control"});if(g.changes[g.curColProps.id])return void c.showMessage({title:"Duplicate Id",message:"There is already a control with id: "+g.curColProps.id});var a=angular.extend([],g.controlsList.list);a.push({label:g.curColProps.id,value:g.curColProps.id}),g.controlsList.list=a,g.state.control=g.curColProps.id,l("controlKind",g.state.controlKind),l("id",g.curColProps.id)},g.removeColumn=function(){g.changes[g.curColProps.id]&&delete g.changes[g.curColProps.id];var a=angular.extend([],g.controlsList.list),b=_.find(a,function(a){return a.value===g.curColProps.id});if(b){var c=_.without(a,b);g.controlsList.list=c,g.state.control="$new",g.curColProps.id=m()}},g.$watch("customizationData",function(a,b){void 0!==a&&(i(),g.customizationData.fnGetChanges=function(){return g.changes})})}}}a.$inject=["$templateCache","$timeout","epModalDialogService","epCustomizationService","epBindingService","epUtilsService"],angular.module("ep.customization").directive("epCustomizationFreeform",a)}(),function(){"use strict";function a(a,b,c){return{replace:!1,restrict:"E",scope:{customizationData:"="},templateUrl:"src/components/ep.customization/ep-customization-record-editor.html",link:function(d,e){function f(){return d.customization.ctrl.factory}function g(){return d.customization.ctrl.factory.getOptions()}function h(){d.customization&&d.customization.api.onCustomizeActivate(!1),l=void 0,d.customization=null,d.column={},a(function(){if(m=[],d.customization=d.customizationData.customization,d.customization.ctrl.epBinding){var a=c.current().view(d.customization.ctrl.epBinding);a&&a.hasData()&&(l=a.dataRow(),angular.forEach(l,function(a,b){m.push({label:b,value:b})}))}d.changes=b.getCustomization(d.customization.id)||{},d.columnList={caption:"Columns",name:"Columns",editor:"select",updatable:!0,list:m,sizeClass:"col-lg-12",fnOnChange:function(a,b){d.column.name=b.fnGetCurrentValue();var c=f();d.curColCtx=c.getColumnContext(d.column.name),d.curColCtx?d.curColProps={hidden:d.curColCtx.hidden===!0,caption:d.curColCtx.label,readonly:d.curColCtx.updatable===!1,style:d.curColCtx.style?JSON.stringify(d.curColCtx.style,null," "):"",validate:d.changes[d.column.name]?d.changes[d.column.name].validation:""}:d.curColProps={hidden:!1,caption:"",readonly:!1}}},i(),d.customization.api.onCustomizeActivate(!0)},200)}function i(){d.curColProps={hidden:!1,caption:"",readonly:!1,binding:"",style:"",validate:""}}function j(a){var b=typeof a;if("number"===b)return"number";if("boolean"===b)return"checkbox";if("date"===b)return"date";if("string"===b){var c=/\d{4}-\d{2}-\d{2}['T']/;if(a&&a.match(c))return"date"}return"text"}function k(a,b,c){var e=c||d.column.name;d.changes[e]||(d.changes[e]={}),d.changes[e][a]=b}d.changes={};var l,m=[];d.customization=null,d.column={},i(),d.curColCtx={},d.colCaption={caption:"Caption",editor:"text",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(a,b){d.curColCtx&&(d.curColCtx.label=b.fnGetCurrentValue(),k("caption",d.curColCtx.label))}},d.colHidden={caption:"Hidden",editor:"checkbox",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(a,b){d.curColCtx&&(d.curColCtx.hidden=b.fnGetCurrentValue(),k("hidden",d.curColCtx.hidden===!0))}},d.colReadOnly={caption:"Read-only",editor:"checkbox",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(a,b){d.curColCtx&&(d.curColCtx.readonly=b.fnGetCurrentValue(),k("updatable",d.curColCtx.readonly!==!0))}},d.colStyle={caption:"Style",editor:"multiline",updatable:!0,sizeClass:"col-lg-12",oFormat:{MaxLength:200},fnOnChange:function(a,b){d.curColCtx&&(d.curColCtx.style=b.fnGetCurrentValue(),k("style",d.curColCtx.style))}},d.colValidate={caption:"Validation",editor:"multiline",updatable:!0,sizeClass:"col-lg-12",oFormat:{MaxLength:200},fnOnChange:function(a,b){d.curColCtx&&(d.curColCtx.validate=b.fnGetCurrentValue(),k("validation",d.curColCtx.validate))}},d.addColumn=function(){var b=d.column.name,c=f(),e=g(),h=e.columns,i=j(l[b]),k={caption:b,editor:i,columnIndex:b,updatable:!0,isCustom:!0};h.push(k),c.draw(),d.column.name="",a(function(){d.column.name=b,d.curColCtx=c.getColumnContext(d.column.name)},200),d.changes[b]=k},d.removeColumn=function(){var a=f(),b=g(),c=b.columns,e=_.find(c,function(a){return a.columnIndex===d.column.name});e&&(b.columns=_.without(c,e),a.draw(),d.column.name="",d.curColCtx=null,i())},d.$watch("customizationData",function(a,b){void 0!==a&&(h(),d.customizationData.fnGetChanges=function(){var a=f(),b=a.getState().controls;return angular.forEach(b,function(a){void 0!==a.origSeq&&k("seq",a.seq,a.columnIndex)}),d.changes})})}}}a.$inject=["$timeout","epCustomizationService","epTransactionFactory"],angular.module("ep.customization").directive("epCustomizationRecordEditor",a)}(),function(){"use strict";function a(a,b,c,d,e){return{replace:!1,restrict:"E",scope:{},templateUrl:"src/components/ep.customization/ep-customization.html",link:function(f,g){function h(a){function b(a){a.epCustomizationInfo&&a.epCustomizationInfo.kind&&a.epCustomizationInfo.id&&(d[a.epCustomizationInfo.id]=a.epCustomizationInfo)}function c(a){b(a),a.$$nextSibling&&c(a.$$nextSibling),a.$$childHead&&c(a.$$childHead)}var d={};return c(a),d}function i(a){f.customization&&f.customization.api.onCustomizeActivate(!1),f.customization=null,c(function(){f.customization=k[a],f.customizationData={customization:f.customization,customizationId:a,customizationKind:f.customization?f.customization.kind:""},f.customization&&f.customization.api.onCustomizeActivate(!0)},200)}function j(){f.customizationData={customizationId:"",customizationKind:""},f.customization=null;var b=[];k=h(a),angular.forEach(k,function(a,c){b.push({label:c,value:c})}),f.customizationsList={caption:"Customizable Objects",name:"Customs",editor:"select",updatable:!0,list:b,sizeClass:"col-lg-12",buttons:[{position:"post",type:"btn",style:"fa fa-refresh",action:function(){j()}}],fnOnChange:function(a,b){i(b.fnGetCurrentValue())}}}var k={};f.btnClickManage=function(){var a={title:"Editor",size:"fullscreen",closeButton:!0,manage:{},editText:"",templateOptions:{templateUrl:"components/ep.customization/ep-customization-manage.html"},buttons:[{id:"cancelButton",type:"cancel",isCance:!0,text:"Close",action:function(a){}},{id:"okButton",type:"default",isDefault:!0,text:"Ok",action:function(a){b.reload()}}]};e.showCustomDialog(a)},f.btnClickSave=function(){if(f.customization&&f.customizationData.fnGetChanges){var a=f.customizationData.fnGetChanges();d.saveCustomForView(f.customization.id,a),b.reload()}},f.btnClickClearCustomization=function(){f.customization&&(d.clearCustomForView(f.customization.id),b.reload())},c(function(){f.$digest(),j()},1e3)}}}function b(a,b,c,d){function e(a){var b=new FileReader;b.onload=f,b.readAsText(a.target.files[0])}function f(a){var b=JSON.parse(a.target.result);b&&(d.importCustomization(b),alert("customization was imported!"))}document.getElementById("file").addEventListener("change",e),b.btnClickClearAllCustomizations=function(){d.clearAllCustomizations()},b.btnClickExport=function(){var a=d.getAllCustomizations();if(!a)return void alert("There are no customizations to save");var b=angular.toJson(a),c=new Blob([b],{type:"application/json;charset=utf-8;"}),e=window.URL.createObjectURL(c),f=angular.element("<a></a>");f.attr("href",e),f.attr("download","customization.json"),f[0].click()}}a.$inject=["$rootScope","$route","$timeout","epCustomizationService","epModalDialogService"],b.$inject=["$route","$scope","$timeout","epCustomizationService"],angular.module("ep.customization").directive("epCustom",a),angular.module("ep.customization").controller("epCustomManageCtrl",b)}(),function(){"use strict";function a(a,b){function c(a){var c="ep-customization";b.update(c,a)}function d(a,c,d){var e=i(d),f="ep-customization."+e+"."+a;b.update(f,c)}function e(a,c){var d=i(c),e="ep-customization."+d+"."+a;b.update(e,void 0)}function f(){var a="ep-customization";b.update(a,void 0)}function g(a,c){var d=i(c),e="ep-customization."+d+"."+a;return b.get(e)}function h(){var a="ep-customization";return b.get(a)}function i(b){var c=b;c||(c=a.url()||"view");var d=c.indexOf("?"),e=d>0?c.substring(0,d):c;return e}return{importCustomization:c,saveCustomForView:d,clearCustomForView:e,clearAllCustomizations:f,getCustomization:g,getAllCustomizations:h}}a.$inject=["$location","epLocalStorageService"],angular.module("ep.customization").service("epCustomizationService",a)}(),function(){"use strict";angular.module("ep.data.model").service("epDataModelService",["epUtilsService",function(a){function b(b){g[b]=a.merge({},h[b])}function c(a){delete g[a]}function d(b){a.merge(h[b],g[b]),delete g[b]}function e(a){return h[a]=h[a]||{},h[a]}function f(a){return Object.keys(h[a]).forEach(function(b){delete h[a][b]}),h[a]}var g={},h={};return{beginTransaction:b,commitTransaction:c,rollbackTransaction:d,getModel:e,clearModel:f}}])}(),angular.module("ep.datagrid").factory("epDataGridDirectiveFactory",[function(){var a=0,b=function(b){function c(){I.createGrid()}function d(a){I.setGridOptions(a)}function e(){return I.options}function f(){I.state.dataTable&&(I.state.dataTable.fnDestroy(!0),I.state.dataTable=null)}function g(){I.refreshData()}function h(a){I.draw(a)}function i(a,b){I.options[a]=b}function j(a){I.resizeTable(a)}function k(a){a&&I.activateRow(a)}function l(a){I.activateNthRow(a,!1)}function m(a){a?I.updateTableEditStateActiveRow():I.updateTableEditState()}function n(){return!!I.state.dataTable}function o(){return I.state.activeRow}function p(){return I.state.activeRecord}function q(){return I.state.activeCell}function r(a){I.scrollToRow(a)}function s(a){I.appendRow(a)}function t(a){return I.getPrevNextRow(-1,a)}function u(a){return I.getPrevNextRow(1,a)}function v(a){return I.isValidRow(a)}function w(a,b){I.setRowEditMode(a,b)}function x(){I.callPreviousGetData()}function y(a,b,c,d){I.grDataTable().fnUpdate(a,b,c,d)}function z(){return I.grDataTable()}function A(){return I.grApi()}function B(a,b){return I.getRowByColumnValue(a,b)}function C(){I.toggleFilter()}function D(){I.showFilter()}function E(){return I.state.filterShowFlag}function F(a,b){I.setDataSource(a,b)}function G(){I.updateSummaryRow()}function H(a,b){return I.formatNumber(a,b)}var I=b;a++;var J="epdatagrid"+a.toString();return{id:J,setGridOptions:d,getGridOptions:e,createGrid:c,activeRecord:p,activeRow:o,activeCell:q,refreshData:g,draw:h,release:f,updateOption:i,resizeTable:j,activateRow:k,activateNthRow:l,getPrevRow:t,getNextRow:u,isValidRow:v,scrollToRow:r,appendRow:s,updateTableState:m,isTableCreated:n,setRowEditMode:w,callPreviousGetData:x,updateRow:y,dataTable:z,api:A,getRowByColumnValue:B,toggleFilter:C,showFilter:D,isFilterShown:E,setDataSource:F,updateSummaryRow:G,formatNumber:H}};return b}]),angular.module("ep.datagrid").directive("epDataGridFilterRow",[function(){function a(a){var b=!1;return angular.forEach(a.state.filterEditors,function(a){a.hidden||""===a.value||(b=!0,a.value=""),a.operator="*",a.operatorText=""}),b}return{restrict:"E",replace:!0,templateUrl:"src/components/ep.datagrid/datagrid-filter/datagrid-filter-row.html",controller:["$scope",function(b){if(!b.state.filterEditors){var c=[],d=b.grApi().table().header(),e=$("tr",d),f=$(e).find("th"),g=b.state.filterExpressions;$(f).each(function(a,d){var e=$(d),f=null;if(e.width&&e.text()){var h=b.grFindColumnByCellIndex(e.context.cellIndex);if(null!==h){var i="",j="";if(g){var k=_.find(g,function(a){return a.ColName===h.sName});k&&(i=k.Value,j=k.Operator)}j=j||"*";var l="text";"integer"!==h.userColumnDef.sType&&"decimal"!==h.userColumnDef.sType||(l="number"),f={name:h.sName,type:l,value:i,operator:j,operatorText:"*"===j?"":j}}}f||(f={hidden:!0,name:"hidden",className:"fixed sorting_disabled ep-hide-filter-col",value:null}),c.push(f)}),b.state.filterEditors=c,b.state.filterFunctions={},b.state.isFilterOn=!0,b.state.filterCriteria="",b.$watch("state.filterShowFlag",function(c,d){if(c===!1&&d===!0&&b.onHideFilter){var e=a(b);b.onHideFilter(e)}b.resizeTable()}),b.fnFilterOpChange=function(a){for(var c=["*","=","<>",">",">=","<","<="],d=0,e=0;e<c.length;e++)if(c[e]===a.operator){d=e;break}d+1>=c.length?d=0:d+=1,a.operator=c[d],a.operatorText="*"===a.operator?"":a.operator,b.onChangeFilter&&""!==a.value&&b.onChangeFilter(a)},b.fnFilterBlur=function(a){b.onChangeFilter&&""!==a.value&&b.onChangeFilter(a)},b.fnFilterKeyUp=function(a,c){(b.onChangeFilter&&13===c.keyCode||9!==c.keyCode&&""===a.value)&&b.onChangeFilter&&b.onChangeFilter(a)},b.state.filterFunctions.getFilterExpressions=function(){var a=[];return b.state.filterShowFlag&&b.state.filterEditors&&angular.forEach(b.state.filterEditors,function(b){if(!b.hidden&&""!==b.value&&b.name&&b.operator){var c={ColName:b.name,Operator:b.operator,Value:b.value};a.push(c)}}),b.state.filterExpressions=a,a}}}]}}]),angular.module("ep.datagrid").directive("epDataGridFilterToggle",[function(){return{restrict:"E",replace:!0,template:'<div><a class="btn btn-default btn-sm ep-center-item fa fa-filter" ng-click="toggleFilter()" ></a></div>',controller:[function(){}]}}]),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.datagrid/datagrid-summary/datagrid-summary-row.html",link:function(a,b){if(a.state.summaryRow={theElement:b,columns:[{}]},a.state.dataTable){var c=[];a.iterateHeaderColumns(function(a,b){b?c.push({name:b.sName,value:void 0,col:b}):c.push({hidden:!0,name:"hidden",className:"ep-hide-summary-col",value:void 0})}),a.state.summaryRow.columns=c}}}}angular.module("ep.datagrid").directive("epDataGridSummaryRow",a)}(),angular.module("ep.datagrid").directive("epDataGrid",["$timeout","$compile","$sce","$log","$window","$rootScope","epUtilsService","epFeatureDetectionService","epDataGridDirectiveFactory","epDataGridService",function(a,b,c,d,e,f,g,h,i,j){function k(){var a={gridFactory:null,scope:null,tableElement:null,linkElement:null,dataTable:null,filterShowFlag:!1,filterRow:null,filterEditors:null,filterExpressions:[],allowSearchInput:!0,searchValue:"",recordsInfo:"",gridLoadPrms:{},dataRetrieveInProcess:!1,metadata:void 0,ordering:!0,activeRow:null,activeRecord:null,activeCell:null,pageLength:50,tableHeight:null,staticMode:!1,dataSource:null,isChildGrid:!1,headerSection:"",footerSection:""};return a}function l(){return'<i class="drill-icon" onclick="performDrillThrough(event);"></i>'}function m(a,b){var c=angular.element(a),d=c.attr("href"),f=function(){e.open(d,"_blank")};switch(T.platform.app){case"NWJS":f=function(){var a=require("nw.gui");a.Shell.openExternal(d)};break;case"Cordova":f=function(){e.open(d,"_system")}}"_blank"===c.attr("target")&&(f(),b.preventDefault())}function n(a){return a&&_.isString(a)?'<a class="fa fa-phone inline-link" onclick="onExternalLinkClick(this, event)" target="_blank" href="tel:'+a+'">&nbsp;&nbsp;'+a+"</a>":a}function o(a){return a&&_.isString(a)?'<a class="fa fa-map-marker inline-link" onclick="onExternalLinkClick(this, event)" target="_blank" href="http://maps.google.com/maps?q='+a+'">&nbsp;&nbsp;'+a+"</a>":a}function p(a){return a&&_.isString(a)?'<a class="fa fa-envelope inline-link" onclick="onExternalLinkClick(this, event)" target="_blank" href="mailto:'+a+'">&nbsp;&nbsp;'+a+"</a>":a}function q(a,b,c){if(a&&_.isString(a)){var d=a;c.userColumnDef.stringFormat&&(d=g.strFormat(c.userColumnDef.stringFormat,d));var e=a.trim().toLowerCase();return"http"!==e.substr(0,4)&&(d="http://"+e),c.userColumnDef.urlLabel&&(a=c.userColumnDef.urlLabel),'<a class="fa fa-globe inline-link" target="_blank" href="'+d+'">&nbsp;&nbsp;'+a+"</a>"}return a}function r(a,b,c){if(void 0===a)return null;var d=c.userColumnDef.oFormat.FormatString||"M/d/yyyy";if(d&&a){var e=moment(a);if(e.isValid())return d=d.toUpperCase().replace("HH:MM","HH:mm"),e.format(d)}return a}function s(a,b,c,d){var e=c.userColumnDef.sFormatString;if("yes-no"===e){var f=a?"yes":"no";return"<span>"+f+"</span>"}var g=c.userColumnDef.bUpdatable?'mdata="'+c.mData+'"':"",h=a?Q:R;return d?'<span class="checkbox-display fa fa-lg '+h+'"'+g+"></span>":'<div class="inline checkbox-display-container"><span class="ep-center-item checkbox-display fa fa-lg '+h+'"'+g+"></span></div>"}function t(a,b,c,d){var e=parseFloat(a);if(!isNaN(e)){var f=c.userColumnDef;if(f.oFormat&&f.oFormat.NumberFormatInfo&&f.oFormat.NumberFormatInfo.NumeralJSFormat)a=numeral(e).format(f.oFormat.NumberFormatInfo.NumeralJSFormat);else{var g=f.oFormat&&f.oFormat.NumberFormatInfo?f.oFormat.NumberFormatInfo.CurrencyDecimalDigits:2;a=e.toFixed(g)}}return d?"<span>"+a+"</span>":'<div class="right-align"><span>'+a+"</span></div>"}function u(a,b,c,d){return a=B(a,c),d?"<span>"+a+"</span>":'<div class="right-align"><span>'+a+"</span></div>"}function v(a,b,c,d){return a=C(a,c),d?"<span>"+a+"</span>":'<div class="right-align"><span>'+a+"</span></div>"}function w(){return"<span><i class='row-indicator text-primary'></i></span>"}function x(){return"<span><i class='edit-indicator text-danger'></i></span>"}function y(a,b,c,d,e,f){var g=c.userColumnDef,h=f.state.metadata.combos[g.sBaseType]?f.state.metadata.combos[g.sBaseType][a]:"";return void 0!==h?h:a}function z(a,b,c,d,e){var f="",g=c.userColumnDef,h=g.groupWrap&&(void 0===a||null===a||angular.isString(a)&&!a);if(!h)if(g.sRenderSubType&&U[g.sRenderSubType]){var i=U[g.sRenderSubType](a,b,c,!0);null!==i&&void 0!==i||(i=""),f+=i}else f+=null!==a&&void 0!==a?"<span>"+a+"</span>":"<span></span>";return angular.forEach(g.groupMembers,function(a){var c=_.find(e.aoColumns,function(b){return b.mData===a}),d=b[a],g=c.userColumnDef;if(h=g.groupWrap&&(void 0===d||null===d||angular.isString(d)&&!d),!h)if(f&&(f+="<br/>"),c&&g.sRenderType&&U[g.sRenderType]){var i=U[g.sRenderType](d,b,c,!0);null!==i&&void 0!==i||(i=""),f+=i}else f+=null!==d&&void 0!==d?"<span>"+d+"</span>":"<span></span>"}),"<div>"+f+"</div>"}function A(a,b,c,d,e){b=null!==b?b:"";var f=b,g=e.settings.aoColumns[e.col];if(g&&g.userColumnDef){var h=g.userColumnDef;U[h.sRenderType]&&(f=U[h.sRenderType](b,d,g,!1,e.settings,a)),"True"===h.sIsDrillable&&b&&""!==b&&("undefined"==typeof h.sRenderType||V[h.sRenderType])&&(f=l()+f)}return a.options.fnOnRenderGridCell&&(f=a.options.fnOnRenderGridCell(f,c,d,e,g,f)),f}function B(a,b){var c=a,d=parseFloat(c);if(!isNaN(d)){var e=b.userColumnDef,f=e.oFormat&&e.oFormat.NumberFormatInfo;if(f&&e.oFormat.NumberFormatInfo.NumeralJSFormat)c=numeral(d).format(e.oFormat.NumberFormatInfo.NumeralJSFormat);else{var g=f?e.oFormat.NumberFormatInfo.NumberDecimalDigits:2;c=d.toFixed(g)}!isNaN(c)&&f&&e.oFormat.NumberFormatInfo.RemoveTrailingZeros&&(c=parseFloat(c))}return c}function C(a){var b=parseInt(a);return isNaN(b)||(a=b),a}function D(a){a.state&&a.state.$table&&a.state.$table.off("click").off("dblclick");var b=a.grApi();if(b)try{b.destroy(!0)}catch(c){d.error(c,"failed to destroy the grid - exception from DataTables")}a.state&&a.state.tableElement.length&&a.state.tableElement.empty()}function E(b,c,d,e,f,g,h){function i(a){if(b.state.dataRetrieveInProcess=!1,b.findElement("#loadMoreDownRow").addClass("disabled").off("click"),a&&a.Success&&b.state.dataTable){g&&b.hideProgressIndicator(),l=b.state.dataTable.fnSettings();var c=a&&a.aaData?a.aaData.length:0;!f||h?(k.iLoadedRecordLength=c,b.state.dataTable.fnClearTable()):k.iLoadedRecordLength+=c,l._iRecordsTotal=a?a.iTotalRecords:0,k.iTotalRecords=l._iRecordsDisplay=a?a.iTotalDisplayRecords:0,l._iDisplayLength=k.iLoadedRecordLength,j.isLoadingMore=!0,j.isDataLoaded=a.iTotalDisplayRecords>0,j.totalViewRecords=a?a.iTotalDisplayRecords:0,j.hasRecords=j.totalViewRecords>0,j.retrievingData=!1;var d=b.findElement(".dataTables_scrollBody"),e=d.scrollTop();c&&b.state.dataTable.fnAddData(a.aaData),d.scrollTop(e),k.iDisplayStart+=a.aaData.length,k.iDisplayStart=Math.min(a.iTotalDisplayRecords,k.iDisplayStart);var i;j.configureGridActions=function(){if(j.atTheEnd=a.iTotalDisplayRecords-k.iLoadedRecordLength===0,!j.atTheEnd){if(i=b.findElement("#loadMoreDownRow"),!i.length){var c='<table width="100%"><td><hr /></td><td class="load-more-cell"><span class="load-more-indicator fa fa-arrow-down"></span>  Load More  <span class="load-more-indicator fa fa-arrow-down"></span></td><td><hr /></td></table>';i=$("<tr class='loading-row' id='loadMoreDownRow'><td colspan='"+j.visColCount+"'><div class='load-more'><a>"+c+"</a></div></td></tr>"),b.state.dataTable.append(i)}i.off("click").removeClass("disabled").on("click",function(){k.iPageNumber++,b.findElement(".load-more-cell").empty().addClass("fa fa-spinner fa-2x fa-pulse");var a=j.gridLoadPrms.previousPrms;E(b,a.searchTerm,a.sortColIdx,a.sortDir,!0,!1,!1)})}K(b)},j.configureGridActions()}g&&b.hideProgressIndicator()}if(b.state.staticMode!==!0&&b.state.dataRetrieveInProcess!==!0&&b.state.dataTable){b.state.dataRetrieveInProcess=!0;var j=b.state,k=j.gridLoadPrms;(c!==k.previousPrms.searchTerm||h)&&(k.iPageNumber=1),k.previousPrms.searchTerm=c,k.previousPrms.sortColIdx=d,k.previousPrms.sortDir=e,k.previousCall={append:f,showIndicator:g,forceRefresh:h};var l=b.state.dataTable.fnSettings();f&&!h||(k.iDisplayStart=0,k.iDisplayLength=b.state.pageLength*k.iPageNumber,k.iLoadedRecordLength=0,k.iTotalRecords=0),g&&b.showProgressIndicator(),k.previousPrms.iDisplayStart=k.iDisplayStart,k.previousPrms.iDisplayLength=k.iDisplayLength;var m={iDisplayStart:k.iDisplayStart,iDisplayLength:k.iDisplayLength,sSearch:c,iSortCol:d,sSortDir:e,sEcho:"1",bFilterOn:b.state.filterShowFlag,sFilterCriteria:b.state.filterExpressions,bForceRefresh:h||!1,childGridId:b.state.metadata&&b.state.metadata.gridId?b.state.metadata.gridId:"",childGridArgValues:b.options.childGridArgValues,parentKey:b.options.parentKey};a(function(){});var n=b.options.fnGetServerData(m);void 0!==n.then?n.then(i):i(n)}}function F(a,b){if(!b.sRenderType){b.sBizType&&("phone"!==b.sBizType&&"address"!==b.sBizType&&"email"!==b.sBizType&&"url"!==b.sBizType&&"currency"!==b.sBizType||(b.sRenderType=b.sBizType));var c=b.sType;"date"===c?b.sRenderType="date":"bool"===c&&(b.sRenderType="bool"),b.sControlType&&"epicombo"===b.sControlType.toLowerCase()&&(b.sRenderType="select"),"integer"===c&&(b.sRenderType="integer"),"decimal"===c&&(b.sRenderType="decimal"),b.groupMembers&&"group"!==b.sRenderType&&(b.sRenderSubType=b.sRenderType,b.sRenderType="group")}b.mRender=a.renderGridCell}function G(a,b,c){var d=[],e=0,f=function(b){void 0===b.oFormat&&(b.oFormat={}),void 0===b.sDataType&&(b.sDataType="System.String"),b.sType||(b.sType=j.resolveDataType(b.sDataType)),F(a,b);var c=(void 0===b.bVisible||b.bVisible===!0)&&b.bHideInGrid!==!0,f=!1;a.state.ordering&&(f=void 0===b.orderable?void 0===b.bSortable||b.bSortable:b.orderable);var g="120px";"editIndicator"===b.sName||"rowIndicator"===b.sName?g="":b.width&&angular.isNumber(b.width)?g=b.width+"px":b.widthFactor&&angular.isNumber(b.widthFactor)?g=parseInt(120*parseFloat(b.widthFactor))+"px":b.oFormat.MaxLength&&(g=Math.max(Math.min(3*b.oFormat.MaxLength,400),120)+"px");var h=b.sClass?b.sClass+" ":"";h+="data-col-"+e,b.canSelectCells===!0&&(a.state.canSelectCells=!0,h+=" selectable"),!b.align||"right"!==b.align&&"left"!==b.align&&"center"!==b.align||(h+=" dt-"+b.align);var i=b.sTitle;"True"===b.sIsDrillable&&(i='<i class="drill-header"></i>'+i,h+=" drill-cell");var k={iIndex:e,targets:[e],name:b.sName,title:i||"",visible:c,className:h,data:void 0===b.mData?-1:b.mData,orderable:f,render:a.renderGridCell,userWidth:g,userColumnDef:b};d.push(k),e++};return angular.forEach(c,function(a){f(a)}),angular.forEach(b.columns,function(a){f(a)}),d}function H(b){var c=b.options.metadata,d=[{sName:"rowIndicator",sTitle:"",bVisible:!0,sClass:"fixed i-row",orderable:!1,sRenderType:"rowIndicator",align:"center"},{sName:"editIndicator",sTitle:"",bVisible:!!b.options.showEditIndicator,sClass:"fixed i-edit",orderable:!1,sRenderType:"editIndicator",align:"center"}];if(b.state.filterEditors=null,b.state.gridColumns=G(b,c,d),b.state.gridLoadPrms={iPageNumber:1,iDisplayStart:0,iDisplayLength:b.state.pageLength,iLoadedRecordLength:0,iTotalRecords:0,previousPrms:{sortColIdx:-1,sortDir:"",searchTerm:"",iDisplayStart:0,iDisplayLength:b.state.pageLength}},b.options.enableSummaryRow){var e=b.findElement(".ep-dg-grid-table.table");angular.element(e).append("<tfoot><th></th></tfoot>")}if(b.state.staticMode===!0){var f=[];if(b.state.ordering){var g=b.grGetMetaColumn(b.options.orderColumn);if(g)f=[[g.iIndex,"asc"]];else if("$first"===b.options.orderColumn){var i=b.options.showEditIndicator===!0?2:1;f=[[i,"asc"]]}}b.state.options={data:b.state.dataSource,paging:!0,ordering:b.state.ordering,bDestroy:!0,bServerSide:!1,order:f,bProcessing:!1,pageLength:b.state.pageLength,bAutoWidth:!0,columns:b.state.gridColumns,sScrollY:b.calcTableHeight(),sScrollX:"100%",sScrollXInner:b.options.isChildGrid?"90%":"100%",sDom:"rtip",infoCallback:function(a,c,d,e,f,g){return b.options.disableRecordInfo?"":J(b,a,c,d,e,f,g)},createdRow:function(a,c){b.options.fnOnCreatedRow&&b.options.fnOnCreatedRow(a,c)},initComplete:function(){a(function(){K(b)})},fnFooterCallback:function(a){I(b,a)}}}else b.state.options={bDestroy:!0,bServerSide:!1,ordering:!1,order:[],bProcessing:!1,pageLength:b.state.pageLength,bAutoWidth:!0,columns:b.state.gridColumns,sScrollY:b.calcTableHeight(),sScrollX:"100%",sScrollXInner:b.options.isChildGrid?"90%":"100%",scrollCollapse:!1,sDom:"rti",bDeferRender:!0,infoCallback:function(a,c,d,e,f,g){return b.options.disableRecordInfo?"":J(b,a,c,d,e,f,g)},createdRow:function(a,c){b.options.fnOnCreatedRow&&b.options.fnOnCreatedRow(a,c)},fnFooterCallback:function(a){I(b,a)}};b.state.dataTable=$(b.state.tableElement).dataTable(b.state.options),a(function(){if(angular.forEach(b.state.gridColumns,function(a){a.userWidth&&b.findElement(".data-col-"+a.iIndex).css("min-width",a.userWidth).css("width",a.userWidth)}),b.state.visColCount=_.filter(b.state.gridColumns,function(a){return a.visible}).length,b.setInitialFilters(),b.state.staticMode!==!0){var c="asc",d=-1;if(b.state.ordering){var e=null;if("$first"===b.options.orderColumn){var f=b.options.showEditIndicator===!0?2:1;e=b.grFindColumnByCellIndex(f)}else e=b.grGetColumn(b.options.orderColumn);e&&(d=e.mData)}E(b,"",d,c,!1,!1,!1)}if(b.resizeTable(!1),b.state.$table.on("click",b.tableCellClick),b.state.$table.on("dblclick",b.tableCellDblClick),h.hasTouchEvents()&&b.state.$table.css("touch-action","manipulation"),b.state.allowSearchInput){var g="";b.options.startSearchValue&&(b.state.searchValue=b.options.startSearchValue),b.applySearch=function(a){g!==a&&(a||g)&&(g=a,b.state.staticMode===!0?b.grApi().search(b.state.searchValue).draw():E(b,b.state.searchValue,0,"asc",!1,!0,!1))},b.findElement("#searchInput").each(function(){this.initVal=this.value}),b.fnOnSearchFocus=function(){b.searchInputClass&&(b.searchInputClass="",b.state.searchValue="")},b.fnOnSearchBlur=function(){var c=b.state.searchValue;if(""===c)b.searchInputClass="search_init",b.state.searchValue=b.options.startSearchValue?"":b.state.searchInitVal;else if(b.options.startSearchValue&&!b.startSearchBlur&&b.options.startSearchValue===c)return void(b.startSearchBlur=!0);a(function(){b.applySearch(b.state.searchValue)},200),b.applySearch(b.state.searchValue)},b.clearSearch=function(){b.applySearch(b.state.searchValue="")},b.fnOnSearchKeyUp=function(a){var c=b.state.searchValue;13!==a.keyCode&&""!==c||b.applySearch(c)},b.fnOnSearchChange=function(){var a=b.state.searchValue;""===a&&b.applySearch(a)}}})}function I(c,d){c.options.enableSummaryRow&&(c.state.summaryRow&&c.state.summaryRow.theElement||angular.element(d).empty().append(b("<ep-data-grid-summary-row></ep-data-grid-summary-row>")(c)),a(function(){c.updateSummaryRow(),c.resizeTable(!1)}))}function J(a,b,c,d,e,f,h){var i="";if(a.state.staticMode===!0)i=a.recordsInfo=h;else{var j=b._iDisplayLength,k=b._iRecordsTotal;f>0&&j>a.viewState.gridLoadPrms.iLoadedRecordLength&&(k+=j-a.viewState.gridLoadPrms.iLoadedRecordLength);var l=f?1:0;i=a.recordsInfo=g.strFormat("Showing {0}records {1} to {2} of {3}",a.state.gridLoadPrms.previousPrms.searchTerm?"<strong>filtered</strong> ":"",l,j,k)}return a.options.fnUpdateRecordsInfo&&(a.options.fnUpdateRecordsInfo(a.recordsInfo),i=""),i}function K(c){var d=c.grApi();if(c.state.ordering&&c.state.staticMode!==!0){var e=c.grColumns();d.columns().eq(0).each(function(a){var b=d.column(a),f=_.find(e,function(a){return a.idx===b.index()});f&&f.orderable&&L(c,b.header(),f)})}if(c.options.showToggleFilterButton){var f=c.grGetCellIndexByColumn("rowIndicator");if(f>=0){var g=d.column(f).header();0===$(g).find(".fa-filter").length&&angular.element(g).append(b("<ep-data-grid-filter-toggle></ep-data-grid-filter-toggle>")(c))}}if(a(function(){c.state.dataTable&&c.state.dataTable.fnAdjustColumnSizing(!1)},200),c.state.allowSearchInput){var h=c.state.linkElement.closest(".modal-body");if(h.length){var i=c.findElement(".ep-dg-grid-search");i.width(h.width()-20)}}var j=-1;if(c.options.startRowIndex||0===c.options.startRowIndex)j=c.options.startRowIndex;else if(c.state.allowSearchInput&&c.options.startSearchValue&&!c.state.startSearchCompleted&&c.options.startSearchIndex>=0){c.state.startSearchCompleted=!0;var k=c.grGetCellIndexByColumn(c.options.startSearchIndex);if(k!==-1){var l=c.options.startSearchValue.toString().toLowerCase(),m=_.find(d.rows().eq(0),function(a){var b=d.cell(a,k).data();return c.options.startSearchExactMatch?b===c.options.startSearchValue||(b||0===b?b.toString().toLowerCase()===l:b===c.options.startSearchValue):b||0===b?b.toString().toLowerCase().indexOf(l)>=0:b===c.options.startSearchValue});(m||0===m)&&(j=m)}}c.state.$table.removeClass("table-hover"),c.state.allowSearchInput&&a(function(){c.findElement(".ep-dg-search-input").focus()}),c.options.fnOnTableInitComplete&&c.options.fnOnTableInitComplete(),j>-1?c.activateNthRow(j,!0)||(j=-1):c.state.activeRow||c.activateFirstRow()}function L(a,b,c){var d=a.state,e=$(b);if(e.removeClass("sorting_disabled").addClass("sorting"),e.off("click"),e.on("click",function(){var b=e.hasClass("sorting_asc")?"desc":"asc";E(a,d.gridLoadPrms.previousPrms.searchTerm,c.mData,b,!1,!0,!1)}),c.mData===d.gridLoadPrms.previousPrms.sortColIdx){a.findElement("th").removeClass("sorting_desc").removeClass("sorting_asc");var f=d.gridLoadPrms.previousPrms.sortDir||"asc";e.addClass("sorting_"+f)}}function M(a,b){return void 0===a||a!==!0&&a!==!1?b:a}function N(e,g){e.state=k(),e.state.gridFactory=new i(e),e.state.userGridId=(e.epDataGridOptions?e.epDataGridOptions.dataTableId:"")||"",e.state.dataGridId=e.state.gridFactory.id,e.options={},e.state.scope=e,e.state.linkElement=g,e.state.tableElement=g.find(".ep-dg-grid-table:first-child"),e.state.$table=angular.element(e.state.tableElement),e.state.$table.attr("id","tbl_"+e.state.dataGridId),e.viewState=e.state,e.$on("$destroy",e.onScopeDestroy),e.setGridOptions=function(a){if(e.options=a,e.options.gridFactory=e.state.gridFactory,e.state.userGridId=a.dataTableId||e.state.userGridId,e.state.isChildGrid=a.isChildGrid===!0,e.state.ordering=void 0===e.options.ordering?e.state.ordering:e.options.ordering,e.state.allowSearchInput=void 0===e.options.allowSearchInput?e.state.allowSearchInput:e.options.allowSearchInput,a.allowFiltering!==!1&&a.filterExpressions&&(e.state.filterExpressions=a.filterExpressions),e.state.staticMode=e.options.staticMode===!0,e.state.dataSource=e.options.dataSource,e.options.pageLength&&angular.isNumber(e.options.pageLength)&&(e.state.pageLength=e.options.pageLength),e.options.tableHeight&&angular.isNumber(e.options.tableHeight)&&(e.state.tableHeight=e.options.tableHeight),
void 0===a.metadata||angular.equals(a.metadata,e.state.metadata)||(e.state.metadata=a.metadata,e.options.createGridByFactoryOnly||H(e)),a.showHeaderSection)if(a.headerSectionTemplate){var b=a.headerSectionTemplate;e.state.headerSectionTemplate=angular.isString(b)?c.trustAsHtml(b):b}else a.headerSectionTemplateUrl&&(e.state.headerSectionTemplateUrl=a.headerSectionTemplateUrl);if(a.showFooterSection)if(a.footerSectionTemplate){var d=a.footerSectionTemplate;e.state.footerSectionTemplate=angular.isString(d)?c.trustAsHtml(d):d}else a.footerSectionTemplateUrl&&(e.state.footerSectionTemplateUrl=a.footerSectionTemplateUrl);var f=M(a.showHeaderSection,!1),g=M(a.showFooterSection,!1);e.configmenu=[{caption:"Filter",checked:!1,enabled:e.options.allowFiltering,action:function(){e.toggleFilter()}},{caption:"Header",checked:a.showHeaderSection,visible:f,action:function(){e.options.showHeaderSection=!e.options.showHeaderSection,e.resizeTable(!1)}},{caption:"Footer",checked:a.showFooterSection,visible:g,action:function(){e.options.showFooterSection=!e.options.showFooterSection,e.resizeTable(!1)}},{caption:"Summary",checked:a.enableSummaryRow,visible:a.enableSummaryRow===!0,action:function(){if(e.options.enableSummaryRow){e.state.displaySummaryRow=!M(e.state.displaySummaryRow,!0);var a=e.grApi().table().footer();e.state.displaySummaryRow?$(a).show():$(a).hide(),e.resizeTable(!1)}}}],f&&(a.headerSectionController?e.headerSectionController=a.headerSectionController:e.headerSectionController=function(){}),g&&(a.footerSectionController?e.footerSectionController=a.footerSectionController:e.footerSectionController=function(){})},e.onScopeDestroy=function(){e.shellSizeChangeEvent&&e.shellSizeChangeEvent()},e.createGrid=function(){if(e.state.dataTable&&(D(e),e.state.dataTable=null,e.state.$table.length)){var a=e.state.$table.clone();e.state.$table.empty(),e.state.$table.remove(),e.state.summaryRow=void 0,e.state.tableElement=a,e.state.$table=angular.element(e.state.tableElement),e.state.$table.prependTo("#tblArea_"+e.state.dataGridId)}H(e)},e.$watch("epDataGridOptions",function(a){a&&e.setGridOptions(a)}),e.grDataTable=function(){return e.state.dataTable.dataTable()},e.grData=function(){var a=e.grDataTable();return a.fnGetData()},e.grApi=function(){return e.grDataTable().api()},e.grColumns=function(){var a=e.grDataTable();return a.fnSettings().aoColumns},e.grGetRowNodeByIndex=function(a){var b=e.grApi().row(a);return null===b?null:b.node()},e.grGetCellIndexByColumn=function(a){var b=e.grGetColumn(a);return b?b.idx:-1},e.grGetColumn=function(a){if(!a&&0!==a)return null;var b=e.grColumns(),c=angular.isString(a),d=null;return d=c?_.find(b,function(b){return b.sName===a}):_.find(b,function(b){return b.mData===a})},e.grGetMetaColumn=function(a){if(!a&&0!==a)return null;var b=e.state.gridColumns,c=angular.isString(a),d=null;return d=c?_.find(b,function(b){return b.name===a}):_.find(b,function(b){return b.data===a})},e.grFindColumnByCellIndex=function(a){var b=e.grColumns();return _.find(b,function(b){return b.nTh.cellIndex===a})},e.getRowByColumnValue=function(a,b){var c=null,d=e.grGetCellIndexByColumn(a);if(d!==-1){var f=e.grApi(),g=$.inArray(b,f.column(d).data());c=e.state.dataTable.find("tbody tr")[g]}return c},e.iterateHeaderColumns=function(a){var b=e.grApi().table().header(),c=$("tr",b),d=$(c).find("th");$(d).each(function(b,c){var d,f=$(c);f.width&&f.text()&&(d=e.grFindColumnByCellIndex(f.context.cellIndex)),a(f,d)})},e.calcTableHeight=function(){var a=0;if(e.state.$table.length){a=$(e.state.linkElement).height(),0===a&&e.state.linkElement[0].parentNode&&(a=$(e.state.linkElement[0].parentNode).height());var b=e.findElement(".dataTables_scrollBody").offset();if(e.options.fnOnCalcTableHeight)a=e.options.fnOnCalcTableHeight(a,b);else if(e.state.tableHeight&&angular.isNumber(e.state.tableHeight))a=e.state.tableHeight;else if("view"===e.options.tableHeight){var c=angular.element("#viewContainer");c.length&&(e.shellSizeChangeEvent||(e.shellSizeChangeEvent=f.$on("SHELL_SIZE_CHANGE_EVENT",function(){e.resizeTable(!0)})),a=c.height()-(b||{top:130}).top-40,e.options.fnOnCalcTableHeight&&(a=e.options.fnOnCalcTableHeight(a,b)))}if(e.options.showFooterSection){var d=e.findElement(".ep-datagrid-footer-section");d.length&&(a-=$(d).height())}if(e.options.enableSummaryRow&&e.state.dataTable&&e.state.displaySummaryRow!==!1){var g=e.grApi().table().footer();g&&(a-=$(g).height())}}return a},e.findInTable=function(a){return e.state.tableElement.find(a)},e.findElement=function(a){return e.state.linkElement.find(a)},e.renderGridCell=function(a,b,c,d){return A(e,a,b,c,d)},e.tableCellClick=function(a){e.tableCellClicked(a,!1)},e.tableCellDblClick=function(a){e.tableCellClicked(a,!0)},e.tableCellClicked=function(a,b){var c=a.target,d=$(c).closest(".ep-data-grid");if(d.length&&$(d).attr("id")===e.state.dataGridId){for(;c&&c!==this;){if("TR"===c.nodeName&&c.parentNode&&"TBODY"===c.parentNode.nodeName){e.activateCell(a,c),e.activateRow(c),b&&e.options.fnOnGridRowDoubleClick?e.options.fnOnGridRowDoubleClick(c):e.options.fnOnCheckBoxClick&&e.processCheckBoxGridClick(a.target,c);break}c=c.parentNode}e.options.fnExpandCollapseChildGrid&&e.options.fnExpandCollapseChildGrid(a,c,e)}},e.processCheckBoxGridClick=function(a,b){var c=e.state;if(e.options.fnOnCheckBoxClick&&b&&c.activeRow){var d=$(a);if(d.hasClass&&d.hasClass("checkbox-display")&&d.attr("mdata")){c.activeRecord=c.dataTable.fnGetData(c.activeRow);var f=d.closest("td");if(c.activeRecord&&f){var g=parseInt(d.attr("mdata"));if(!isNaN(g)){var h=_.find(e.state.gridColumns,function(a){return a.mData===g});h&&e.options.fnOnCheckBoxClick(c.activeRecord,h)}}}}},e.activateCell=function(a,b){if(a&&a.target&&e.state.canSelectCells===!0){e.findInTable("td.info").removeClass("info").removeClass("activeCell");var c=angular.element($(a.target).closest("td"));if(c&&c.length&&c.hasClass("selectable")){var d=c.closest("tr");if(d.length&&d[0]===b){c.hasClass("fixed")||c.addClass("info activeCell");var f=d.children().index(c);e.state.activeCell={index:f,cell:c}}}}},e.activateFirstRow=function(){e.activateNthRow(0,!1)},e.activateNthRow=function(b,c){var d=e.grGetRowNodeByIndex(b);return d&&(e.activateRow(d),a(function(){if(angular.element(d).trigger("click"),c){var a=e.state.linkElement.find(".dataTables_scrollBody");a.animate({scrollTop:$(d).prop("offsetTop")-a.height()/2},100)}},100)),d},e.getPrevNextRow=function(a,b){if(1!==a&&a!==-1)return null;var c=void 0===b?e.state.activeRow:b,d=1===a?$(c).next():$(c).prev();if(d&&d.length){var f=d.get(0);return angular.element(f).find(".row-alert").length?e.getPrevNextRow(a,f):"loadMoreDownRow"===f.id?null:f}return null},e.activateRow=function(a){var b=e.state;if(b.prevActiveRowSet!==a){if(b.activeRow){var c=angular.element(b.activeRow);c.removeClass("active").find(".row-indicator").removeClass(O)}a&&void 0!==a._DT_RowIndex&&(e.isValidRow(a)?(b.activeRow=a,b.activeRecord=b.dataTable.fnGetData(a),e.options.fnOnActivateRow&&e.options.fnOnActivateRow(b.activeRecord,b.activeRow),e.updateTableEditState(),angular.element(a).addClass("active").find(".row-indicator").addClass(O),e.options.fnSetRowIndicator&&e.options.fnSetRowIndicator(a,e)):(d.debug("scope.activateRow(row) - trying to activate an invalid row"),b.activeRow=null,b.activeRecord=null,e.updateTableEditState()),b.prevActiveRowSet=b.activeRow)}},e.scrollToRow=function(b){var c=angular.element(b?b:e.state.activeRow);c&&a(function(){var a=e.findElement(".dataTables_scrollBody"),b=c.offset().top-a.offset().top;a.scrollTop(b)})},e.updateTableEditState=function(){var a=e.state,b=angular.element(a.activeRow);a.dataTable.find(b).length||(e.activateFirstRow(),b=angular.element(a.activeRow)),e.findInTable(".row-indicator").removeClass(O),a.dataTable.find("tr.active").removeClass("active");var c=a.dataTable.find("tr");c.find("td").removeClass("edit-pending"),c.find(".edit-indicator").removeClass(P).removeClass(S),e.options.fnOnTableEditState&&e.options.fnOnTableEditState(),b.addClass("active").find(".row-indicator").addClass(O)},e.updateTableEditStateActiveRow=function(){if(null!==e.state.activeRow&&null!==e.state.activeRecord){var a=$(e.state.activeRow),b=a.find(".row-indicator");$(b).removeClass(O),a.find("tr.active").removeClass("active"),b.removeClass(P).removeClass(S),e.options.fnOnTableEditState&&e.options.fnOnTableEditState(e.state.activeRecord),b.addClass(O)}},e.setRowEditMode=function(a,b){var c=angular.element(a);"edit"===b&&c.find(".edit-indicator").addClass(P)},e.appendRow=function(a){var b=e.state.dataTable.fnSettings();b._iDisplayLength++;var c=e.state.dataTable.fnAddData(a,!0)[0],d=e.state.dataTable.find("tr"),f=$(d.get(c+1));return f},e.isValidRow=function(a){if(a){var b=angular.element(a);if(b&&b.index&&e.state.dataTable.fnGetData(a))return!0}return!1},e.resizeTable=function(b){e.state.$table&&e.state.$table.is(":visible")&&(a.cancel(e.resizeTimeout),e.resizeTimeout=a(function(){if(e.state.dataTable){var a=e.calcTableHeight(),c=e.state.dataTable.fnSettings(),d=a+"px";c&&c.oScroll&&(b||c.oScroll.sY!==d)&&(c.oScroll.sY=d,e.findElement(".dataTables_scrollBody").height(a))}},300))},e.refreshData=function(){if(e.state.dataTable){var a=e.state.gridLoadPrms.previousPrms;E(e,a.searchTerm,a.sortColIdx,a.sortDir,!1,!1,!0)}},e.draw=function(a){var b=e.grApi();b&&b.draw(a)},e.setDataSource=function(a,b){e.state.staticMode===!0&&(e.state.dataSource=a&&0!==a.length?a:null,b&&e.state.dataTable&&(e.state.dataTable.fnClearTable(),e.state.dataTable.fnAddData(e.state.dataSource)))},e.callPreviousGetData=function(){if(e.state.dataTable){var a=e.state.gridLoadPrms.previousPrms,b=e.state.gridLoadPrms.previousCall;E(e,a.searchTerm,a.sortColIdx,a.sortDir,b.append,b.showEditIndicator,!1)}},e.showProgressIndicator=function(){e.options.fnShowProgressIndicator&&e.options.fnShowProgressIndicator()},e.hideProgressIndicator=function(){e.options.fnHideProgressIndicator&&e.options.fnHideProgressIndicator()},e.sumColumn=function(a){var b=function(a){return"string"==typeof a?1*a.replace(/[\$,]/g,""):"number"==typeof a?a:0};return e.grApi().column(a).data().reduce(function(a,c){return b(a)+b(c)},0)},e.formatNumber=function(a,b){return"decimal"===b.userColumnDef.sType?a=B(a,b):"integer"===b.userColumnDef.sType&&(a=C(a)),a},e.updateSummaryRow=function(){e.options.enableSummaryRow&&angular.forEach(e.state.summaryRow.columns,function(a){if(a.value=void 0,a.col)if(a.col.userColumnDef.summarize)a.value=e.formatNumber(e.sumColumn(a.col.iIndex),a.col);else{var b=a.col.userColumnDef.fnOnSummaryUpdate||e.options.fnOnSummaryUpdate;b&&b(a)}})},e.createFilter=function(){if(0===e.findElement(".ep-datagrid-filter-row").length){var a=e.grApi().table().header();return angular.element(a).append(b("<ep-data-grid-filter-row></ep-data-grid-filter-row>")(e)),!0}return!1},e.showFilter=function(){e.createFilter(),e.state.filterShowFlag=!0},e.hideFilter=function(){e.state.filterShowFlag=!1},e.toggleFilter=function(){e.createFilter()?e.state.filterShowFlag=!0:e.state.filterShowFlag=void 0===e.state.filterShowFlag||!e.state.filterShowFlag,e.configmenu[0].checked=e.state.filterShowFlag},e.getFilterState=function(){e.state.filterFunctions&&e.state.filterFunctions.getFilterExpressions()},e.setInitialFilters=function(){e.getFilterState();var a=!(!e.state.filterExpressions||!e.state.filterExpressions.length);a?e.showFilter():e.getFilterState()},e.onHideFilter=function(a){a&&e.applyFilter()},e.onChangeFilter=function(){e.applyFilter()},e.applyFilter=function(){e.state.filterTimeout&&a.cancel(e.state.filterTimeout),e.state.filterTimeout=a(function(){e.getFilterState();var a=e.state.gridLoadPrms.previousPrms;E(e,a.searchTerm,a.sortColIdx,a.sortDir,!1,!0,!1)},200)},e.epDataGridOnInit&&e.epDataGridOnInit({factory:e.state.gridFactory})}var O="fa fa-play",P="fa fa-square",Q="fa-check-square-o",R="fa-square-o",S="fa fa-edit",T=h.getFeatures();e.performDrillThrough=function(a){var b=angular.element(a.target),c=b.scope();if(c.options.fnOnPerformDrillThrough){var d,e=b.closest("td"),f=c.grApi().cell(e).index(),g=-1;if(f.column>=0&&_.any(c.options.metadata.columns,function(a){a.mData===f.column-2&&(d=a,g=d.mData)}),d&&"True"===d.sIsDrillable&&g>=0){var h=c.grGetRowNodeByIndex(f.row),i=c.state.dataTable.fnGetData(h),j=i[g];c.options.fnOnPerformDrillThrough(j,i,d,g,f.row)}}},e.onExternalLinkClick=m;var U={group:z,bool:s,date:r,phone:n,address:o,email:p,url:q,currency:t,integer:v,decimal:u,select:y,rowIndicator:w,editIndicator:x},V={group:!1,bool:!1,date:!0,phone:!0,address:!0,email:!0,url:!0,currency:!0,integer:!0,decimal:!0,select:!1,rowIndicator:!1,editIndicator:!1};return{restrict:"E",templateUrl:"src/components/ep.datagrid/datagrid.html",scope:{epDataGridOptions:"=",epDataGridOnInit:"&"},link:N}}]),function(){"use strict";function a(a,b){function c(c,d,e){var f={tableHeight:300,pageLength:20,staticMode:!0,fnUpdateRecordsInfo:function(a){g.statusBarText=a}};b.copyProperties(d,f);var g={size:"large",title:"",templateUrl:"src/components/ep.datagrid/datagrid-dialog.html",icon:"fa fa-cogs fa-2x",onDataGrid:function(a){a.setGridOptions(f),a.setDataSource(e,!0)},statusBar:!0,buttons:[{isCancel:!0,id:"cancel_btn",text:"Cancel"}]};b.copyProperties(c,g),a.showCustomDialog(g)}function d(a){var b="string",c=a.toLowerCase();return 0===c.indexOf("system.")&&(c=c.substr(7)),"datetime"===c?b="date":"bool"===c||"boolean"===c?b="bool":"int"!==c&&"integer"!==c&&"int32"!==c&&"int64"!==c&&"long"!==c&&"int16"!==c||(b="integer"),"double"!==c&&"decimal"!==c&&"float"!==c||(b="decimal"),b}return{showGridDialog:c,resolveDataType:d}}a.$inject=["epModalDialogService","epUtilsService"],angular.module("ep.datagrid").service("epDataGridService",a)}(),function(){"use strict";function a(a,b,c){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.datagrid/ep.datagrid.json/ep-datagrid-json.html",scope:{options:"=",columnNames:"=",columnProps:"=",data:"=",onGridInit:"&"},compile:function(){return{pre:function(a){a.state={},a.state.datagridOptions={tableHeight:300,pageLength:20,staticMode:!0,metadata:{}},c.copyProperties(a.options,a.state.datagridOptions),a.detectType=function(b){var c=_.find(a.data,function(a){return void 0!==a[b]&&null!==a[b]}),d=typeof c[b];return"number"===d?"int":"string"},a.setMeta=function(){a.state.columnNames=a.columnNames||"",a.state.columnNames&&angular.isString(a.state.columnNames)?a.state.columnNames=a.state.columnNames.split(","):a.state.columnNames=[];var b=a.data&&angular.isArray(a.data)&&a.data.length;if(0===a.state.columnNames.length&&b){var d=a.data[0];a.state.columnNames=[];for(var e=0;e<d.length;e++)a.state.columnNames.push("Column "+e)}var f=a.options&&a.options.metadata&&a.options.metadata.columns;if(!f){for(var g=[],h=0;h<a.state.columnNames.length;h++){var i=a.state.columnNames[h],j={mData:h,sName:i,sTitle:i};if(a.columnProps){var k=a.columnProps[h];k&&c.copyProperties(k,j)}!j.sDataType&&b&&(j.sDataType=a.detectType(h)),g.push(j)}a.state.datagridOptions.metadata.columns=g}},a.onDataGrid=function(b){a.state.factory=b,a.setMeta(),a.state.factory.setGridOptions(a.state.datagridOptions),a.state.factory.setDataSource(a.data,!0),a.options&&(a.options.factory=b),a.onGridInit&&a.onGridInit(b)},a.$watch("columnNames",function(b,c){b&&b!==c&&(a.setMeta(),a.state.factory.setGridOptions(a.state.datagridOptions),a.state.factory.createGrid())}),a.$watch("data",function(b,c){b&&b!==c&&a.state.factory.setDataSource(a.data,!0)})}}}}}a.$inject=["$compile","$log","epUtilsService"],angular.module("ep.datagrid").directive("epDataGridJson",a)}(),function(){"use strict";angular.module("ep.dock.panel").directive("epDockPanel",["$log","$timeout",function(a,b){function c(a){a.panelId=_.uniqueId("dockPanel_")}function d(a,b,c){}function e(a){g.forEach(function(b){a[b].forEach(function(a){var c=b+"Flow",d=a.epOrientation+(a.epWrap?" wrap":"");$scope[c]=d;var e=a.children();e.each(function(){$(this)})})})}function f(a,c){function d(b){var c=i.find(".ep-dock-panel-"+b),d=j.find("[dock="+b+"]");c.epPanelMode=d.attr("mode"),c.epOrientation=d.attr("orientation")||"vertical",c.epWrap="true"===(c.attr("wrap")||"false").toLowerCase(),c.hasContent=!!d.length,"static"===c.epPanelMode&&c.css("flex","0 0"),f[b]=c,h[b].push(d),a[b+"Visible"]=d.length,c.append(d)}var f={left:null,right:null,top:null,bottom:null,center:null},h={left:[],right:[],top:[],bottom:[],center:[]},i=$(c),j=i.find("#transclusion"),k=i.find(".ep-dock-panel-cross-axis"),l=j.children(),m=l.attr("dock"),n=!1;"top"===m||"bottom"===m?(n=!0,a.mainFlow="column",i.find(".ep-dock-panel-top").appendTo(i),i.find(".ep-dock-panel-bottom").appendTo(i),a.crossFlow="row",i.find(".ep-dock-panel-left").appendTo(k),i.find(".ep-dock-panel-right").appendTo(k)):(a.mainFlow="row",i.find(".ep-dock-panel-left").appendTo(i),i.find(".ep-dock-panel-right").appendTo(i),a.crossFlow="column",i.find(".ep-dock-panel-top").appendTo(k),i.find(".ep-dock-panel-bottom").appendTo(k)),g.forEach(d);var o,p=0;if(n)p=(f.top.hasContent&&"stretch"===f.top.epPanelMode?1:0)+(f.left.hasContent||f.center.hasContent||f.right.hasContent?1:0)+(f.bottom.hasContent&&"stretch"===f.bottom.epPanelMode?1:0),p&&(o=100/p,f.top.hasContent&&"stretch"===f.top.epPanelMode&&(a.topFlex="1 1 "+o+"%"),(f.left.hasContent||f.center.hasContent||f.right.hasContent)&&(a.crossFlex="1 1 "+o+"%",q=(f.left.hasContent&&"stretch"===f.left.epPanelMode?1:0)+(f.center.hasContent&&"stretch"===f.center.epPanelMode?1:0)+(f.right.hasContent&&"stretch"===f.right.epPanelMode?1:0),r=100/q,f.left.hasContent&&"stretch"===f.left.epPanelMode&&(a.leftFlex="1 1 "+r+"%"),f.center.hasContent&&"stretch"===f.center.epPanelMode&&(a.centerFlex="1 1 "+r+"%"),f.right.hasContent&&"stretch"===f.right.epPanelMode&&(a.rightFlex="1 1 "+r+"%")),f.bottom.hasContent&&"stretch"===f.bottom.epPanelMode&&(a.bottomFlex="1 1 "+o+"%"));else if(p=(f.left.hasContent&&"stretch"===f.left.epPanelMode?1:0)+(f.top.hasContent||f.center.hasContent||f.bottom.hasContent?1:0)+(f.right.hasContent&&"stretch"===f.right.epPanelMode?1:0)){if(o=100/p,f.left.hasContent&&"stretch"===f.left.epPanelMode&&(a.leftFlex="1 1"+o+"%"),f.top.hasContent||f.center.hasContent||f.bottom.hasContent){a.crossFlex="1 1 "+o+"%";var q=(f.top.hasContent&&"stretch"===f.top.epPanelMode?1:0)+(f.center.hasContent&&"stretch"===f.center.epPanelMode?1:0)+(f.bottom.hasContent&&"stretch"===f.bottom.epPanelMode?1:0),r=100/q;f.top.hasContent&&"stretch"===f.top.epPanelMode&&(a.topFlex="1 1 "+r+"%"),f.center.hasContent&&"stretch"===f.center.epPanelMode&&(a.centerFlex="1 1 "+r+"%"),f.bottom.hasContent&&"stretch"===f.bottom.epPanelMode&&(a.bottomFlex="1 1 "+r+"%")}f.right.hasContent&&"stretch"===f.right.epPanelMode&&(a.rightFlex="1 1 "+o+"%")}b(function(){e(h)})}c.$inject=["$scope"];var g=["top","bottom","left","right","center"];return{restrict:"E",replace:!0,templateUrl:"src/components/ep.dock.panel/epDockPanel.html",controller:c,transclude:!0,link:{pre:d,post:f}}}])}(),function(){"use strict";angular.module("ep.drag.drop").factory("dragOperationFactory",[function(){function a(a){var b={};return b.dropCallback=a.dropCallback,b.dragStart=a.dragStart,b.dropCallbackParams=a.dropCallbackParams,b.dragItem=a.dragItem,b.dragItemType=a.dragItemType,b}return{getDragOperation:a}}])}(),function(){"use strict";angular.module("ep.drag.drop").directive("epDraggable",["dragOperationFactory",function(a){return{restrict:"A",scope:{dropCallback:"=dropCallback",dragStart:"=dragStart",dropCallbackParams:"=dropCallbackParams",dragItem:"=dragItem",dragItemType:"=dragItemType",dragEnabled:"="},compile:function(b,c){return c.draggable||b.attr("draggable","true"),function(b,c){if(!b.dragItemType)throw new Error("Dragged item type is not specified!");b.$watch("dragEnabled",function(a){void 0!==a&&c.attr("draggable",a===!1?"false":"true")}),c.on("dragstart",function(c){c.stopPropagation(),c.originalEvent.dataTransfer.setData("Text",c.target.textContent),c.originalEvent.dataTransfer.dropEffect="move";var d=a.getDragOperation(b),e=function(){return d};angular.isFunction(d.dragStart)&&d.dragStart(c,d.dragItem),$(c.target).addClass("ep-drag-active"),b.$root.$broadcast("startDraging",e)}),c.on("dragend",function(c){c.stopPropagation(),c.preventDefault(),$(c.target).removeClass("ep-drag-active");var d=a.getDragOperation(b);angular.isFunction(d.dropCallback)&&d.dropCallback()})}}}}])}(),function(){"use strict";function a(a){function b(b,c){function d(a,b){j=b}function e(a){var b=c.dropItemTypes.split(",");if(Array.isArray(b)&&b.length>1){if(b.indexOf(a)===-1)return!1}else if(c.dropItemTypes!==a)return!1;return!0}function f(d){d.stopPropagation(),d.preventDefault(),$(b).removeClass("ep-drop-active ep-drop-highlight");var f=j();e(f.dragItemType)&&a[c.dropHandler]&&a[c.dropHandler].call(f.dragItem||this,f,b)}function g(d){d.stopPropagation(),d.preventDefault();var f=j();if(e(f.dragItemType)&&($(b).addClass("ep-drop-active"),m&&$(b).addClass("ep-drop-highlight")),a[c.overHandler]){var g=f.dragItem||this;a[c.overHandler].call(g,f,d)}}function h(d){if(d.stopPropagation(),d.preventDefault(),$(b).removeClass("ep-drop-active ep-drop-highlight"),a[c.overHandler]){var e=j(),f=e.dragItem||this;a[c.overHandler].call(f,e,d)}}function i(c){l=c,c?(k=a.$on("startDraging",d),b.on("drop",f),b.on("dragover",g),b.on("dragleave",h)):(k&&k(),b.off("drop"),b.off("dragover"),b.off("dragleave"))}var j,k,l,m=!0;a.$watch(c.dropHighlight,function(a){a!==!0&&a!==!1||(m=a)}),void 0===c.dropEnabled?i(!0):a.$watch(c.dropEnabled,function(a){void 0===a&&void 0===l&&i(!0),a!==!0&&a!==!1||a===l||i(a)})}a.register=b}a.$inject=["$scope"],angular.module("ep.drag.drop").controller("epDropAreaCtrl",a)}(),angular.module("ep.drag.drop").directive("epDropArea",[function(){return{restrict:"A",controller:"epDropAreaCtrl",controllerAs:"dropCtrl",scope:!1,compile:function(){return function(a,b,c){a.register(b,c)}}}}]),function(){"use strict";function a(a,b){a.menuClick=function(a,c){void 0===c.target.checked?a.checked=!a.checked:b(function(){$(c.target).prop("checked",a.checked)}),a.action&&a.action(a),c.preventDefault(),c.stopPropagation()}}a.$inject=["$scope","$timeout"],angular.module("ep.dropdown").controller("epDropdownBtnCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",controller:"epDropdownBtnCtrl",scope:{menu:"=",icon:"="},templateUrl:"src/components/ep.dropdown/ep-dropdown-btn/ep-dropdown-btn.html"}}angular.module("ep.dropdown").directive("epDropdownBtn",a)}(),function(){"use strict";angular.module("ep.dynamic.directive").controller("epDynamicDirectiveCtrl",["$scope","epDynamicDirectiveService",function(a,b){function c(){d.compiled=b.build(d.directiveInfo.name,d.directiveInfo.scopeProperties,d.scope),d.element&&d.element.html(d.compiled)}var d=this;d.scope=a,a.$watch(function(){return d.directiveInfo},c),c()}])}(),function(){"use strict";angular.module("ep.dynamic.directive").directive("epDynamicDirective",function(){return{restrict:"E",controller:"epDynamicDirectiveCtrl",controllerAs:"dynamicDirective",bindToController:!0,scope:{directiveInfo:"="},compile:function(){return{pre:function(a,b){a.dynamicDirective.element=b},post:function(a,b){null!==a.dynamicDirective.compiled&&b.append(a.dynamicDirective.compiled)}}}}})}(),function(){"use strict";angular.module("ep.dynamic.directive").service("epDynamicDirectiveService",["$rootScope","$compile",function(a,b){var c={};this.build=function(c,d,e,f){var g=f?e||a:e?e.$new():a.$new();angular.extend(g,d);var h=this.getTemplate(c);return h?b(h)(g):null},this.registerTemplate=function(a){c[a.id]||(c[a.id]=a.value)},this.getTemplate=function(a){return c[a]}}])}(),angular.module("ep.embedded.apps").directive("epEmbeddedAppsHref",["$log","epEmbeddedAppsService",function(a,b){return{restrict:"A",scope:{},link:function(c,d,e){function f(){c.clickHandler=d.bind("click",function(){b.goToView(e.epHrefAppId,e.epHref)}),c.$on("$destroy",function(){d.unbind("click",c.clickHandler)})}if("A"===d[0].tagName||"BUTTON"===d[0].tagName)if("A"===d[0].tagName&&e.$set("href",""),e.epHrefAppId)f();else for(var g=Object.keys(b.configs),h=0;h<g.length;h++){var i=b.configs[g[h]];if(i.isRunning){e.$set("epHrefAppId",i.id),f();break}}else a.warn("ep-embedded-apps-href can only be used on an <a> or <button> tag")}}}]),function(){"use strict";function a(a,b,c,d,e,f,g,h){return{scope:{config:"=",onComplete:"&"},link:function(i,j){function k(){m&&(m.$destroy(),m=null),j.html("")}function l(d){var h,i=c.defer(),j="view:"+d;return g.scriptCache.get(j)?(h=g.scriptCache.get(j),e(function(){i.resolve(h)},0)):a.get(d,{cache:f}).then(function(a){g.scriptCache.put(j,a.data),i.resolve(a.data)},function(a){b.error('Error loading template "'+d+'": '+a),i.reject(a)}),i.promise}var m;i.$watch("config.id",function(){var a=i.config;a&&a.id?h.load(a).then(function(){var b=a.activeViewId||a.startViewId,c=h.getAppPath(a.id,a.views[b].templateUrl);return l(c)}).then(function(a){m=i.$new(),j.html(a);var b=j.contents(),c=d(b);c(m),i.onComplete&&i.onComplete()}):k()})}}}a.$inject=["$http","$log","$q","$compile","$timeout","$templateCache","epEmbeddedAppsCacheService","epEmbeddedAppsProvider"],angular.module("ep.embedded.apps").directive("epEmbeddedAppsLoader",a)}(),angular.module("ep.embedded.apps").service("epEmbeddedAppsShellService",["$rootScope","$location","$log","$timeout","epEmbeddedAppsConstants","epEmbeddedAppsProvider","epUtilsService",function(a,b,c,d,e,f,g){function h(a){f.state&&f.state.loadComplete?a():d(function(){h(a)},250)}function i(){n=g.getService("epShellService"),n&&(a.$on(e.CONFIG_LOADED_EVENT,function(a,b){o=b.goToView,l(b.configs)}),a.$on(e.APPLICATION_LOADED_EVENT,function(a,b){var c=b.scope,d=c.appConfig;d.name&&n.setPageTitle(d.name),n.saveState(),j(c,d)}),a.$on(e.APPLICATION_EXIT_EVENT,function(){n.restoreState()}),a.$on(e.VIEW_LOADED_EVENT,function(a,b){var c=b.scope,d=c.appConfig,e=d.views[b.viewId];e&&h(function(){k(c,d,e)})}))}function j(a,c){if(c.epShellNavBar&&(c.epShellNavBar.hideHostButtons&&n.updateNavbarButtons([]),c.epShellNavBar.closeButton)){var d=c.epShellNavBar.closeButton;n.addNavbarButtons([{id:d.id||"ep.embedded.app_closeApp",title:d.title||"Close application and return home.",icon:d.icon||"fa-times",action:function(){b.url("/home")}}])}}function k(a,b,c){if(c.sidebarOptions&&!c.sidebarSettings&&(c.sidebarSettings=c.sidebarOptions),c.sidebarSettings){if(n.disableLeftSidebar(),c.sidebarSettings.left)if(n.enableLeftSidebar(),c.sidebarSettings.left.templateUrl){var d=a.embeddedAppsService.getAppPath(b.id,c.sidebarSettings.left.templateUrl);n.setLeftTemplate("<div ng-include=\"'"+d+"'\"></div>")}else c.sidebarSettings.left.template&&n.setLeftTemplate(c.sidebarSettings.left.template);if(n.disableRightSidebar(),c.sidebarSettings.right)if(n.enableRightSidebar(),c.sidebarSettings.right.templateUrl){var e=a.embeddedAppsService.getAppPath(b.id,c.sidebarSettings.right.templateUrl);n.setRightTemplate("<div ng-include=\"'"+e+"'\"></div>")}else c.sidebarSettings.right.template&&n.setRightTemplate(c.sidebarSettings.right.template)}else n.disableLeftSidebar(),n.disableRightSidebar();if(c.viewSettings){var g=c.viewSettings,h=f.getAppRoute(b.id,b.startViewId);g.small&&(b.startupInShell&&!g.small.brandTarget&&(g.small.brandTarget=h),angular.forEach(g.small,function(a,b){n.__state.viewSettings.small[b]=a})),g.large&&(b.startupInShell&&!g.large.brandTarget&&(g.large.brandTarget=h),angular.forEach(g.large,function(a,b){n.__state.viewSettings.large[b]=a})),g.small||g.large||(b.startupInShell&&!g.brandTarget&&(g.brandTarget=h),angular.forEach(g,function(a,b){n.__state.viewSettings.small[b]=a,n.__state.viewSettings.large[b]=a})),n.__setCurrentModeFlags()}}function l(a){var b;n.isHomeLocation()&&(a&&angular.forEach(a,function(a){if(a.epShellNavBar&&a.epShellNavBar.applicationButton){var c=a.epShellNavBar.applicationButton;n.addNavbarButtons([{id:"ep.embedded.app_"+a.id,title:c.title||a.name,icon:c.icon||a.icon,action:function(){o(a.id)}}])}a.startupInShell&&(b=a)}),b&&o(b.id))}function m(){}var n,o;return d(function(){i()}),{initialize:m,setupShellConfigs:l}}]),angular.module("ep.embedded.apps").constant("epEmbeddedAppsConstants",{CONFIG_LOADED_EVENT:"EMBEDDED_CONFIG_LOADED_EVENT",APPLICATION_LOADED_EVENT:"EMBEDDED_APPLICATION_LOADED_EVENT",VIEW_LOADED_EVENT:"EMBEDDED_VIEW_LOADED_EVENT",APPLICATION_EXIT_EVENT:"EMBEDDED_APPLICATION_EXIT_EVENT"}),angular.module("ep.embedded.apps").directive("epEmbeddedApps",["$document","$log","$rootScope","$routeParams","$location","$timeout","epEmbeddedAppsService","epEmbeddedAppsCacheService","epEmbeddedAppsConstants",function(a,b,c,d,e,f,g,h,i){return{restrict:"E",templateUrl:"src/components/ep.embedded.apps/embedded-apps.html",link:function(j){function k(k){var m=g.configs[k];if(m){var n;if(n=l.viewId?m.views[l.viewId]:m.views[m.startViewId],n&&(n.parent=m,m.activeViewId=l.viewId,j.currentView=n,n.routeParams)){var o=n.routeParams.split("/").map(function(a){return a.substring(1,a.length)}),p=0;angular.forEach(o,function(a){a&&(d[a]=d["p"+p],delete d["p"+p],p++)})}if(!m.initialized&&m.splash){f(function(){j.showSplash=!0}),j.showApp=!1;var q=new Date;j.onLoaderComplete=function(){var a=Math.max(2e3-(new Date-q),0);m.initialized=!0,f(function(){j.showSplash=!1,j.showApp=!0,j.$apply()},a)}}else j.showApp=!0,m.onComplete=null,m.initialized=!0;if(j.appConfig=m,j.embeddedAppsService=g,m.isRunning!==!0){m.isRunning=!0;var r=g.getAppRoute("");m.locationHdl||(m.locationHdl=c.$on("$locationChangeStart",function(){m.locationHdl&&0!==e.url().indexOf(r)&&(c.$on("$destroy",m.locationHdl),m.locationHdl=null,m.isRunning=!1,c.$emit(i.APPLICATION_EXIT_EVENT,{scope:j,viewId:l.viewId}),m.resources.links.forEach(function(c,d){var e="link_"+d,f=a[0].getElementById(e);f&&(a[0].getElementsByTagName("head")[0].removeChild(f),b.debug("Unloading link: "+c)),h.linkCache.remove(e)}),f(function(){j.$apply()}))})),f(function(){j.$emit(i.APPLICATION_LOADED_EVENT,{scope:j,viewId:l.viewId}),j.$apply()})}f(function(){j.$emit(i.VIEW_LOADED_EVENT,{scope:j,viewId:l.viewId}),j.$apply()})}}var l=g.state;j.showSplash=!1,c.$watch(function(){return g.state.loadComplete},function(a){a&&(l.appId=d.appId,d.viewId&&(l.viewId=d.viewId),k(l.appId))})}}}]),angular.module("ep.embedded.apps").service("epEmbeddedAppsCacheService",["$cacheFactory",function(a){var b=a("scriptCache",{capacity:200}),c=a("linkCache",{capacity:200});return{scriptCache:b,linkCache:c}}]).provider("epEmbeddedAppsProvider",["$controllerProvider","$provide","$compileProvider","$filterProvider",function(a,b,c,d){function e(a){try{angular.module(a)}catch(b){if(/No module/.test(b))return!1}return!0}function f(a){var b=[];return angular.forEach(a.requires,function(a){l.indexOf(a)===-1&&b.push(a)}),b}function g(a,b,c){var d,e,f;for(f=b,d=0,e=b.length;d<e;d++){var g,h=b[d];if(!c.hasOwnProperty(h[0]))return a.error("unsupported provider "+h[0]);g=c[h[0]];var i=g[h[1]],j=h[2];i.apply(g,j)}}function h(a,b,c,d){var e,h,i;if(d){var j=[],k=[];for(m.hostAppModule&&(k=f(angular.module(m.hostAppModule))),c.$injector=b,e=d.length-1;e>=0;e--){if(h=d[e],angular.moduleRequiresLoading[h]||k.length&&k.indexOf(h)===-1){l.push(h),i=angular.module(h),j=j.concat(i._runBlocks);try{g(a,i._invokeQueue,c),g(a,i._configBlocks,c)}catch(n){throw n.message&&(n.message+=" from "+h),a.error(n.message),n}angular.moduleRequiresLoading[h]=!1}d.pop()}angular.forEach(j,function(c){try{b.invoke(c)}catch(d){a.error(d)}})}return null}function i(){var a=_.flatten(arguments,!0),b=m.path;return angular.forEach(a,function(a){b+="/"+a}),b}function j(){var a=_.flatten(arguments,!0),b="/"+m.rootRoute;return angular.forEach(a,function(a){b+="/"+a}),b}function k(a,b){return q=a,["$location",function(a){function c(){return i(q.id,arguments)}function d(){return j(q.id,arguments)}function e(b){a.url(d(b))}function f(a,c,d,e,f){if(void 0!==e&&null!==e&&!f&&h[e])return b(function(){return h[e]})}function g(){return q}var h={},k={get:function(a,b,c){return f("get",a,"",b,c)},post:function(a,b,c,d){return f("post",a,b,c,d)},put:function(a,b,c,d){
return f("put",a,b,c,d)},"delete":function(a,b,c,d){return f("delete",a,"",c,d)}};return{getConfig:g,resource:k,data:h,goToView:e,getAppPath:c,getAppRoute:d}}]}var l=["ng"],m={rootRoute:"app",path:"apps",provider:"sysconfig",applications:[],hostAppModule:""},n={},o={$controllerProvider:a,$compileProvider:c,$filterProvider:d,$provide:b},p=[];p.push=function(a){this.indexOf(a)===-1&&Array.prototype.push.apply(this,arguments)};var q,r={loadComplete:!1};this.$get=["$timeout","$document","$http","$injector","$log","$q","epEmbeddedAppsCacheService","epSysConfig","epUtilsService",function(a,b,c,d,g,s,t,u,v){function w(j){function m(c,d){c.forEach(function(c,e){var f="link_"+e;if(c&&!t.linkCache.get(f)){var g=b[0].createElement("link");g.setAttribute("id",f),g.rel="stylesheet",g.href=c,g.type="text/css",b[0].head.appendChild(g),t.linkCache.put(f,1),a(function(){d("Link: "+c)})}})}function u(a,b,c){function d(b){function c(){e--,e<1&&d.resolve()}var d=s.defer(),e=b.length;return 0===e&&d.resolve(),b.forEach(function(b){v.loadScript(b,t.scriptCache).then(function(b){a(b)}).then(c,c)}),d.promise}r.loadComplete=!1,function(a){angular.moduleRequiresLoading={},angular.module=function(){return arguments.length>1&&(angular.moduleRequiresLoading[arguments[0]]=!0),a.apply(null,arguments)}}(angular.module);var e=(j.resources.scripts.thirdParty||[]).map(function(a){return i(j.id,a)});d(e).then(function(){var b=j.resources.scripts.module;if(b)return v.loadScript(i(j.id,b),t.scriptCache).then(function(b){a(b)})}).then(function(){var a=j.resources.scripts.app.map(function(a){return i(j.id,a)});return d(a)}).then(c);var f=j.resources.links.map(function(a){return i(j.id,a)});m(f,b)}function w(b,c){function d(d){if(d){var e=i.indexOf(d);e>-1&&i.splice(e,1)}0===i.length&&a(function(){c(b)})}if(l.indexOf(b)>-1)return c();var h=angular.module(b),i=f(h),j=f(h);return angular.forEach(j,function(a){if(p.push(a),e(a))return d(a);var b=n[a];return b?u(function(){},function(){},function(){w(a,function(a){d(a)})}):(g.warn("module ["+a+"] not loaded and not configured"),d(a)),null}),0===j.length&&d(),null}var x=s.defer(),y="module: "+j.id;if(n[j.id]=j,!j){var z="Module not configured";throw g.error(z),z}if(t.scriptCache.get(y)){g.debug("AppPackage "+j.id+" already loaded."),q=j,x.resolve(j.id);var A=j.resources.links.map(function(a){return i(j.id,a)});m(A,function(a){g.debug("Loaded "+a)})}else u(function(a){g.debug("Loaded "+a)},function(a){g.debug("Loaded "+a)},function(){p.push(j.id),w(j.id,function(){angular.module(j.id).factory("appPackageService",k(j,a,c)),h(g,d,o,angular.copy(p)),t.scriptCache.put(y,j),a(function(){x.resolve(j.id),r.loadComplete=!0})})});return x.promise}function x(){return u.mergeSection("ep.embedded.apps",m),m.path||(m.path="apps"),m.rootRoute||(m.rootRoute="app"),m}return m=x(),{settings:m,load:w,modules:n,getAppPath:i,getAppRoute:j,state:r}}]}]),angular.module("ep.embedded.apps").service("epEmbeddedAppsService",["$rootScope","$http","$q","$log","$location","$window","epUtilsService","epEmbeddedAppsProvider","epEmbeddedAppsConstants","epEmbeddedAppsShellService","epEmbeddedAppsCacheService",function(a,b,c,d,e,f,g,h,i,j,k){function l(a){var b=c.defer();return g.wait(function(){return C.loading!==!0},30,250,function(){m(a).then(function(a){b.resolve(a)})}),b.promise}function m(a){var b=c.defer();return D=[],E=0,C.loadComplete?(a===!0&&v(),b.resolve(!0)):q(b),b.promise}function n(){var a={Success:!0,apps:h.settings.applications},b=c.defer();return b.resolve(a),b.promise}function o(){var a=h.settings.provider;if(a&&"sysconfig"!==a){var b=g.getService(a);return b?b.getApps():[]}return n()}function p(a){var b=c.defer(),e=null;return g.hasProperty(a,"resources.scripts.startup")&&(e=h.getAppPath(a.id,a.resources.scripts.startup)),e&&a.resources.scripts.startup?g.loadScript(e,k.scriptCache).then(function(){try{var c=angular.injector([a.id+"-startup","ng","ngRoute"]),e=c.get("appStartupService");e&&(a.state.startupService=e)}catch(f){d.warn("startup service [appStartupService] was not executed for embedded application: "+a.id)}b.resolve(!0)},function(){d.warn("startup service [appStartupService] was not loaded for embedded application: "+a.id),b.resolve(!1)}):b.resolve(!0),b.promise}function q(a){C.loading=!0;var c=g.getService("epEmbeddedAppsService");o("config").then(function(e){try{e&&e.Success?(D=e.apps,E=0,D.forEach(function(e){var i=h.getAppPath(e,"AppPackage.json");b.get(i).then(function(b){var e=b.data;d.debug("Parsing AppPackage.config file: "+i),e.state={},B[e.id]=e,d.debug("AppPackage name: "+e.name);var h=e.tileSize?e.tileSize.split("x"):["2","1"];if(h&&2===h.length){var j=["","one","two","three","four","five","six","seven","eight","nine","ten"];try{e.tileSize={width:parseInt(h[0]),height:parseInt(h[1])},e.tileClass=(j[e.tileSize.width]||"two")+"-wide "+(j[e.tileSize.height]||"one")+"-tall"}catch(k){d.warn("Invalid value in tileSize property: "+e.tileSize)}}e.epEmbeddedAppsService=c,e.menu&&e.menu.disabled===!0||(e.state.menu={caption:"root",menuitems:[{caption:e.name,description:e.description||e.name,id:"pkg_"+e.id,_id:"pkg_"+e.id,version:e.version||"",action:function(){if(e.launchInTab){var a="./Index.html#"+t(e.id,e.startViewId,"");f.open(a)}else u(e.id)}}]}),p(e).then(function(){e.views=g.mapArray(e.views,"id"),e.initialized=!1,r(a)})},function(b){r(a),d.error("Failed retrieving AppPackage.config file: "+i),d.error(b)})}),C.loadComplete=!D.length):d.warn("Unable to load app package definition files.")}catch(i){C.loading=!1,d.error(i),a.reject(i)}})}function r(b){++E===D.length&&(a.$emit(i.CONFIG_LOADED_EVENT,{configs:B,goToView:u}),C.loading=!1,C.loadComplete=!0,b.resolve(!0))}function s(){return h.getAppPath(arguments)}function t(){return h.getAppRoute(arguments)}function u(a,b){var c=B[a];c&&e.url(t(c.id,b||c.startViewId))}function v(){j.setupShellConfigs(B)}function w(a,b){a.id&&(a._id=b+a.id),angular.forEach(a,function(a){a.id&&(a._id=b+a.id)}),a.menuitems&&w(a.menuitems,b)}function x(a,b,c,d,e){a.state.menu=b,b&&(w(a.state.menu,"pkg_"+a.id+"_"),c.push(a.state.menu)),e.menuToComplete--,e.menuToComplete<1&&d.resolve(c)}function y(){var a=[],b=[],e=c.defer();if(!C.loadComplete)return g.wait(function(){return C.loadComplete},30,250,function(){y().then(function(a){e.resolve(a)})}),e.promise;if(angular.forEach(B,function(c){c.menu&&c.menu.disabled===!0||(c.state.startupService&&c.state.startupService.getMenu?b.push(c):c.state.menu&&a.push(c.state.menu))}),b&&b.length){var f={menuToComplete:b.length};angular.forEach(b,function(b){var c=b.state.startupService.getMenu(b);c&&(c.then?c.then(function(c){x(b,c,a,e,f),d.debug("Retrieved menu from app package: "+b.id);var g=c&&c.Menu&&c.Menu.menuitems?c.Menu.menuitems.length:0;d.debug("Found "+g+" root menu items")}):x(b,c,a,e,f))})}else e.resolve(a);return e.promise}function z(){var a=[];return angular.forEach(B,function(b){b.state.menu&&a.push(b.state.menu)}),a}function A(a,b){var c=[];if(a&&a.views){var d=[];angular.forEach(a.views,function(c){if(c.caption||b){var e=b?c.caption||c.name||c.id:c.caption;d.push({id:"pkg_"+a.id+"_"+c.id,_id:"pkg_"+a.id+"_"+c.id,caption:e,description:c.description,icon:c.icon||"fa fa-list-alt",color:c.tileColor,action:function(){u(a.id,c.id)}})}});var e={};d.length?e={caption:"root",id:"root",menuitems:[{caption:a.name,id:"pkg_"+a.id,menuitems:d}]}:a.menu&&a.menu.disabled===!0||(e=a.state.menu),c={Menu:e}}return c}var B={},C={appId:"",viewId:"",loaded:!1},D=[],E=0;return{initialize:l,state:C,loadConfigurations:m,configs:B,getAppPath:s,getAppRoute:t,setupShellOnStartup:v,currentAppsMenu:z,retrieveAppsMenu:y,buildAppViewsMenu:A,goToView:u}}]),function(){"use strict";function a(a,b,c,d,e,f){function g(a){var d="Ice.BO.BAQDesignerSvc/BAQDesigners",f=e.setSelect(["QueryID","Company","IsShared","Version","Updatable","SysRevID"]);a&&(f=f.setWhereCustom("startswith(QueryID,'"+a+"')")),f=f.compose();var g=b.get(d,f).$promise;return g.then(function(a){a.value},function(a){var b=a["odata.error"]?a["odata.error"].message.value:a.statusText;c.showException({title:"Exception",message:b})}),g}function h(e,g,h,i){i||(i={});var j=i.showProgress!==!1;j&&c.showProgress({title:i.title||"Retrieving BAQ data",message:i.message||"retrieving data from server...",showProgress:!0});var n=a.defer(),o="BaqSvc/"+e,p=b.get(o,g).$promise;p.then(function(a){},function(a){var b=l(a);n.reject(b,a)});var q;return f.get(h)||(q=k(e),q.then(function(a){var b=m(a.data.returnObj);f.add(h,"baq",b)},function(a){})),a.all([p,q]).then(function(a){var b=a[0].value;if(b){if(i.convertToJsonType!==!1){var g=f.get(e);g&&g.columns&&angular.forEach(g.columns,function(a){if(a&&"decimal"===a.dataType)for(var c=0;c<b.length;c++){var d=b[c][a.name];angular.isString(d)&&d.length&&(b[c][a.name]=parseFloat(d))}})}d.current().add(h,b)}j&&c.hide(),n.resolve(a[0])}),n.promise}function i(a,d,e){e||(e={});var g=e.showProgress!==!1;g&&c.showProgress({title:e.title||"Updating data",message:e.message||"sending data to server...",showProgress:!0});var h="BaqSvc/"+a,i=d;if(e.convertToJsonType!==!1){var j=f.get(a);j&&j.columns&&(i=angular.copy(d),angular.forEach(Object.keys(i),function(a){var b=j.columns[a];if(b&&"decimal"===b.dataType&&!angular.isString(i[a])){var c=""+i[a];i[a]=c}}))}var k=b.patch(h,i);return k.then(function(){g&&c.hide()}),k.error(function(a){g&&c.hide(),l(a)}),k}function j(a,e,f){f||(f={});var g=f.showProgress!==!1;g&&c.showProgress({title:"Retrieving BAQ data",message:"getting new record from server...",showProgress:!0});var h="BaqSvc/"+a+"/GetNew",i=b.get(h,"").$promise;return i.then(function(a){if(g&&c.hide(),a.value){var b=0,h=d.current().view(e);h?b=h.addRow(a.value[0]):d.current().add(e,a.value),f&&f.setCurrentRow!==!0||h.row(b)}},function(a){g&&c.hide(),l(a)}),i}function k(a,c){var d="Ice.BO.BAQDesignerSvc/GetByID",e={queryID:a},g=b.post(d,e);return g.then(function(b){if(c){var d=m(b.data.returnObj);f.add(c,"baq",d),a!==c&&f.addAlias(c,a)}}),g.error(function(a){l(a)}),g}function l(a){var b=a.ErrorMessage||"";return!b&&a["odata.error"]&&(b=a["odata.error"].message.value),!b&&a.statusText&&(b=a.statusText),c.showException({title:"Info",message:b||"",messageDetails:angular.toJson(a,2)}),b}function m(a){var b={};return angular.forEach(a.QueryFieldDesigner,function(a){b[a.Alias]={name:a.Alias,caption:a.FieldLabel||a.Alias,updatable:a.Updatable,required:a.IsRequired,requiredFlag:a.IsRequired,tableId:a.TableID,columnName:a.FieldName,dataType:a.DataType,editor:n(a)},a.FieldFormat&&o(a,b[a.Alias])}),b}function n(a){var b="auto",c=(a.DataType||"").toLowerCase();return"bool"===c||"boolean"===c||"logical"===c||"bit"===c?b="checkbox":"date"===c||"datetime"===c||"system.datetime"===c?b="date":"byte"===c||"int32"===c||"integer"===c||"decimal"===c||"system.decimal"===c||"system.int32"===c?b="number":"nvarchar"===c&&(b="text"),b}function o(a,b){if(a.FieldFormat){var c=a.FieldFormat.trim().toLowerCase();if(c&&0===c.indexOf("x(")&&c.endsWith(")")){var d=c.substr(2,c.length-3),e=parseInt(d);if(!isNaN(e)){b.maxLength=e;var f=90;b.maxLength>=f&&(b.editor="multiline")}}}}return{getBAQList:g,getBAQ:h,updateBAQ:i,getNewBAQ:j,getBAQDesigner:k}}a.$inject=["$q","epErpRestService","epModalDialogService","epTransactionFactory","odataQueryFactory","epBindingMetadataService"],angular.module("ep.erp").service("epErpBaqService",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(f,g,i,j){j||(j={});var k=j.showProgress!==!1;k&&c.showProgress({title:"Retrieving data",message:"retrieving data from server...",showProgress:!0});var l=a.defer(),m=b.get(f,g).$promise;m.then(function(a){},function(a){var b=h(a);l.reject(b,a)});var n;if(j.retrieveMetadata===!0){var o=f.indexOf("/"),p=f.substr(0,o);e.get(p)||(n=b.get("/api/swagger/v1/odata/"+p,"").$promise,n.then(function(a){a&&e.add(p,"swagger",void 0,a)},function(a){h(a),l.reject(msg,a)}))}return a.all([m,n]).then(function(a){var b=a[0].value;if(b){if(j.convertToJsonType!==!1){var f=e.get(i);f&&f.columns&&angular.forEach(f.columns,function(a){if(a&&"decimal"===a.dataType)for(var c=0;c<b.length;c++){var d=b[c][a.name];angular.isString(d)&&d.length&&(b[c][a.name]=parseFloat(d))}})}d.current().add(i,b)}k&&c.hide(),l.resolve(a[0])}),l.promise}function g(a,d,f,g){g||(g={});var i=g.showProgress!==!1;i&&c.showProgress({title:g.title||"Updating data",message:g.message||"sending data to server...",showProgress:!0});var j=angular.copy(d);if(g.convertToJsonType!==!1){var k=e.get(f);k&&k.columns&&angular.forEach(Object.keys(j),function(a){var b=k.columns[a];if(b&&"decimal"===b.dataType&&!angular.isString(j[a])){var c=""+j[a];j[a]=c}})}j.$$hashKey&&delete j.$$hashKey;var l=a,m=b.post(l,j);return m.then(function(){i&&c.hide()}),m.error(function(a){i&&c.hide(),h(a)}),m}function h(a){var b=a.ErrorMessage||"";!b&&a["odata.error"]&&(b=a["odata.error"].message.value),!b&&a.statusText&&(b=a.statusText),c.showException({title:"Info",message:b||"",messageDetails:angular.toJson(a,2)})}return{getSvc:f,updateSvc:g}}a.$inject=["$q","epErpRestService","epModalDialogService","epTransactionFactory","epBindingMetadataService"],angular.module("ep.erp").service("epErpSvcService",a)}(),function(){"use strict";angular.module("ep.feature.detection").service("epFeatureDetectionService",["$log","$q",function(a,b){function c(){return void 0===r.browserIsMobile&&(r.browserIsMobile=function(a){if("undefined"!=typeof c.result)return c.result;var b=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|iPhone|iPad|iPod|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(b=!0),c.result=b,b}(navigator.userAgent||navigator.vendor||window.opera)),r.browserIsMobile}function d(){return void 0===r.supportsDragAndDrop&&(r.supportsDragAndDrop="draggable"in document.createElement("span")),r.supportsDragAndDrop}function e(){return r.animationEvent}function f(){return r.transitionEvent}function g(){return r}function h(){return r.touchEvents}function i(a,b,c,d){o="screen and (min-width: "+a+"px)",enquire.register(o,{match:b,unmatch:c,setup:d,deferSetup:!0})}function j(a){var b=a?"screen and (min-width: "+a+"px)":o;enquire.unregister(b)}function k(a){var b=!1;if(a){var c=q[a];if(c!==!0&&c!==!1){var d=document.createElement("input");try{d.type=a}catch(e){}d.type===a&&(b=!0),q[a]=b}else b=c}return b}function l(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a];return null}function m(){var a,b=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oanimationend",MSAnimation:"MSAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b.style[a])return c[a];return null}function n(){var e=b.defer();if(p)e.resolve(r);else{r.browserIsMobile=c(),r.supportsDragAndDrop=d(),r.transitionEvent=l(),r.animationEvent=m(),r.touchEvents="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;try{if(window.cordova)a.debug("epFeatureDetectionService: Detected cordova application."),r.platform={app:"Cordova"},document.addEventListener("deviceready",function(){window.device?r.platform.os=window.device.platform:r.platform.os="Unknown",p=!0,e.resolve(r)},!1);else if(window.process&&process.versions.electron)r.platform={app:"Electron",os:process.platform},e.resolve(r);else{var f=navigator.userAgent,g=navigator.appName,h=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10),j=-1,k=-1,n=-1;(k=f.indexOf("Opera"))!==-1?(g="Opera",h=f.substring(k+6),(k=f.indexOf("Version"))!==-1&&(h=f.substring(k+8))):(k=f.indexOf("MSIE"))!==-1?(g="Microsoft Internet Explorer",h=f.substring(k+5)):(k=f.indexOf("Chrome"))!==-1?(g="Chrome",h=f.substring(k+7)):(k=f.indexOf("Safari"))!==-1?(g="Safari",h=f.substring(k+7),(k=f.indexOf("Version"))!==-1&&(h=f.substring(k+8))):(k=f.indexOf("Firefox"))!==-1?(g="Firefox",h=f.substring(k+8)):(j=f.lastIndexOf(" ")+1)<(k=f.lastIndexOf("/"))&&(g=f.substring(j,k),h=f.substring(k+1),g.toLowerCase()===g.toUpperCase()&&(g=navigator.appName)),(n=h.indexOf(";"))!==-1&&(h=h.substring(0,n)),(n=h.indexOf(" "))!==-1&&(h=h.substring(0,n)),i=parseInt(""+h,10),isNaN(i)&&(h=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10));var o="Unknown OS";navigator.appVersion.indexOf("Win")!==-1&&(o="Windows"),navigator.appVersion.indexOf("Mac")!==-1&&(o="MacOS"),navigator.appVersion.indexOf("X11")!==-1&&(o="UNIX"),navigator.appVersion.indexOf("Linux")!==-1&&(o="Linux"),r.platform={app:"Web",os:o,browser:{name:g,fullVersion:h,majorVersion:i,appName:navigator.appName,userAgent:navigator.userAgent}},e.resolve(r)}p=!0}catch(q){e.reject(q),console.log(q.message)}}return e.promise}var o,p=!1,q={},r={browserIsMobile:void 0,supportsDragAndDrop:void 0,transitionEvent:null,touchEvents:!1,platform:{}};return n(),{initialize:n,browserIsMobile:c,supportsDragAndDrop:d,getAnimationEvent:e,getTransitionEvent:f,hasTouchEvents:h,getFeatures:g,registerMediaQuery:i,unregisterMediaQuery:j,inputSupportsType:k}}])}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(a,c){return function(d){var e;e=d.name?w[d.name]:d.code?x[d.code]:d;var f="LocalFileSystem failure: "+e+" [ "+c;d.name&&(f+=": "+d.name),f+=" ]",b.error(f),a.reject(f)}}function i(a,b){return j(a,b).then(function(a){return angular.fromJson(a)})}function j(d,i){var j,k,l=a.defer();switch(y){case v.fileStorage:i||(i=d,d=c.cordova.file.dataDirectory),c.resolveLocalFileSystemURL(d+i,function(a){a.file(function(a){var b=new FileReader;b.onloadend=function(){l.resolve(this.result)},b.readAsText(a)},h(l,i))},h(l,i));break;case v.indexedDB:i||(i=d,d=""),f.openDatabase("ep-file-db",1).then(function(a){var b=a.getObjectStore("ep-file");b.get(i).then(function(a){a?l.resolve(a.value):h(l,i)})});break;case v.localStorage:i||(i=d,d=e.namespace),k=d+"."+i,j=g.get(k),j?(b.debug("Successfully loaded "+k+" from LocalStorage."),l.resolve(j)):h(l,i)({code:1})}return l.promise}function k(a,b,c){return l(angular.toJson(a),b,c)}function l(d,i,j,k){var l=a.defer();try{var m="";switch(k||(k="text/plain"),y){case v.fileStorage:j||(j=i,i=c.cordova.file.dataDirectory),c.resolveLocalFileSystemURL(i,function(a){a.getFile(j,{create:!0},function(a){a.createWriter(function(a){a.onwriteend=function(){b.debug("Successfully wrote file: "+j),l.resolve()},a.onerror=function(a){fail(l,{code:a.toString()})};var c=new Blob([d],{type:k});a.write(c)},h(l,j))},h(l,j))},h(l,j));break;case v.indexedDB:j||(j=i,i="");var n={filename:j,value:d};f.openDatabase("ep-file-db",1).then(function(a){a.getObjectStore("ep-file").put(n).then(function(){b.debug("Saved "+j+" to indexedDB"),l.resolve()},h(l,j))});break;case v.localStorage:j||(j=i,i=e.namespace),m=i+"."+j,g.update(m,d),b.debug("Successfully saved "+m+" to LocalStorage."),l.resolve()}}catch(o){h(l,j)(o)}return l.promise}function m(b,d){var i=a.defer();try{switch(y){case v.fileStorage:d||(d=b,b=c.cordova.file.dataDirectory),c.resolveLocalFileSystemURL(b+d,function(){i.resolve(!0)},function(a){1===a.code?i.resolve(!1):h(i,d)(a)});break;case v.indexedDB:d||(d=b,b=""),f.openDatabase("ep-file-db",1).then(function(a){var b=a.getObjectStore("ep-file");b.get(d).then(function(a){a?i.resolve(!0):i.resolve(!1)})});break;case v.localStorage:d||(d=b,b=e.namespace);var j=b+"."+d;i.resolve(!!g.get(j))}}catch(k){h(i,d)(k)}return i.promise}function n(a){switch(y){case v.fileStorage:return c.cordova.file.dataDirectory+a;case v.indexedDB:return a;case v.localStorage:return e.namespace+"."+a}}function o(b){var d=a.defer();try{switch(y){case v.fileStorage:c.resolveLocalFileSystemURL(c.cordova.file.dataDirectory+b,function(a){a.remove(),d.resolve()},function(a){h(d,b)(a)});break;case v.indexedDB:f.openDatabase("ep-file-db",1).then(function(a){var c=a.getObjectStore("ep-file");c["delete"](b).then(function(){d.resolve()},h(d,b))});break;case v.localStorage:g.clear(e.namespace+"."+b),d.resolve()}}catch(i){h(d,b)(i)}return d.promise}function p(a){u(a)}function q(){var a="";switch(y){case v.localStorage:a="localStorage";break;case v.indexedDB:a="indexedDB";break;case v.fileStorage:a="fileStorage"}return a}function r(){b.debug("FileStorage system selected."),y=v.fileStorage}function s(){f.createSchema("ep-file-db").defineVersion(1,function(a){a.createObjectStore("ep-file",{keyPath:"filename"})}),b.debug("IndexedDB system selected."),y=v.indexedDB}function t(){b.debug("LocalStorage system selected."),y=v.localStorage}function u(a){if(a)switch(a.toLowerCase()){case"localstorage":t();break;case"indexeddb":try{s()}catch(c){b.warn(c),t()}break;case"filestorage":r();break;default:log.warn("Unable to set file storage system to "+a+"."),t()}else if("Cordova"===d.getFeatures().platform.app)t();else try{s()}catch(c){b.warn(c),t()}}var v={localStorage:0,fileStorage:1,indexedDB:2},w={DeviceNotReadyError:"The device is not ready for file operations",FileSystemNotReady:"The file system is not ready to accept operations.",IndexSizeError:"The index is not in the allowed range (e.g, thrown in a range object).",HierarchyRequestError:"The node tree hierarchy is not correct.",WrongDocumentError:"The object is in the wrong document.",InvalidCharacterError:"The string contains invalid characters.",NoModificationAllowedError:"The object can not be modified.",NotFoundError:"The object can not be found here.",NotSupportedError:"The operation is not supported.",InvalidStateError:"The object is in an invalid state.",SyntaxError:"The string did not match the expected pattern.",InvalidModificationError:"The object can not be modified in this way.",NamespaceError:"The operation is not allowed by Namespaces in XML.",InvalidAccessError:"The object does not support the operation or argument.",TypeMismatchError:"The type of the object does not match the expected type.",SecurityError:"The operation is insecure.",NetworkError:"A network error occurred.",AbortError:"The operation was aborted.",URLMismatchError:"The given URL does not match another URL.",QuotaExceededError:"The quota has been exceeded.",TimeoutError:"The operation timed out.",InvalidNodeTypeError:"The node is incorrect or has an incorrect ancestor for this operation.",DataCloneError:"The object can not be cloned."},x={1:"File not found.",2:"Security error.",3:"Operation aborted error.",4:"File or Directory not readable error.",5:"Encoding error.",6:"No modifications allowed error.",7:"Invalid state error.",8:"Syntax error.",9:"Invalid modification.",10:"Storage quota exceeded.",11:"Type mismatch error.",12:"Path exists error."},y=v.localStorage;return u(),{load:i,loadText:j,save:k,saveText:l,getFilePath:n,fileExists:m,remove:o,setStorageSystem:p,getStorageSystem:q}}a.$inject=["$q","$log","$window","epFeatureDetectionService","epFileConstants","epIndexedDbService","epLocalStorageService"],angular.module("ep.file").constant("epFileConstants",{namespace:"persistentData"}).service("epFileService",a)}(),function(){"use strict";angular.module("ep.filter.list").directive("epFilterList",function(){return{restrict:"E",replace:!0,scope:{searchBy:"=",count:"=",changeHandler:"="},templateUrl:"src/components/ep.filter.list/filter_list.html",link:function(a){a.clearSearch=function(){a.searchBy="",a.showRemove=!1}}}})}(),function(){"use strict";function a(a){function b(b,c){cordova.plugins.barcodeScanner.scan(function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}return{scan:b}}a.$inject=["$rootScope"],angular.module("ep.hybrid").service("epHybridBarcodeService",a)}(),function(){"use strict";function a(a){function b(){window.plugins.calendar.openCalendar()}function c(b,c,d){window.plugins.calendar.createCalendar(d,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function d(b,c,d){window.plugins.calendar.deleteCalendar(d,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function e(b,c,d){window.plugins.calendar.createEvent(d.title,d.location,d.notes,d.startDate,d.endDate,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function f(b,c,d,e){var f=window.plugins.calendar.getCalendarOptions();e.firstReminderMinutes&&(f.firstReminderMinutes=e.firstReminderMinutes),null!==e.secondReminderMinutes&&(f.secondReminderMinutes=e.secondReminderMinutes),e.recurrence&&(f.recurrence=e.recurrence),e.recurrenceEndDate&&(f.recurrenceEndDate=e.recurrenceEndDate),e.recurrenceInterval&&(f.recurrenceInterval=e.recurrenceInterval),e.url&&(f.url=e.url),window.plugins.calendar.createEventWithOptions(d.title,d.location,d.notes,d.startDate,d.endDate,f,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function g(b,c,d){window.plugins.calendar.modifyEvent(d.title,d.location,d.notes,d.startDate,d.endDate,d.newTitle,d.newLocation,d.newNotes,d.newStartDate,d.newEndDate,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function h(b,c,d){window.plugins.calendar.findEvent(d.title,d.location,d.notes,d.startDate,d.endDate,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function i(b,c,d){window.plugins.calendar.deleteEvent(d.title,d.location,d.notes,d.startDate,d.endDate,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function j(b,c,d,e){window.plugins.calendar.listEventsInRange(d,e,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function k(b,c){window.plugins.calendar.listCalendars(function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}return{openCalendar:b,createCalendar:c,deleteCalendar:d,createEvent:e,createEventWithOptions:f,modifyEvent:g,findEvent:h,deleteEvent:i,listCalendars:k,listEvents:j}}a.$inject=["$rootScope"],angular.module("ep.hybrid").service("epHybridCalendarService",a)}(),function(){"use strict";function a(a,b){function c(c,d){return navigator.contacts?void navigator.contacts.pickContact(function(b){a.$apply(c(b))},function(b){a.$apply(d(b))}):void b.debug("Cordova contacts not available.")}return{pickContact:c}}a.$inject=["$rootScope","$log"],angular.module("ep.hybrid").service("epHybridContactsService",a)}(),function(){"use strict";function a(a,b){function c(){if(g())return b.device.platform}function d(){if(g())return b.device.model}function e(){if(g())return b.device.uuid}function f(){if(g())return b.device.version}function g(){return!!b.device||(a.debug("Device plugin not available"),!1)}return{getModel:d,getPlatform:c,getUUID:e,getVersion:f,isDevicePluginAvailable:g}}a.$inject=["$log","$window"],angular.module("ep.hybrid").service("epHybridDeviceService",a)}(),function(){"use strict";function a(a){function b(){var b;try{cordova.plugins.email.isAvailable(function(a){b=a})}catch(c){b=!1,a.debug("Email service not available"+c)}return b}function c(b){try{cordova.plugins.email.isAvailable(function(c){if(c){var d={to:[],cc:[],bcc:[],subject:"[No Subject]",body:"",isHtml:!1,attachments:[],app:"gmail"},e=angular.extend(d,b);angular.isArray(e.attachments)||(e.attachments=[e.attachments]),cordova.plugins.email.open(e,function(b){a.error("An error occurred while attempting to launch the email application."+b)})}else a.warn("Email functionality is not available.")},function(){a.warn("Email functionality is not available.")})}catch(c){a.error("An error occurred while attempting to launch the email application. "+c)}}return{isEmailAvailable:b,draftAnEmail:c}}a.$inject=["$log"],angular.module("ep.hybrid").service("epHybridEmailComposerService",a)}(),function(){"use strict";function a(a){function b(){window.plugins.flashlight.available(function(b){b?window.plugins.flashlight.switchOn():a.debug("Flashlight not available on this device")}),document.addEventListener("backbutton",function(){window.plugins.flashlight.switchOff(d,d)},!1)}function c(){window.plugins.flashlight.switchOff()}function d(){navigator.app.exitApp()}return{flashOn:b,flashOff:c}}a.$inject=["$log"],angular.module("ep.hybrid").service("epHybridFlashlightService",a)}(),function(){"use strict";function a(a,b){function c(b,c,d){navigator.geolocation.getCurrentPosition(function(c){a.$apply(b(c))},function(b){a.$apply(c(b))},d)}function d(a,c){var d={zoom:16,center:a,mapTypeId:google.maps.MapTypeId.ROADMAP};try{var e=new google.maps.Map(c,d);return e}catch(f){b.debug("Error: "+f)}}function e(a,b){j&&j.setMap(null),j=new google.maps.Marker({position:a,animation:google.maps.Animation.DROP}),a&&b&&(b.setCenter(a),j.setMap(b))}function f(a,c){function d(a,b,c,d){e.setContent(c[b][0]),e.open(d,a)}if(a&&0!==a.length){var e=new google.maps.InfoWindow({maxWidth:160}),f=new google.maps.LatLngBounds,g=new google.maps.Geocoder;if(angular.isString(a[0])&&a.forEach(function(a){g.geocode({address:a},function(d,g){if(g===google.maps.GeocoderStatus.OK){var h=new google.maps.Marker({position:d[0].geometry.location,map:c});google.maps.event.addListener(h,"click",function(a){return function(){e.setContent(d[0].formatted_address),e.open(c,a)}}(h)),f.extend(d[0].geometry.location),c.fitBounds(f)}else b.debug("Geocode of "+a+" return "+g)})}),angular.isObject(a[0]))for(var h=0;h<a.length;h++)if(angular.isArray(a[h]))try{var i=new google.maps.LatLng(a[h][1],a[h][2]),j=new google.maps.Marker({position:i,map:c});google.maps.event.addListener(j,"click",d.bind(null,j,h,a,c)),f.extend(i),c.fitBounds(f)}catch(k){b.error("Something went wrong. Please provide valid location addresses. Error: "+k)}else b.debug("Location address is not valid")}}function g(a,c){if(a&&c){var d=new google.maps.DirectionsService;j.setMap(null),d.route({origin:{placeId:a},destination:{placeId:c},travelMode:google.maps.TravelMode.DRIVING},function(a,c){return c!==google.maps.DirectionsStatus.OK?void b.error("Directions request failed : Not a valid location for driving"):void i.setDirections(a)})}}function h(b,c,d){var f,h;if(void 0!==i&&i.setMap(null),i=new google.maps.DirectionsRenderer,i.setMap(b),c){var j=new google.maps.places.Autocomplete(c);google.maps.event.addListener(j,"place_changed",function(){var c=j.getPlace();f=c.place_id,a.$watch("start",function(){console.log("origin:"+f)}),e(c.geometry.location,b),g(f,h)})}if(d){var k=new google.maps.places.Autocomplete(d);google.maps.event.addListener(k,"place_changed",function(){var c=k.getPlace();h=c.place_id,a.$watch("end",function(){console.log("destination:"+h);
}),e(c.geometry.location,b),g(f,h)})}}var i,j;return{getGeolocation:c,showMap:d,addMarker:e,addMultipleMarkers:f,calculateAndDisplayRoute:g,autocompleteAndAssociatedActions:h}}a.$inject=["$rootScope","$log"],angular.module("ep.hybrid").service("epHybridGeolocationService",a)}(),function(a){"use strict";function b(b,c){function d(a,c,d){navigator.geolocation.getCurrentPosition(function(c){b.$apply(a(c))},function(a){b.$apply(c(a))},d)}function e(){var b=function(b){console.log("[js] BackgroundGeolocation callback:  "+b.latitude+","+b.longitude),a.finish()},d=function(a){c.error("Error capturing geolocation - "+a.message)};a.configure(b,d,{desiredAccuracy:0,stationaryRadius:0,distanceFilter:0,debug:!0,stopOnTerminate:!1}),a.start()}function f(){var b=a;console.log(b),c.info("GPS background tracking started."),h=!0,e()}function g(){c.info("GPS background tracking stopped."),h=!1,a.stop()}var h=!1;return{background:d,startGPSTracking:f,stopGPSTracking:g}}b.$inject=["$rootScope","$log"],angular.module("ep.hybrid").service("epHybridGPSTrackerService",b)}(window.backgroundGeolocation),function(){"use strict";function a(){function a(a){c=new Media(a,function(){console.log("playAudio():Audio Success")},function(a){console.log("playAudio():Audio Error: "+a)}),c.play()}function b(){null!==c&&c.stop()}var c=null;return{playAudio:a,stopAudio:b}}angular.module("ep.hybrid").service("epHybridMediaService",a)}(),function(){"use strict";function a(){function a(){return navigator.connection.type}return{checkConnection:a}}angular.module("ep.hybrid").constant("epNetworkStatus",{Unknown:"unknown",Ethernet:"ethernet",Wifi:"wifi",Cell2g:"2g",Cell3g:"3g",Cell4g:"4g",Cell:"cellular",None:"none"}).service("epHybridNetworkService",a)}(),function(){"use strict";function a(a){function b(b,c,d){navigator.camera.getPicture(function(c){a.$apply(b(c))},function(b){a.$apply(c(b))},d)}return{getPicture:b}}a.$inject=["$rootScope"],angular.module("ep.hybrid").service("epHybridPhotoService",a)}(),function(){"use strict";function a(){function a(a){navigator.vibrate([a])}return{vibrateDevice:a}}angular.module("ep.hybrid").service("epHybridVibrationService",a)}(),function(){"use strict";function a(a){return{restrict:"EA",replace:!0,scope:{ngModel:"=",width:"@",iconListWidth:"@",iconListHeight:"@"},templateUrl:"src/components/ep.icon.selector/icon_selector.html",link:function(b){b.icons=a.getIconList(),b.selectIcon=function(a){b.ngModel="fa-"+a}}}}a.$inject=["epIconSelectorService"],angular.module("ep.icon.selector").directive("epIconSelector",a)}(),function(){"use strict";function a(){function a(){var a=$.map($.map(document.styleSheets,function(a){return a.href&&a.href.endsWith("font-awesome.min.css")?a:null})[0].rules,function(a){if(a.cssText.indexOf("::before { content: ")>0){var b=[],c=(a.cssText.match(/::before/g)||[]).length;if(c>1){b=a.cssText.split(",");for(var d=0;d<b.length;d++){var e=b[d].trim();b[d]=e.substring(4,e.indexOf("::"))}return b}return a.cssText.substring(4,a.cssText.indexOf("::"))}return null});return a}return{getIconList:a}}angular.module("ep.icon.selector").factory("epIconSelectorService",a)}(),function(){"use strict";function a(a,b){return{restrict:"E",replace:!0,template:'<div class="ep-include"></div>',scope:{options:"=",template:"=",templateUrl:"=",templateCtrl:"=",templateScope:"=",templateStyle:"=",userData:"="},compile:function(){function c(c,d){if(!d.template&&!d.templateUrl)return angular.element(c.state.iElement).empty(),void(c.state.template="");var e='<div class="ep-include"';if(d.templateCtrl){var f="_epIncludeController"+c.$id;c.state.templateScope[f]=d.templateCtrl,e='<div ng-controller="'+f+'"'}var g=e;if(d.templateStyle){try{c.state.templateScope._templateStyle_=angular.isString(d.templateStyle)?c.$eval(d.templateStyle):d.templateStyle}catch(h){b.error("error evaluating style:"+h.message)}g+=' ng-style="_templateStyle_" '}g+=d.template?">"+d.template+"</div>":d.templateUrl?" ng-include=\"'"+d.templateUrl+"'\"></div>":"></div>";var i=angular.element(c.state.iElement);i.empty().append(a(g)(c.state.templateScope)),c.state.template=g}function d(a,b){a.state.templateScope=b.templateScope||a,(b.userData||a.userData)&&(a.state.templateScope.userData=a.userData?a.userData:b.userData),c(a,b)}return{pre:function(a,b){a.state={iElement:b,template:void 0,templateScope:void 0};var c=a.options?a.options:a;d(a,c),a.options?a.$watch("options",function(b,c){b!==c&&d(a,a.options||{})}):a.$watchGroup(["template","templateUrl","templateCtrl","templateScope"],function(b,c){for(var e=0;e<b.length;e++)if(b[e]!==c[e]){d(a,a);break}}),a.$watch("userData",function(b,c){b&&b!==c&&(a.state.templateScope.userData=a.userData)})}}}}}a.$inject=["$compile","$log"],angular.module("ep.include").directive("epInclude",a)}(),function(){"use strict";function a(a){this.name=a,this.versions=[],this.versionDefinitionFuncs={}}function b(a,b,c){this.$log=a,this.$q=b,this.db=c}function c(a,b,c,d){this.$log=a,this.$q=b,this.db=c,this.name=d}function d(a,b,c,d,e){this.$q=b,this.$log=a,this.db=c,this.index=d,this.name=e}function e(c,d,e){function h(b){return f[b]=new a(name),f[b]}function i(a){delete g[a]}function j(a,e){var h=d.defer();if(g[a])h.resolve(g[a]);else{var i=l.open(a,e);i.onsuccess=function(){var e=i.result,f=new b(c,d,e);g[a]=f,h.resolve(f)},i.onerror=function(a){h.reject(a)},i.onblocked=function(){h.reject("Unable to open database. The request is blocked.")},i.onupgradeneeded=function(b){var c=b.target.result,d=f[a];if(d)for(var e=b.oldVersion;e<=b.newVersion;e++)d.upgrade(c,e);else h.reject("No database schema with the name "+a+" has been defined.")}}return h.promise}function k(a){var b=d.defer(),c=l.deleteDatabase(a);return c.onsuccess=function(){b.resolve(!0)},c.onerror=function(a){b.reject(a)},b.promise}var l=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;return{createSchema:h,openDatabase:j,closeDatabase:i,deleteDatabase:k}}e.$inject=["$log","$q","$window"],angular.module("ep.indexeddb").service("epIndexedDbService",e);var f={},g={};a.prototype.defineVersion=function(a,b){this.versions.push(a),this.versionDefinitionFuncs["version "+a]=b},a.prototype.upgrade=function(a,b){var c=this.versionDefinitionFuncs["version "+b];c&&c(a)},b.prototype.getObjectStore=function(a){return new c(this.$log,this.$q,this.db,a)};var h={get:function(a){return this._execute("readonly",function(b){return b.get(a)})},getAll:function(){return this._execute("readonly",function(a){return a.getAll()})},getAllKeys:function(){return this._execute("readonly",function(a){return a.getAllKeys()})},clear:function(){return this._execute("readwrite",function(a){return a.clear()})},count:function(){return this._execute("readonly",function(a){return a.count})}};c.prototype._execute=function(a,b){var c=this,d=c.$q.defer(),e=this.db.transaction(c.name,a);e.oncomplete=function(){c.$log.debug("Transaction completed on "+c.name)},e.onerror=function(a){c.$log.warn("Transaction error occurred on "+c.name+". "+a),d.reject(a)};var f=e.objectStore(c.name),g=b(f);return g.onsuccess=function(a){var b=a&&a.target&&a.target.result;d.resolve(b)},g.onerror=function(a){c.$log.warn("Request error occurred on "+c.name+". "+a),d.reject(a)},d.promise},c.prototype.openCursor=function(){var a=this,b=$q.defer(),c=a.db.transaction(this.name,"readwrite").objectStore(a.name),d=c.openCursor();return d.onsuccess=function(a){var c=a.target.result;c?(b.notify(c.value),c["continue"]()):b.resolve()},d.onerror=function(a){b.reject(a)},b.promise},c.prototype.openKeyCursor=function(a,b){var c=this,d=$q.defer(),e=c.db.transaction(this.name,"readwrite").objectStore(c.name),f=e.openKeyCursor(a,b);return f.onsuccess=function(a){var b=a.target.result;b?(d.notify(b.value),b["continue"]()):d.resolve()},f.onerror=function(a){d.reject(a)},d.promise},c.prototype["delete"]=function(a){return this._execute("readwrite",function(b){return b["delete"](a)})},c.prototype.put=function(a){return this._execute("readwrite",function(b){return b.put(a)})},c.prototype.add=function(a){return this._execute("readwrite",function(b){return b.add(a)})},c.prototype.index=function(a){var b=this;return this._execute("readonly",function(c){return new d(b.$log,b.$q,b.db,c.index(a),a)})},c.prototype.deleteByIndex=function(a,b){var c=this,d=c.$q.defer(),e=c.db.transaction(c.name,"readwrite"),f=e.objectStore(c.name),g=f.index(a),h=g.openKeyCursor(IDBKeyRange.only(b));return h.onsuccess=function(){var a=h.result;a?(f["delete"](a.primaryKey),a["continue"](),d.notify()):d.resolve(!0)},h.onerror=function(a){d.reject(a)},d.promise},c.prototype.queryByIndex=function(a,b){var c=this,d=c.$q.defer(),e=c.db.transaction(c.name,"readwrite"),f=e.objectStore(c.name),g=f.index(a),h=[],i=g.openKeyCursor(IDBKeyRange.only(b));return i.onsuccess=function(){var e=i.result;if(e){var g=f.get(e.primaryKey);g.onsuccess=function(a){var b=a&&a.result&&a.result.target;h.push(b),e["continue"](),d.notify(b)},g.onerror=function(){c.$log.warn("An error occurred while executing query "+a+"="+b),e["continue"]()}}else d.resolve(h)},i.onerror=function(a){d.reject(a)},d.promise},angular.extend(c.prototype,h),d.prototype._execute=function(a,b){var c=this,d=c.$q.defer(),e=b(c.index);return e.onsuccess=function(a){var b=a&&a.target&&a.target.result;d.resolve(b)},e.onerror=function(a){c.$log.warn("Request error occurred on "+c.name+". "+a),d.reject(a)},d.promise},d.prototype.openCursor=function(){var a=this,b=$q.defer(),c=a.index.openCursor();return c.onsuccess=function(a){var c=a.target.result;c?(b.notify(c.value),c["continue"]()):b.resolve()},c.onerror=function(a){b.reject(a)},b.promise},d.prototype.openKeyCursor=function(){var a=this,b=$q.defer(),c=a.index.openCursor();return c.onsuccess=function(a){var c=a.target.result;c?(b.notify(c.value),c["continue"]()):b.resolve()},c.onerror=function(a){b.reject(a)},b.promise},angular.extend(d.prototype,h)}(),function(){"use strict";function a(a){a.dummy=""}a.$inject=["$scope"],angular.module("ep.list").controller("epListCtrl",a)}(),function(){"use strict";function a(a,b,c){return{restrict:"EA",replace:!0,scope:{data:"=",handler:"&",mainTitle:"@",id:"@",filter:"&",sort:"&",add:"&",subTitle:"@",additionalTitle:"@",groupBy:"@",subHeader:"@",arrow:"@",statuses:"@",icon:"@"},templateUrl:"src/components/ep.list/ep-list.html",link:function(b){b.items={count:0},b.groupBy&&(b.data=c.getGroupedList(b.data,b.groupBy)),b.subTitle&&(b.subTitles=b.subTitle.split(" ")),b.statuses&&(b.statusesArr=b.statuses.split(" "),b.statusesNotDanger=["Open","Shipped","Invoiced","On Hold"]),b.isAmount=function(a){var b=a.split(".");return!isNaN(a)&&angular.isDefined(b[1])},b.$watch("contactListSearch",function(c){var d=a("filter")(b.data,c);b.items.count=d.length}),b.showCommaSeparator=function(a,c){return!!(a&&a.length>0&&!b.isAmount(a)||c&&c.length>0&&!b.isAmount(c))}}}}a.$inject=["$filter","$timeout","epListService"],angular.module("ep.list").directive("epList",a)}(),function(){"use strict";function a(){function a(a,b){for(var c=_.sortBy(a,b),d={},e=[],f="",g="",h=0;h<c.length;h++){var i=c[h][b].split("-",2),j=i[1]+"-"+i[0];f=j,f!==g&&""!==g&&(d[g]=e,e=[]),e.push(c[h]),h===c.length-1&&(d[f]=e,e=[]),g=f}return d}return{getGroupedList:a}}angular.module("ep.list").factory("epListService",a)}(),function(){"use strict";angular.module("ep.local.storage").provider("epLocalStorageConfig",[function(){var a={settings:{},settingsID:"emfSettings"};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.local.storage",a),a}]}])}(),function(){"use strict";angular.module("ep.local.storage").service("epLocalStorageService",["epLocalStorageConfig",function(a){function b(a,c,d){var e=_.first(c),f=_.rest(c);f.length?(a[e]=a[e]||{},b(a[e],f,d)):void 0===d?delete a[e]:a[e]=d}function c(a,b){var d=_.first(b),e=_.rest(b);return e.length?(a[d]=a[d]||{},c(a[d],e)):a[d]}function d(){localStorage.setItem(a.settingsID,JSON.stringify(k))}function e(e){if(e){var f=e.split("."),g=c(a.settings,f);b(k,f,g)}else localStorage.removeItem(a.settingsID),k=angular.extend({},a.settings);d()}function f(a){if(a)return c(k,a.split("."))}function g(){var b=localStorage.getItem(a.settingsID);b&&(k=JSON.parse(b))}function h(a,c){b(k,a.split("."),c),d()}function i(a,b){var c=f(a);c?angular.extend(c,b):c=b,h(a,c)}function j(a,b){var c=f(a);return void 0===c&&(h(a,b),c=b),c}var k=angular.extend({},a.settings);return g(),{get:f,update:h,merge:i,getOrAdd:j,clear:e}}])}(),function(){"use strict";function a(a){function b(b){angular.isUndefined(c.epContextMenuBuilder)||(a.$root.$broadcast("dynamicMenuCall",{event:b,builder:c.epContextMenuBuilder,context:c.epMenuOptionContext}),b.preventDefault(),b.stopPropagation())}var c=this;c.onDynamicMenuCall=b}a.$inject=["$scope"],angular.module("ep.menu.builder").controller("epContextMenuCtrl",a)}(),function(){"use strict";function a(){return{restrict:"EA",controller:"epContextMenuCtrl",controllerAs:"contextMenuCtrl",templateUrl:"src/components/ep.menu.builder/context.menu/ep-context-menu.html",scope:{},bindToController:{epContextMenuBuilder:"=",epMenuOptionContext:"=",epContextMenuIcon:"@",epContextMenuPosition:"@"},link:function(a,b,c){var d=angular.isUndefined(c.epContextMenuIcon)?"fa fa-ellipsis-v":c.epContextMenuIcon;angular.element(b[0].querySelector(".ep-context-menu")).addClass(d);var e="ep-actionset-right-down";if(c.epContextMenuPosition)switch(c.epContextMenuPosition){case"absolute-right-bottom":e="ep-actionset-right-bottom";break;case"right-bottom":e="ep-actionset-right-down";break;case"right-center":e="ep-actionset-right-center"}angular.element(b[0].querySelector(".ep-actionset")).addClass(e)}}}angular.module("ep.menu.builder").directive("epContextMenu",a)}(),function(){"use strict";function a(a,b){function c(){e.menuItems=null,a.$root.$$phase||a.$apply(),b.off("click.actionMenu")}function d(a,b,d){angular.isFunction(b.action)&&b.action(d),c(),a.stopPropagation(),a.preventDefault()}var e=this;e.closeMenu=c,e.invokeAction=d,a.$on("dynamicMenuCall",function(d,f){angular.isUndefined(f.builder)||(angular.isFunction(f.builder.beforeShowMenu)&&f.builder.beforeShowMenu(f.context),e.menuItems=angular.isFunction(f.builder.menuItems)?f.builder.menuItems():null,e.context=f.context||null,"fixed"!==e.element.css("position")&&e.element.css({left:f.event.clientX+"px",top:f.event.clientY+"px"}),b.on("click.actionMenu",function(){c()}),a.$root.$$phase||a.$apply())})}a.$inject=["$scope","$document"],angular.module("ep.menu.builder").controller("epDynamicMenuCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,controller:"epDynamicMenuCtrl",controllerAs:"dynamicMenuCtrl",templateUrl:"src/components/ep.menu.builder/dynamic.menu/ep-dynamic-menu.html",link:function(a,b){a.dynamicMenuCtrl.element=b}}}angular.module("ep.menu.builder").directive("epDynamicMenu",a)}(),function(){"use strict";function a(a){function b(){function b(b){var c=a("filter")(f,{caption:b.caption},!0)[0],d=f.indexOf(c);angular.isUndefined(b.type)&&angular.isFunction(b.action)&&(b.type="action"),d===-1?f.push(b):f[d]=angular.extend(f[d],b)}function c(b){var c=a("filter")(f,{caption:b.caption},!0)[0],d=f.indexOf(c);if(d!==-1){var e=d,g=1;f[d-1]&&"separator"===f[d-1].type?(e=d-1,g=2):f[d+1]&&"separator"===f[d+1].type&&(e=d,g=2),f.splice(e,g)}}function d(){return angular.copy(f)}function e(){f.push({type:"separator"})}var f=[];return{setMenuItem:b,removeMenuItem:c,menuItems:d,addSeparator:e}}return{getMenuBuilder:b}}a.$inject=["$filter"],angular.module("ep.menu.builder").factory("epMenuBuilderFactory",a)}(),function(){"use strict";angular.module("ep.modaldialog").directive("epmodaldialog",[function(){return{restrict:"E",templateUrl:"src/components/ep.modaldialog/modals/modaldialog-pane.html",replace:!0,compile:function(){return{pre:function(){},post:function(a){a.config=a.dialogState?a.dialogState.config:{}}}}}}])}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(a){var b={showProgress:!1,icon:"fa fa-info-circle fa-4x"};v(a,b),q(a,b),r(b)}function j(a){var b={showProgress:!1,icon:"fa  fa-question-circle fa-4x",buttons:[{text:"Yes",isDefault:!0,action:a?a.fnDefaultAction:null},{text:"No",isCancel:!0,action:a?a.fnCancelAction:null}]};v(a,b),q(a,b),r(b)}function k(a){var b={showProgress:!0,icon:"fa fa-clock-o fa-4x",buttons:[]};q(a,b),r(b)}function l(a,b){var c={templateUrl:"src/components/ep.modaldialog/modals/modaldialog-error.html",title:"Exception",icon:"",status:"error",statusClass:"alert-danger",statusIcon:"fa fa-3x fa-warning",message:"",messageDetails:"",btnBlock:!1,buttons:[{id:"btnOk",text:"Ok",isDefault:!0,type:"primary",action:a?a.fnDefaultAction:null}]};if(b&&b instanceof Error&&(c.message=b.message,c.messageDetails=b.stack),a&&a.status){var d=a.status.toLowerCase();switch(d){case"warning":c.statusClass="alert-warning",c.statusIcon="fa fa-3x fa-warning";break;case"error":c.statusClass="alert-danger",c.statusIcon="fa fa-3x fa-warning";break;case"information":case"info":c.statusClass="alert-info",c.statusIcon="fa fa-3x fa-info"}}return q(a,c),n(c).result}function m(a){var b={templateUrl:"src/components/ep.modaldialog/modals/modaldialog-error.html",title:"",icon:"",status:"information",statusClass:"alert-info",statusIcon:"fa fa-3x fa-info",message:"",messageDetails:"",btnBlock:!1,buttons:[{id:"btnOk",text:"Ok",isDefault:!0,type:"primary",action:a?a.fnDefaultAction:null}]};if(a&&a.status){var c=a.status.toLowerCase();switch(c){case"warning":b.statusClass="alert-warning",b.statusIcon="fa fa-3x fa-warning";break;case"error":b.statusClass="alert-danger",b.statusIcon="fa fa-3x fa-warning";break;case"information":case"info":b.statusClass="alert-info",b.statusIcon="fa fa-3x fa-info"}}return q(a,b),n(b).result}function n(c){var d=c;if(o(),1!==u(d)){d._isModalDialog=!0,s(d),d.setStatusBarText=function(b){d.statusBarTextHTML=angular.isString(b)?a.trustAsHtml(b):b},d.setStatusBarText(d.statusBarText);var e="ep-modal-window";return e+="fullscreen"===d.size?" ep-fullscreen":" ep-responsive",d.windowClass&&(e+=" "+d.windowClass),b.open({windowClass:e,keyboard:!1,size:"small"===d.size?"sm":"large"===d.size?"lg":"",backdrop:d.backdrop!==!1&&(d.backdrop||!1),templateUrl:"src/components/ep.modaldialog/modals/modaldialog-custom.html",controller:["$scope","$uibModalInstance","$document","$timeout",function(a,b,c,e){function f(c){if(13===c.which||27===c.which){var f=!0,g=_.find(d.buttons,function(a){return 13===c.which?a.isDefault:a.isCancel});g?a.btnclick(g):13===c.which&&d.fnDefaultAction?a.btnclick(null,"fnDefaultAction"):27===c.which&&d.fnCancelAction?a.btnclick(null,"fnCancelAction"):27===c.which?e(function(){w(),b.dismiss("cancel")}):f=!1,f&&(c.preventDefault(),c.stopPropagation())}}z=b,a.config=d,d.templateUrl&&!d.templateOptions&&(d.templateOptions={templateUrl:d.templateUrl}),(d.helpTemplateUrl||d.helpTemplate)&&(d.helpTemplateOptions=d.helpTemplateOptions||{},d.helpTemplateOptions.templateUrl=d.helpTemplateOptions.templateUrl||d.helpTemplateUrl,d.helpTemplateOptions.template=d.helpTemplateOptions.template||d.helpTemplate),d.helpTemplateOptions&&(d.helpTemplateOptions.templateScope||(d.helpTemplateOptions.templateScope=a),a.helpButtonClick=function(){a.showHelp=!a.showHelp},a.closeHelp=function(){a.showHelp=!1}),d.templateOptions&&!d.templateOptions.templateScope&&(d.templateOptions.templateScope=a),d.controller&&g.invoke(d.controller,z,{$scope:a,$uibModalInstance:b}),a.btnclick=function(c,d){var f={};q(y.config,f);var g=t(a.config,c,d);g!==-1&&e(function(){w(f),"fnCancelAction"===d||c&&c.isCancel?b.dismiss("cancel"):b.close(g?g:0)})},c.on("keydown",f),a.$on("$destroy",function(){c.off("keydown",f)}),e(function(){var b=$(".ep-modal-footer").innerHeight(),c=$(".ep-modal-header").innerHeight()+5,d=$(".ep-dlg-status h4").innerHeight();if(1==a.config.statusBar){var e=b+d;$(".ep-modal-area").css({paddingBottom:e+"px",paddingTop:c+"px"}),$(".ep-modal-footer").css({bottom:d+"px"})}else $(".ep-modal-area").css({paddingBottom:b+"px",paddingTop:c+"px"})})}]})}}function o(){w(),y.isVisible=!1,z&&(z.close(0),z=null)}function p(a){a?h.clear(A+a):h.clear(A.substr(0,A.length-1))}function q(a,b){a&&b&&angular.forEach(a,function(c,d){null!==a[d]&&(angular.isArray(a[d])?b[d]=a[d]:angular.isObject(a[d])?q(a[d],b[d]):b[d]=a[d])})}function r(a){w();var b={};return q(x,b),q(a,b),u(b)?void o():(y.isVisible=!0,angular.element("body .ep-modaldialog.ep-modaldialog-pane").length||(y.paneScope=d.$new(),y.paneScope.dialogState=y,y.paneScope.btnclick=function(a){o(),t(y.config,a)},angular.element(document.body).append(c("<epmodaldialog></epmodaldialog>")(y.paneScope))),b._isModalDialog=!1,s(b),void(y.paneScope&&(y.paneScope.config=b)))}function s(a){y.config=a,a.buttons&&a.buttons.length&&angular.forEach(a.buttons,function(b){b.type||(a._isModalDialog&&b.isDefault===!0?b.type="primary":a._isModalDialog&&b.isCancel===!0?b.type="warning":b.type="default")}),a.autoClose&&(a.messageHasTimer=a.message.indexOf("{timer}")>=0,a.titleHasTimer=a.title.indexOf("{timer}")>=0,a.autoClosePromise=e(function(){null!==a.autoClosePromise&&a.fnDefaultAction&&a.fnDefaultAction(),o()},1e3*a.autoClose),a.countDown=a.autoClose,(a.messageHasTimer||a.titleHasTimer||a.showTimer)&&(a.timerPromise=f(function(){a.countDown--,a.countDown<=0&&(f.cancel(a.timerPromise),a.timerPromise=null)},1e3,0)),a.spinnerTextClass=a.countDown<100?"ep-timer-large-font":"ep-timer-small-font"),a.showSpinner=a.showTimer||a.showProgress,a.showSpinner&&(a.spinnerIconClass=a.showTimer?"fa-circle-o-notch":"fa-spinner fa-pulse"),a.fnGetMessage=function(){if(a.messageHasTimer){var b=void 0!==a.countDown&&null!==a.countDown?a.countDown:"";return a.message.replace("{timer}",b)}return a.message},a.fnGetTitle=function(){if(a.titleHasTimer){var b=void 0!==a.countDown&&null!==a.countDown?a.countDown:"";return a.title.replace("{timer}",b)}return a.title}}function t(a,b,c){var d=0,e="";return b?b.action?(d=b.action(a,b),e=b.text):b.isDefault===!0&&a.fnDefaultAction?(d=a.fnDefaultAction(a,b),e="fnDefaultAction"):b.isCancel===!0&&a.fnCancelAction?(d=a.fnCancelAction(a,b),e="fnCancelAction"):a.fnButtonAction?(d=a.fnButtonAction(a,b),e=b.text):e=b.text:c&&("fnDefaultAction"===c&&a.fnDefaultAction?(d=a.fnDefaultAction(a),e="fnDefaultAction"):"fnCancelAction"===c&&a.fnCancelAction&&(d=a.fnCancelAction(a),e="fnCancelAction")),a.rememberMeValue&&a.dialogId&&e&&h.update(A+a.dialogId,e),d}function u(a){if(a.rememberMeValue=!1,a.rememberMe&&!a.dialogId&&(a.rememberMe=!1),a.rememberMe&&a.dialogId&&h.get(A+a.dialogId)){var b=!1,c=h.get(A+a.dialogId);if("fnDefaultAction"===c&&a.fnDefaultAction)b=!0,a.fnDefaultAction(a);else if("fnCancelAction"===c&&a.fnCancelAction)b=!0,a.fnCancelAction(a);else{var d=null;angular.forEach(a.buttons,function(a){a.text===c&&(d=a)}),d&&(d.action?(b=!0,d.action(a,d)):d.fnButtonAction&&(b=!0,d.fnButtonAction(a,d)))}return b?1:-1}return 0}function v(a,b){if(a&&a.status){var c=a.status.toLowerCase();b.titleClass="warning"===c?"text-warning":"error"===c?"text-danger":"text-success",b.icon="warning"===c||"error"===c?"fa fa-4x fa-warning":"fa fa-4x fa-check"}}function w(a){var b=a?a:y.config;b.autoClosePromise&&(e.cancel(b.autoClosePromise),b.autoClosePromise=null),b.timerPromise&&(f.cancel(b.timerPromise),b.timerPromise=null)}var x={containerClass:"bg-primary",title:"Title",titleClass:"text-warning",message:"Message",messageClass:"",icon:"fa fa-info-circle fa-4x",iconClass:"",showProgress:!1,autoClose:0,fnDefaultAction:null,fnCancelAction:null,fnButtonAction:null,buttons:[{text:"Ok",isDefault:!0}],btnBlock:!1},y={isVisible:!1,config:{},paneScope:null};angular.copy(x,y.config);var z=null,A="emf.dialogs.dialogId.";return{showMessage:i,showConfirm:j,showProgress:k,showException:l,showMessageBox:m,showCustomDialog:n,hide:o,clearRememberMe:p,state:y}}a.$inject=["$sce","$uibModal","$compile","$rootScope","$timeout","$interval","$injector","epLocalStorageService"],angular.module("ep.modaldialog").service("epModalDialogService",a)}(),function(){"use strict";angular.module("ep.modaldialog").controller("epModalDialogErrorCtrl",["$scope",function(a){var b=a.config;b.callFnHideModalError=!0,b.fnHideModalError=function(){var a=angular.element(".ep-dlg-message"),c=angular.element(".ep-modaldialog-error");a.length&&c.length&&a.length&&a[0].clientWidth>c[0].clientWidth&&(a.css("max-width",c[0].clientWidth-70),b.callFnHideModalError=!1)}}])}(),function(){"use strict";function a(a,c,d,e,f){function g(a){e.mergeMenus(c.menu,a),0===--c.count&&(c.menuOptions.menu=c.menu)}c.onMenuOptions=function(){if(c.menuOptions.onMenuInit=function(a){c.menuOptions.factory=a},c.onTopMenuClick=function(){c.menuOptions.onTopMenuClick&&c.menuOptions.onTopMenuClick()},c.menu={id:"root",caption:c.menuOptions.title||"Main Menu",menuitems:[]},"accordion"!==c.menuOptions.menuType){var h=c.menuOptions.fnGetMenu||[];if(angular.isArray(h)||(h=[c.menuOptions.fnGetMenu]),c.includeEmbeddedMenu){var i=f.getService("epEmbeddedAppsService");i&&h.push(i.retrieveAppsMenu)}c.count=h.length,angular.forEach(h,function(b){a.when(b()).then(function(a){e.mergeMenus(c.menu,a),0===--c.count&&(c.menuOptions.menu=c.menu)})})}else{angular.isArray(c.menuOptions.providers)||(c.menuOptions.providers=[c.menuOptions.providers]);var j=c.menuOptions.providers;c.count=j.length;var k=j.map(function(a){return a.getCacheKey()});c.commitMenuState=function(){k.forEach(function(a){var c=b[a];d.update("menu."+a,c)})};var l=1e3*(c.menuOptions.refreshInterval||0),m=(new Date).valueOf();j.forEach(function(a){var c=a.getCacheKey();a.register(function(){b[c]=null,d.update("menu."+c,null)});var e=b[c];if(e)g(e);else if(e=d.get("menu."+c),e&&e._timestamp+l>m)a.restore(e),b[c]=e,g(e);else{var f=a.get;f&&f().then(function(e){e._timestamp=m,b[c]=e,d.update("menu."+c,e),a.restore(e),g(e)})}})}}}a.$inject=["$q","$scope","epLocalStorageService","epMultiLevelMenuService","epUtilsService"],angular.module("ep.multi.level.menu").controller("epShellMenuCtrl",a);var b={}}(),function(){"use strict";function a(){return{restrict:"E",controller:"epShellMenuCtrl",templateUrl:"src/components/ep.multi.level.menu/ep-shell-menu/ep-shell-menu.html",scope:{menuId:"=",menuOptions:"=",includeEmbeddedMenu:"="},compile:function(){return{pre:function(){},post:function(a){a.$watch("menuOptions",function(b){void 0!==b&&a.onMenuOptions()})}}}}}angular.module("ep.multi.level.menu").directive("epShellMenu",a)}(),function(){"use strict";angular.module("ep.multi.level.menu").constant("epMultiLevelMenuConstants",{MLM_INITIALIZED_EVENT:"MLM_INITIALIZED_EVENT",MLM_MENU_DATA_CHANGED:"MLM_MENU_DATA_CHANGED",MLM_FAVORITES_CHANGED:"MLM_FAVORITES_CHANGED",MLM_ITEM_CLICKED:"MLM_ITEM_CLICKED",MLM_ITEM_EXPANDED:"MLM_ITEM_EXPANDED"})}(),function(){"use strict";angular.module("ep.multi.level.menu").controller("epMultiLevelMenuCtrl",["$rootScope","$scope","$timeout","epMultiLevelMenuFactory","epMultiLevelMenuConstants","epMultiLevelMenuService",function(a,b,c,d,e,f){function g(){b.searchResults=[],b.currentItems=[],b.state.lastSearchTerm=""}function h(){b.state.searchTerm?b.currentItems=b.searchResults:b.data&&b.data.next?b.currentItems=b.data.next.menuitems:b.currentItems=[]}function i(){return b.isRightToLeft=!1,q&&c.cancel(q),b.menu&&b.menu.menuitems&&b.state.searchTerm?void(q=c(function(){var a=[],c=b.state.searchTerm.toLowerCase(),d=b.state.searchType?b.state.searchType.toLowerCase():"";b.state.lastSearchTerm&&0===c.indexOf(b.state.lastSearchTerm)?j(b.searchResults,c,d,!1,a):j(b.menu.menuitems,c,d,!0,a),b.searchResults=a,h(),b.state.lastSearchTerm=c},250)):(b.searchResults=[],b.state.lastSearchTerm="",void h())}function j(a,b,c,d,e){angular.forEach(a,function(a){a&&a.caption.toLowerCase().indexOf(b)!==-1&&(""!==c&&a.type!==c&&a._type!==c||e.push(a)),d&&a.menuitems&&j(a.menuitems,b,c,d,e)})}function k(a,c){a&&("item"===a._type&&a.action&&"function"==typeof a.action&&(b.multiLevelMenuHelper.stampLastAccess(a),n(e.MLM_ITEM_CLICKED,a),a.actionExternal(a)),c&&c.stopPropagation())}function l(a,d,f){if(a){if("menu"===a._type){if("topmenu"===a._id)return;b.isRightToLeft=d!==!0,b.data.next=a,c(function(){h(),b.$apply()})}"item"===a._type&&a.action&&"function"==typeof a.action&&(b.multiLevelMenuHelper.stampLastAccess(a),n(e.MLM_ITEM_CLICKED,a),a.action(a)),a.isTop&&d&&f&&b.onTopMenuClick&&b.onTopMenuClick()}}function m(a,c){b.multiLevelMenuHelper.toggleFavorite(a,c)}function n(c,d){a.$emit(c,{eventId:c,menuId:b.menuId,factory:b.multiLevelMenuHelper,scope:b,menuItem:d})}function o(a){b.searchType&&(b.state.searchType=b.searchType),b.multiLevelMenuHelper=d.getMultiLevelMenuHelper(b,a),b.multiLevelMenuHelper.populate(b.menu),b.data=b.multiLevelMenuHelper.data,b.data.next=b.multiLevelMenuHelper.data.menu,b.navigate(b.data.next),b.onMenuInit&&b.onMenuInit({factory:b.multiLevelMenuHelper}),n(e.MLM_INITIALIZED_EVENT),b.$watch("menu",function(a,c){!a||angular.equals(a,c)&&b.data&&b.data.menu||(b.multiLevelMenuHelper.populate(b.menu,!0),b.data=b.multiLevelMenuHelper.data,b.data.next=b.multiLevelMenuHelper.data.menu,h(),n(e.MLM_MENU_DATA_CHANGED))}),f.registerMenuFactory(b.multiLevelMenuHelper)}function p(a){var c=b.fnSort?b.fnSort(a):void 0;return c||a.sort||a.caption}b.state={searchTerm:"",searchType:"item",lastSearchTerm:""},b.searchResults=[],b.currentItems=[],b.multiLevelMenuHelper=null;var q;b.$watch("sortDisabled",function(a,c){a!==!0&&a!==!1||angular.equals(a,c)||(b.orderByMenu=a===!0?void 0:p)}),b.orderByMenu=b.sortDisabled===!0?void 0:p,b.clear=g,b.setCurrentItems=h,b.navigate=l,b.navigateExternal=k,b.toggleFavorite=m,b.search=i,b.initializeMenus=o,b.emitMenuEvent=n}])}(),function(){"use strict";angular.module("ep.multi.level.menu").directive("epMultiLevelMenu",["$timeout",function(a){return{restrict:"E",replace:!0,controller:"epMultiLevelMenuCtrl",templateUrl:"src/components/ep.multi.level.menu/multi-level-menu.html",scope:{menuId:"=",searchType:"=",searchDisabled:"=",sortDisabled:"=",iconDisabled:"=",initFavorites:"=",menu:"=",onMenuInit:"&",onFavoriteChange:"&",onTopMenuClick:"="},compile:function(){return{pre:function(){},post:function(b){a(function(){b.initializeMenus("epMultiLevelMenu")})}}}}}])}(),function(){"use strict";angular.module("ep.multi.level.menu").factory("epMultiLevelMenuFactory",["epLocalStorageService","epMultiLevelMenuService","epMultiLevelMenuConstants",function(a,b,c){function d(a,b){return new e(a,b)}function e(d,e){function f(a){a.menuitems||(a.menuitems=[]),a._type||(a._type=null===a.menuitems||a.menuitems.length<=0?"item":"menu","item"!==a._type||a._lastAccessed||(a._lastAccessed=r(a))),a._depth=z,angular.forEach(a.menuitems,function(b){"epAccordionMenu"!==e&&(b._parent=a),z++,f(b),z--})}function g(c,d){c&&(B.menu=angular.extend({},c)),B.menu&&(B.menu._parent={_id:"topmenu",isTop:!0},f(B.menu),B.favorites=u(),B.next=B.menu,a.get(w())||b.findAllMenuItems(B.menu,function(a){a.hideFavorite||!a.initFavorite&&!A.initFavorites||o(a)}),d&&A.navigate(B.menu))}function h(a,b){B.menu=B.menu||{},i(B.menu,a),g(),b&&A.navigate(B.menu)}function i(a,c){return a=a||{},a.menuitems||(a.menuitems=[]),angular.forEach(c,function(c){c.id?l(c.id,a)||a.menuitems.push(c):b.findFirstMenuItem(a,function(a){return a.caption===c.caption})||a.menuitems.push(c)}),a}function j(a){a&&(B.next=a)}function k(a){var b=l(a);b&&j(b)}function l(a,c){var d=function(b){return b.id===a};return b.findFirstMenuItem(c?c:B.menu,d)}function m(){return B.menu=null,B.favorites=null,B.next=null,A.clear(),g()}function n(){B.menu=null,B.favorites=null,B.next=null,A.clear()}function o(b,d){var e=s(b);if(e){e.favorite=!e.favorite;var f=w(e);e.favorite?a.update(f,b._id||b.id):a.clear(f),B.favorites=u(),A.onFavoriteChange&&A.onFavoriteChange({menuItem:b,favorites:B.favorites}),d&&d.stopPropagation(),A.emitMenuEvent(c.MLM_FAVORITES_CHANGED)}}function p(a){var b=s(a);b&&b.action&&"function"==typeof b.action&&(q(b),A.emitMenuEvent(c.MLM_ITEM_CLICKED,b),b.action(b))}function q(b){var c=s(b);if(c){var d=w(c,!0);b._lastAccessed=moment().toISOString(),a.update(d,b._lastAccessed)}}
function r(b,c){var d,e=s(b);if(e){if(c!==!0&&e._lastAccessed)return e._lastAccessed;var f=w(e,!0),g=a.get(f);if(g){var h=moment(g);h.isValid()&&(d=h.toDate())}return d}}function s(a){var b=a;return angular.isString(a)&&(b=l(a)),b}function t(a){return b.findFirstMenuItem(B.menu,function(b){return b._id?b._id===a:b.id===a})}function u(){var c=b.findAllMenuItems(B.menu,function(a){return!!a.favorite}),d=w(),e=a.get(d)||{};return angular.forEach(e,function(a){if(!_.find(c,function(b){return b.id===a})){var b=t(a);b&&(b.favorite=!0,c.push(b))}}),c}function v(){B.favorites=null;var b=w();a.clear(b),A.emitMenuEvent(c.MLM_FAVORITES_CHANGED)}function w(a,b){var c="emf.multi-level-menu."+(A.menuId||"").replace(/\./g,"-");if(c+=b?".lastaccess":".favorite",a){var d=((a._id?a._id:a.id)||"").replace(/\./g,"-");c=c+"."+d}return c}function x(){return A.menuId}function y(a){A.fnSort=a}var z=0,A=d,B={menu:null,favorites:null};return{getMenuId:x,data:B,populate:g,resetCache:m,clearFavorites:v,setCurrentMenuParent:j,setCurrentMenuParentById:k,findMenuItemById:l,toggleFavorite:o,stampLastAccess:q,getItemLastAccess:r,triggerAction:p,clear:n,mergeMenu:h,mergeMenuItems:i,setSortFunction:y}}return{getMultiLevelMenuHelper:d}}])}(),function(){"use strict";angular.module("ep.multi.level.menu").service("epMultiLevelMenuService",[function(){function a(b,c){var d=c(b)?b:null;return d||angular.forEach(b.menuitems,function(b){d||(d=a(b,c))}),d}function b(b,c){var d=function(a){return a.id===b};return a(c,d)}function c(a,b,d){angular.forEach(a.menuitems,function(a){b(a)&&d.push(a),c(a,b,d)})}function d(a,b){var d=[];return c(a,b,d),d}function e(a,c){a.menuitems||(a.menuitems=[]),_.each(c,function(c){var d=null;c.menuitems&&c.menuitems.length&&(d=b(a,c.id)),d?e(d,c.menuitems):a.menuitems.push(c)})}function f(a,b){b&&a&&_.each(b,function(b){b&&b.Menu?e(a,b.Menu.menuitems):b&&b.menuitems&&e(a,b.menuitems)})}function g(a){a&&a.getMenuId()&&(i[a.getMenuId()]=a)}function h(a){return i[a]}var i={};return{registerMenuFactory:g,getMenuFactory:h,mergeMenuItems:e,mergeMenus:f,findMenuItemById:b,findFirstMenuItem:a,findAllMenuItems:d}}])}(),function(){"use strict";angular.module("ep.odata").factory("odataQueryFactory",function(){function a(a,b){var c="";if("string"==typeof a&&(c=a,a=null),a&&a.constructor.toString().indexOf("Array")>1){var d;for(d=0;d<a.length;d++)c+=(""===c?"":",")+a[d];a=null}if(a)for(var e in a)a.hasOwnProperty(e)&&(c+=(""===c?"":",")+e,b&&a[e]&&(c+=" desc"));return c}function b(a){return"string"==typeof a&&(l.type=a),this}function c(a){return isNaN(a)||parseInt(Number(a))!==a||(l.$top=a),this}function d(a){return isNaN(a)||parseInt(Number(a))!==a||(l.$skip=a),this}function e(b){var c=a(b,!0);return""!==c&&(l.$orderby=c),this}function f(b){var c=a(b);return""!==c&&(l.$select=c),this}function g(b){var c=a(b);return""!==c&&(l.$expand=c),this}function h(a){if(a)for(var b in a)a.hasOwnProperty(b)&&a[b]&&(l.$filter=(l&&l.$filter?l.$filter+" and ":"")+b+" eq '"+a[b]+"'");return this}function i(a,b,c,d){var e={">":"gt",">=":"ge","<":"lt","<=":"le","=":"eq","==":"eq","!=":"ne","<>":"ne"};b=e[b]||b;var f="",g=d&&"or"in d&&d.or?" or ":" and ",h=angular.isString(c)||isNaN(c)?"'":"";if(null!==a&&void 0!==a&&null!==c&&void 0!==c){switch(b){case"math":if(!(d&&"mathOperand"in d&&"mathFunction"in d&&"mathCompareOp"in d))throw"Malformed math operation; params object must contain mathOperand, mathFunction, and mathCompareOp properties";if(isNaN(c)||isNaN(d.mathOperand))throw"The second argument and mathOperand for math functions needs to be a number";b=e[d.mathCompareOp]||d.mathCompareOp,a=a+" "+d.mathFunction+" "+d.mathOperand;break;case"endswith":case"startswith":a=b+"("+a+",'"+c+"')",b="eq",c="true",h="",f=d&&"not"in d&&d.not?"not ":"";break;case"contains":a="indexof("+a+",'"+c+"')",b=d&&"not"in d&&d.not?"lt ":"gt",c="0",h="";break;case"day":case"month":case"year":case"second":case"minute":case"hour":if(isNaN(c)&&parseInt(Number(c))!==c)throw"The second argument for date/time functions needs to be an integer";a=b+"("+a+")",b="eq"}l.$filter=(l&&l.$filter?l.$filter+g:"")+f+a+" "+b+" "+h+c+h}return this}function j(a,b){var c=b?" or ":" and ";return l.$filter=(l&&l.$filter?l.$filter+c:"")+a,this}function k(){var a=$.extend({},l);return l={},a}var l={};return{setType:b,setTop:c,setSkip:d,setOrderBy:e,setSelect:f,setExpands:g,setFilter:h,setWhere:i,setWhereCustom:j,compose:k}})}(),angular.module("ep.photo.browser").controller("epPhotoBrowserCtrl",["$scope","epPhotoBrowserService",function(a,b){b.getImages().then(function(b){a.images=b})}]),angular.module("ep.photo.browser").directive("epPhotoBrowser",["epPhotoBrowserService",function(a){function b(b){b.active=a.active,b.slides=a.slides,b.imageFiles=a.imageFiles}return{link:b,restrict:"E",controller:"epPhotoBrowserCtrl",templateUrl:"src/components/ep.photo.browser/ep-photo-browser.html",scope:{showPreview:"@"}}}]),angular.module("ep.photo.browser").factory("epPhotoBrowserFactory",[function(){function a(){return!0}return{publicMethod:a}}]),function(){"use strict";angular.module("ep.photo.browser").service("epPhotoBrowserService",["$q",function(a){function b(){var b=a.defer();return b.resolve(h),b.promise}function c(){document.addEventListener("deviceready",d,!1)}function d(){window.resolveLocalFileSystemURL(cordova.file.externalRootDirectory,function(a){window.console.log(cordova.file.externalRootDirectory);var b=a.createReader();b.readEntries(function(a){var b;for(b=0;b<a.length;b++)if("DCIM"===a[b].name){var c=a[b].createReader();c.readEntries(f,!1);break}},function(){window.console.log("fail")})})}function e(a,b){function c(){window.Console.log("file not found")}function d(a){a.file(function(a){var c=new FileReader;c.onloadend=function(){var a=this.result;b(a)},c.readAsDataURL(a)})}window.resolveLocalFileSystemURL(a,d,c)}function f(a){var b;for(b=0;b<a.length;b++){if("Camera"===a[b].name){var c=a[b].createReader();c.readEntries(g,!1);break}window.console.log("the entries name"+a[b].name)}}function g(a){var b;for(b=0;b<a.length;b++)if(/\.(jpe?g|png|gif|bmp)$/i.test(a[b].name)){var c=a[b].fullPath.substr(1),d=cordova.file.externalRootDirectory+c;h.push({thumb:d,img:d})}}var h=[],i=[];return{imageFiles:i,getFileContentAsBase64:e,onGetDCIM:f,onGetFileNames:g,images:h,getImages:b,showDeviceImage:c}}])}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.record.editor/editors/ep-checkbox-editor.html",scope:{ctx:"=",value:"=",options:"="},compile:function(){return{pre:function(a){var b=a.ctx;b.fnSetSizeClass("col-xs-12 col-sm-4 col-md-3 col-lg-2"),b.checkBoxSize=b.checkBoxSize||"2x",b.updatable&&(b.toggleValue=function(c,d){if(void 0!==a.value&&!b.disabled){var e=!a.value;b.fnSetCurrentValue(e,!1),b.fnValidate&&b.updatable&&b.fnValidate(b.col,this,d)}}),b.checked=b.value?"checked":"",a.handleKey=function(b){32===b.which&&a.ctx.toggleValue(a.ctx)}}}}}}angular.module("ep.record.editor").directive("epCheckboxEditor",a)}(),function(){"use strict";function a(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){if(d){var e=c.epDateConvert;"toString"===e&&(d.$parsers.unshift(function(b){var c=null;if(void 0!==b){var d=moment(b),e=a.ctx.isDateTime?"YYYY-MM-DDT00:00:00":"YYYY-MM-DD";c=d.isValid()?d.format(e):null}var f=a.ctx.fnGetCurrentValue();return f!==c&&a.ctx.fnSetCurrentValue(c),b}),d.$viewChangeListeners.push(function(){void 0===d.$modelValue&&(a.ctx.isInvalidDateSet=!0,a.value=void 0)})),"toDate"===e&&d.$formatters.push(function(b){if(angular.isString(b)){var c=moment(b);a.ctx.dateValue=c.isValid()?c.toDate():null}else a.ctx.isInvalidDateSet===!0?a.ctx.isInvalidDateSet=!1:a.ctx.dateValue=angular.isDate(b)?b:null;return b})}}}}angular.module("ep.record.editor").directive("epDateConvert",a)}(),function(){"use strict";function a(a){var b=a.inputSupportsType("date");return{restrict:"E",replace:!0,templateUrl:"src/components/ep.record.editor/editors/ep-date-editor.html",scope:{ctx:"=",value:"=",options:"="},compile:function(){return{pre:function(a){var c=a.ctx,d=c.col;c.useDateInput=b;var e=d.oFormat.FormatString;if(c.format=e,c.dateOptions={},!c.useDateInput){var f;if(e&&(f=/[A-Z]|[a-z]/,c.dateSeparator=_.find(c.format,function(a){return a&&!f.test(a)})),!c.dateSeparator){var g=(new Date).toLocaleDateString();f=/[0-9]|[' ']/,c.dateSeparator=_.find(g,function(a){return a&&8206!==a.charCodeAt(0)&&!f.test(a)})}c.fnDateOpen=function(a){c.disabled||(a.preventDefault(),a.stopPropagation(),c.dateOpened=!0)},c.fnDateKeyDown=function(a){var b=a.keyCode;if(8===b||9===b||16===b||33===b||34===b||35===b||36===b||37===b||38===b||39===b||40===b)return!0;if(a.ctrlKey)return!0;if(c.disabled)return a.preventDefault(),!1;if(c.dateSeparator&&a["char"]){var d=c.dateSeparator;if(a["char"]===d)return!(angular.isString(a.target.value)&&a.target.value.split(d).length>2)||(a.preventDefault(),!1);if(/[0-9]/.test(a["char"]))return!0}else if(a["char"]){if(!/[A-Z]|[a-z]/.test(a["char"]))return!0}else if(b<65||b>90)return!0;return a.preventDefault(),!1}}}}}}}a.$inject=["epFeatureDetectionService"],angular.module("ep.record.editor").directive("epDateEditor",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a,c,d){if(a.col.fnOnFldValidate){if(l(a.control.scope)){var f=l(a.control.scope);f.doValidation(a.control.scope.options.recordEditor.state,a,c,d)}else{a.isInvalid=!1;var g=a.control.scope.value;e.when(a.col.fnOnFldValidate(a,c,g)).then(function(c){c===!1&&(a.isInvalid=!0),d&&a.fnSetFocus(),b(function(){a.fnDoValidations()})})}b(function(){a.fnDoValidations()})}}function h(a){var b=typeof a;if("number"===b)return"number";if("boolean"===b)return"checkbox";if("date"===b)return"date";if("string"===b){var c=/\d{4}-\d{2}-\d{2}['T']/;if(a&&a.match(c))return"date"}return"text"}function i(a,b){a&&($(a).removeClass(function(a,b){return(b.match(/(^|\s)col-((lg)|(xs)|(sm)|(md))\S+/g)||[]).join(" ")}),a.addClass(b))}function j(e){var j=e.column||{};j.oFormat=j.oFormat||n;var l="text";j.editor&&"auto"!==j.editor?l=j.editor:void 0!==e.value&&null!==e.value&&(l=h(e.value),e.editorValueType=typeof e.value);var o=(l||"text").trim().toLowerCase(),p=j.name||j.caption||j.columnIndex,q={recordEditorState:void 0,editorContainer:e.state.iElement,control:{scope:e},col:j,editor:o,name:o+"_"+p+e.$id,columnIndex:j.columnIndex,required:j.required||"number"===o&&!j.nullable,requiredFlag:j.requiredFlag,bizType:j.bizType,label:j.caption||p||"",maxlength:j.maxLength||30,justification:j.justification,hidden:j.hidden,updatable:j.updatable,disabled:!j.updatable,nullable:j.nullable,displayInvalid:j.flagInvalid||!0,buttons:j.buttons||[],imageWidth:j.imageWidth?j.imageWidth:0,imageHeight:j.imageHeight?j.imageHeight:0,isInvalid:!1,placeholder:j.placeholder,size:j.size,style:j.style,checkBoxSize:j.checkBoxSize,mode:j.mode||"default"};if(j.style&&angular.isString(j.style))try{var r=e.$eval(j.style);q.style=r}catch(s){a.error("Error in ep-editor-control styling. Error: "+s.message+"\nStyle: "+j.style)}if("template"===q.editor){var t=e.$new(!1,e);q.templateOptions=j.templateOptions||{template:j.template,templateScope:t},e.editorDirective='<ep-include options="ctx.templateOptions" user-data="ctx"></ep-include>',t.$watch("value",function(a,b){void 0!==a&&q.updatable&&q.readonly!==!0&&(e.value=a)})}else{var u="custom"===q.editor?j.editorDirective:"ep-"+q.editor+"-editor";e.editorDirective="<"+u+" ctx=ctx value=value />"}if(q.fnSetSizeClass=function(a){var c=j.sizeClass||a||m,d=!0;j.sizeClassTarget&&(angular.isString(j.sizeClassTarget)?b(function(){var a=$(e.state.iElement).closest(j.sizeClassTarget);i(a,c)}):j.sizeClassTarget instanceof HTMLElement?i($(j.sizeClassTarget),c):d=!1),j.sizeClassTarget&&d||(q.sizeClass=c)},q.fnSetSizeClass(),q.fnSetFocus=function(){var a=q.fnGetEditorElement();a&&angular.element(a).focus()},q.fnGetCurrentValue=function(){return q.control.scope.value},q.fnSetCurrentValue=function(a,b){var c=q.fnGetEditorElement();void 0!==a&&q.fnGetCurrentValue()!==a&&(q.control.scope.value=a,c&&angular.element(c).addClass("ng-dirty"),q.updatable&&g(q,{},!0),q.fnOnChange({},q)),b&&q.fnSetFocus()},q.fnGetEditorElement=function(){var a=null;return q.editorContainer&&(a=angular.element(q.editorContainer).find(".form-control.editor")),a},q.fnOnChange=function(a){q.col.fnOnChange&&b(function(){q.col.fnOnChange(a,q)})},q.fnBlur=function(a){var b=e.ctx.recordEditorState;return b&&(b.lastFocused={Col:q.col,Ctx:q,Event:a}),q.updatable&&angular.element(a.currentTarget).hasClass("ng-dirty")&&g(q,a,!1),q.col.fnOnBlur&&q.col.fnOnBlur(a,q),!0},q.fnDoValidations=function(){if(q.invalidFlag=!1,q.displayInvalid&&q.editorContainer){var a=e.ctx.recordEditorState,b=a&&a.showAllInvalidFields,c=angular.element(q.editorContainer).find(".form-control.editor");if(c.length){var d=q.isInvalid||c.hasClass("ng-invalid")&&!c.hasClass("ng-invalid-remove")||c.hasClass("ng-valid-remove"),f=c.hasClass("ng-dirty")||c.hasClass("ng-dirty-add")||b;q.invalidFlag=d&&f}else q.toggleValue&&(q.invalidFlag=q.isInvalid)}return!1},q.bizType&&("phone"===q.bizType||"address"===q.bizType||"email"===q.bizType||"url"===q.bizType)){var v="",w="",x="href-input";switch(q.bizType){case"address":v="http://maps.google.com/maps?q={0}",w="fa fa-map-marker";break;case"phone":v="tel:{0}",w="fa fa-phone";break;case"email":v="mailto:{0}",w="fa fa-envelope";break;case"url":v="",w="fa fa-globe",x="href-func",q.fnGetHref=function(){var a=q.fnGetCurrentValue();if(j.stringFormat&&(a=f.strFormat(j.stringFormat,a)),a){var b=a.trim().toLowerCase();"http"!==b.substr(0,4)&&(a="http://"+a)}return a}}w&&q.buttons.push({type:x,text:"",href:v,style:w,seq:2,position:j.bizTypeRight===!0?"post":"pre"})}if(q.buttons.length&&(q.fnBtnClick=function(a){if("btn"===a.type)a.action(q);else{var b=q.fnGetCurrentValue();if(b){var d="";switch(a.type){case"href":d=a.href;break;case"href-input":d=f.strFormat(a.href,b);break;case"href-func":d=q.fnGetHref()}"href"===a.type?c.open(d,"_blank"):c.open(d)}}}),e.ctx=q,k(e)){var y=k(e),z=y.controls[q.columnIndex];z.controlCtx=q,q.recordEditorState=y,q.seq=z.seq}var A="#xtemplate",B=angular.element(e.state.iElement).find(A);B.empty().append(d(e.editorDirective)(e))}function k(a){return a.options&&a.options.recordEditor?a.options.recordEditor.state:null}function l(a){return a.options&&a.options.recordEditor?a.options.recordEditor:null}var m="col-xs-12 col-sm-8 col-md-6 col-lg-3",n={FieldType:0,MaxLength:30};return{restrict:"E,A",templateUrl:"src/components/ep.record.editor/editors/ep-editor-control.html",replace:!0,link:function(a,b){a.state={iElement:b},a.$watch("column",function(b){void 0!==b&&j(a)}),a.$watch("value",function(b){void 0!==b&&(a.column&&a.column.editor&&"auto"!==a.column.editor||(a.editorValueType?a.editorValueType!==typeof a.value?j(a):a.ctx.editor!==h(a.value)&&j(a):j(a)))}),a.handleDrop=function(b){var c=a.ctx.recordEditorState;if(c){var d=c.controls[a.ctx.columnIndex],e=c.controls[b.dragItem.columnIndex];if(d!==e){var f=d.seq,g=e.seq;void 0===d.origSeq&&(d.origSeq=f),void 0===e.origSeq&&(e.origSeq=g),d.origSeq!==d.seq&&delete d.origSeq,e.origSeq!==e.seq&&delete e.origSeq,e.seq>=d.seq?(e.seq=d.seq,angular.forEach(c.controls,function(a){a.seq>d.seq&&a.seq++}),d.seq++):(angular.forEach(c.controls,function(a){a.seq<d.seq&&a.seq--}),e.seq=d.seq-1),c.fnOnDragDrop&&c.fnOnDragDrop(a.ctx,b.dragItem),a.$apply()}}}},scope:{column:"=",value:"=",options:"=",isDragEnabled:"=",isDropEnabled:"=",isRow:"="}}}a.$inject=["$log","$timeout","$window","$compile","$q","epUtilsService"],angular.module("ep.record.editor").directive("epEditorControl",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.record.editor/editors/ep-image-editor.html",scope:{ctx:"=",value:"=",options:"="}}}angular.module("ep.record.editor").directive("epImageEditor",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.record.editor/editors/ep-multiline-editor.html",scope:{ctx:"=",value:"=",options:"="},compile:function(){return{pre:function(a){var b=a.ctx;b.rows=b.col.rows||5,b.fnSetSizeClass("col-xs-12 col-sm-12 col-md-8 col-lg-8")}}}}}angular.module("ep.record.editor").directive("epMultilineEditor",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.record.editor/editors/ep-number-editor.html",scope:{ctx:"=",value:"=",options:"="},compile:function(){return{pre:function(a){var b=a.ctx,c=b.col;if("number"===b.editor){var d=c.oFormat;if(d||(c.oFormat=d={Min:-99999999999,Max:99999999999}),(d.Min||0===d.Min)&&(b.min=d.Min,d.AllowNegative===!1&&d.Min<0&&(b.min=0)),(d.Max||0===d.Max)&&(b.max=d.Max),d.NumberFormatInfo||void 0!==d.Decimals){var e=0;e=void 0!==d.Decimals?d.Decimals:d.NumberFormatInfo.NumberDecimalDigits||0,e<0&&(e=0),0===e?b.pattern="^NEG(\\d+)$":b.pattern="^NEG(\\d+)(['.'](\\d){0,DEC})?$".replace("DEC",e.toString()),d.AllowNegative?b.pattern=b.pattern.replace("NEG","([-]?)"):b.pattern=b.pattern.replace("NEG","")}}}}}}}angular.module("ep.record.editor").directive("epNumberEditor",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.record.editor/editors/ep-select-editor.html",scope:{ctx:"=",value:"=",options:"="},compile:function(){return{pre:function(a){a.$watch("ctx.col.list",function(){var b=a.ctx;b.options=[],b.col.list&&(b.options=angular.extend([],b.col.list),angular.forEach(b.options,function(b){b.getIsSelected=function(){return b.value===a.value}})),b.required||_.find(b.options,function(a){return!a.value})||(b.options||(b.options=[]),b.options.unshift({label:"",value:null,getIsSelected:function(){return!a.value}}))})}}}}}angular.module("ep.record.editor").directive("epSelectEditor",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.record.editor/editors/ep-text-editor.html",scope:{ctx:"=",value:"=",options:"="}}}angular.module("ep.record.editor").directive("epTextEditor",a)}(),function(){"use strict";angular.module("ep.record.editor").provider("epRecordEditorConfig",function(){var a={sampleProperty:!1};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.record.editor",a),a}]})}(),function(){"use strict";function a(a,b,c,d){function e(){var a={scope:null,linkElement:null,formElement:null,controls:null,activeRecord:void 0,rowData:{},isReadOnly:!1,lastInputs:{},isDataArray:!1,dragEnabled:!1,dropEnabled:!1};return a}function f(a){var b=_.filter(a.state.linkElement.find(".editor"),function(a){return!$(a).attr("disabled")});if(b.length){var c=$(b[0]);c.focus()}}function g(a){if(a.state.controls){var b,c=_.find(a.state.controls,function(a){return b=a.getControlCtx(),b.isInvalid});c&&b.fnSetFocus()}}function h(a){return!!(a.state.lastFocused&&a.state.lastFocused.Event.originalEvent&&a.state.lastFocused.Event.originalEvent.target)&&(a.state.lastFocused.Event.originalEvent.target.focus(),!0)}function i(a,c,d,e){var f=c.columnIndex;if(void 0!==a.activeRecord[f]){var g=a.rowData[f];a.lastInputs[f]&&(g=a.lastInputs[f]);var h=a.activeRecord[f];if(a.lastInputs[f]===h)return;a.lastInputs[f]=h,n(g,h)&&(c.isInvalid=!1,b.when(c.col.fnOnFldValidate(c,d,h,g)).then(function(a){a===!1&&(c.isInvalid=!0),e&&c.fnSetFocus()}))}}function j(a){var b=typeof a;if("number"===b)return"number";if("boolean"===b)return"checkbox";if("date"===b)return"date";if("string"===b){var c=/\d{4}-\d{2}-\d{2}['T']/;if(a&&a.match(c))return"date"}return"text"}function k(b,c){if(null===b.state.controls||c){var e=b.options&&angular.isArray(b.options.columns);if(b.state.isDataArray||e||!b.record)b.state.columns=e?b.options.columns:[];else{var g=[];if(b.options&&b.options.columns&&angular.isString(b.options.columns)){var h=b.options.columns.split(",");angular.forEach(h,function(a){g.push({columnIndex:a,editor:"auto",updatable:!0})})}else angular.forEach(b.record,function(a,b){g.push({columnIndex:b,editor:"auto",updatable:!0})});b.state.columns=g}b.options&&b.options.columnTemplate&&b.state.columns&&angular.forEach(b.state.columns,function(a){d.copyProperties(b.options.columnTemplate,a,!1)}),b.state.columns&&b.record&&angular.forEach(b.state.columns,function(a){!a.editor&&a.columnIndex&&(a.editor=j(b.record[a.columnIndex]))}),b.state.columns&&b.state.columns.length&&(l(b),a(function(){f(b)},250),b.state.isReadOnly&&b.setReadOnly())}}function l(a){a.state.options={recordEditor:{state:a.state,doValidation:i}};var b={},c=-1;_.each(_.filter(a.state.columns,function(a){return a.columnIndex>=0||a.columnIndex}),function(d){c++;var e=c;d.seq||0===d.seq?e=d.seq:d.columnIndex&&!angular.isString(d.columnIndex)&&(e=d.columnIndex);var f=(d.editor||"text").trim().toLowerCase(),g={col:d,editor:f,seq:e,visibleIndex:("000"+e).substr(-3,3),columnIndex:d.columnIndex,options:a.state.options};g.getControlCtx=function(){return g.controlCtx},b[d.columnIndex]=g}),a.state.controls=b}function m(a){a.record?a.state.isDataArray=angular.isArray(a.record):a.state.isDataArray=!a.options||a.options.isDataArray!==!1}function n(a,b){return a?(null!==b||null!==a)&&(null===b&&null!==a||null!==b&&null===a||a.toString()!==b.toString()):!!b}return{restrict:"E,A",require:"?^form",templateUrl:"src/components/ep.record.editor/ep-record-editor.html",replace:!0,link:function(b,d,i,j){b.state=e(),b.state.factory=new c(b),b.options&&(b.options.factory=b.state.factory),b.state.scope=b,b.state.linkElement=d,b.state.formElement=j,m(b),b.$watch("isReadOnly",function(c){void 0!==c&&(b.state.isReadOnly=c,a(function(){b.setReadOnly()}))}),b.$watch("record",function(a){a&&b.state.activeRecord!==a&&(m(b),b.state.lastInputs={},b.state.activeRecord=a,b.state.rowData=b.extendRecord(b.state.activeRecord),b.state.columns&&b.state.columns.length||k(b,!1),b.state.columns&&b.state.columns.length&&b.state.factory.setPristine())}),b.$watch("options",function(a,c){a&&(a.factory=b.state.factory,angular.equals(a,c)&&(b.options&&(void 0!==b.options.dragAndDrop?(b.state.dragEnabled=b.options.dragAndDrop===!0,b.state.dropEnabled=b.state.dragEnabled):void 0!==b.options.dragEnabled?b.state.dragEnabled=b.options.dragEnabled===!0:void 0!==b.options.dropEnabled&&(b.state.dropEnabled=b.options.dropEnabled===!0)),b.state.columns&&b.state.columns.length||(m(b),k(b,!1))))}),b.$watch("sizeClass",function(c,d){b.state.controls&&void 0!==c&&a(function(){angular.forEach(b.state.controls,function(a){var b=a.getControlCtx();b&&b.fnSetSizeClass(c||"")})})}),b.extendRecord=function(a){return jQuery.extend(b.state.isDataArray?[]:{},a)},b.redraw=function(){k(b,!0)},b.$on("$destroy",function(){b.state.controls=null}),b.doDraw=function(){k(b,!0)},b.setReadOnly=function(){b.state.controls&&_.each(b.state.controls,function(a){var c=a.getControlCtx();c.updatable&&(c.readonly=b.state.isReadOnly)})},b.recEdtSelectControl=function(a){"first"===a?f(b):"focused"===a?h(b):"focusedOrFirst"===a?h(b)===!1&&f(b):"invalid"===a?g(b):f(b)},b.onInit&&b.onInit({factory:b.state.factory}),b.compareValues=n},scope:{options:"=",record:"=",isReadOnly:"=",sizeClass:"=",onInit:"&"}}}a.$inject=["$timeout","$q","epRecordEditorFactory","epUtilsService"],angular.module("ep.record.editor").directive("epRecordEditor",a)}(),function(){"use strict";function a(){var a=function(a){function b(){var a={editsDetected:!1,changedColumns:[],record:r.state.activeRecord};if(r.state.columns)for(var b=r.state.columns,c=0;c<b.length;c++){var d,e=b[c],f=e.columnIndex;if(r.state.activeRecord&&(d=r.state.activeRecord[f]),void 0===d&&("text"===e.editor?d="":"number"===e.editor&&(d=0)),void 0!==d){var g=r.state.rowData[f];r.compareValues(g,d)&&(a.changedColumns.push({rowIndex:r.state.rowIndex,columnIndex:f,originalValue:g,newValue:d}),a.editsDetected=!0)}else"date"===e.editor&&(a.editsDetected=!0,a.invalidEntry=!0)}return a}function c(){for(var a=r.state.columns,b=0;b<a.length;b++){var c=a[b];r.state.activeRecord[c.columnIndex]=r.state.rowData[c.columnIndex]}e(),r.recEdtSelectControl("first")}function d(){r.state.controls&&_.each(r.state.controls,function(a){var b=a.getControlCtx(),c="";"number"===b.editor?c=0:"checkbox"===b.editor&&(c=!1),r.state.activeRecord[b.columnIndex]=c})}function e(){r.state.formElement&&r.state.formElement.$setPristine(),r.state.lastInputs={},r.state.showAllInvalidFields=!1,r.state.controls&&angular.forEach(r.state.controls,function(a){var b=a.getControlCtx();b&&(b.isInvalid=!1)})}function f(a){r.state.isReadOnly=a,r.setReadOnly()}function g(){r.doDraw(r,!0)}function h(a){var b=a?a:r.state.activeRecord;r.state.lastInputs={},r.state.activeRecord=b,r.state.rowData=r.extendRecord(b),e()}function i(a){a&&r.state.activeRecord!==a&&(r.state.activeRecord=a)}function j(a){r.recEdtSelectControl(a)}function k(a,b){var c={invalidEntry:!1,requiredFields:!1,invalidFieldValidation:!1};if(r.state.controls){r.state.linkElement.find(".form-control.editor").each(function(){var a=$(this);a.length&&a.hasClass("ng-invalid")&&(c.invalidEntry=!0,a.hasClass("ng-invalid-required")&&(c.requiredFields=!0))});var d=_.find(r.state.controls,function(a){var b=a.getControlCtx();return b.isInvalid});d&&(c.invalidEntry=!0,c.invalidFieldValidation=!0)}return c.requiredFields&&(c.invalidEntry=!0),r.state.showAllInvalidFields=a||!1,c.invalidEntry&&b&&j("invalid"),c}function l(a,b){if(b){var c=m(r,a);c&&c.col.list&&(c.options=angular.extend([],c.col.list),angular.forEach(c.options,function(a){a.getIsSelected=function(){return a.value===c.fnGetCurrentValue()}}))}}function m(a){if(null===a||!r.state.columns)return null;var b=_.find(r.state.controls,function(b){var c=b.getControlCtx();return c.col&&c.columnIndex===a});return b?b.getControlCtx():null}function n(){return r.state.columns}function o(){return r.options}function p(){return r.state}function q(a,b){r.state.dragEnabled=a,r.state.dropEnabled=b}var r=a,s="recordEditor"+r.$id;return{id:s,getEnteredData:b,resetEditors:c,clearEditors:d,setPristine:e,setReadOnly:f,draw:g,setRecord:h,setRecordWithoutOriginal:i,selectControl:j,validate:k,resetCombo:l,getColumnContext:m,getColumns:n,getOptions:o,getState:p,enableEditorsDrag:q}};return a}angular.module("ep.record.editor").factory("epRecordEditorFactory",a)}(),function(){"use strict";function a(){return function(a,b,c){var d=_.map(a,_.identity),e=c?-1:1;return d.sort(function(a,c){return a[b]>c[b]?e:-e}),d}}angular.module("ep.record.editor").filter("epOrderObjectBy",a)}(),function(){"use strict";angular.module("ep.search").provider("searchConfig",function(){var a={searchUri:"https://localhost/EES/EpicorERP/search.xml"};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.search",a),a}]})}(),function(){"use strict";function a(a,b){a.enterpriseSearch={},a.enterpriseSearch.searching=!1,a.enterpriseSearch.searchResults=null,a.enterpriseSearch.status="",a.enterpriseSearch.changeSearch=function(){var b=a.enterpriseSearch.searchText;""===b&&(a.enterpriseSearch.searchResults=null,a.enterpriseSearch.status="")},a.enterpriseSearch.runSearch=function(c){""!==c&&(a.enterpriseSearch.searching=!0,a.enterpriseSearch.searchResults=[],a.enterpriseSearch.status="",a.enterpriseSearch.hasError=!1,b.search(c,0,100).then(function(b){a.enterpriseSearch.searching=!1,a.enterpriseSearch.searchResults=b},function(b){a.enterpriseSearch.status="An error occurred: "+b.status,a.enterpriseSearch.searching=!1,a.enterpriseSearch.hasError=!0}))}}angular.module("ep.search").controller("epSearchCtrl",["$scope","searchService",a])}(),function(){"use strict";angular.module("ep.search").directive("epSearch",function(){return{restrict:"E",replace:!0,controller:"epSearchCtrl",templateUrl:"src/components/ep.search/search.html"}})}(),function(){"use strict";angular.module("ep.search").factory("searchService",["$http","searchConfig",function(a,b){function c(a,b,c){return d(a,b,c).then(function(a){return e(a)},function(){})}function d(c,d,e){var f=b.searchUri+"?locale="+(navigator.language?navigator.language:navigator.userLanguage)+"&preservenulls="+!1+"&likeLinkFormat=EWAUrl&callback=JSON_CALLBACK",g=(new Date).valueOf(),h="&q="+c+"&start="+d+"&cache="+g.toString()+"&pageSize="+e;return a.get(f+h)}function e(a){var b={};if(a&&a.hasOwnProperty("data")){var c=a.data,d=$.parseXML(c),e=$(d);e.find("[primaryTable]").each(function(){var a=[];$(this).find("[companyName]").each(function(){var b={location:this.getAttribute("location")||"",label:this.getAttribute("label")||"",companyContext:this.getAttribute("companyName"),keyTag:this.getAttribute("keyTag"),fields:[]};$("*",this).each(function(a,c){for(var d={},e=0,f=c.attributes.length;e<f;e++)d[c.attributes[e].nodeName]=c.attributes[e].nodeValue;d.FieldName=c.nodeName,d.FieldValue=c.textContent,b.fields.push(d)}),a.push(b)}),b[this.nodeName]={label:this.getAttribute("label"),primaryTable:this.getAttribute("primaryTable"),results:a}})}return b}return{search:c}}])}(),function(){"use strict";angular.module("ep.shell").service("epShellFeedbackService",["epModalDialogService",function(a){function b(){var b={strings:{FeedbackResponse:"We appreciate your feedback! We review these items regularly to help us improve the product.",FeedbackTitle:"Thank You!"}};a.showMessageBox({message:b.strings.FeedbackResponse,title:b.strings.FeedbackTitle,status:"info"})}function c(c){var d={summary:"",description:"",customerName:"",customerEmail:""};a.showCustomDialog({title:"Submit Feedback",templateUrl:"src/components/ep.shell/feedback/feedback_dialog.html",icon:"fa fa-bullhorn fa-2x",feedback:d,summaryLabel:"Summary",descriptionLabel:"Description",customerNameLabel:"Customer Name",customerEmailLabel:"Customer Email",buttons:[{id:"btnSubmit",isPrimary:!0,text:"Submit",action:function(){if(c){var a=c(d);a.then?a.then(function(a){a.Success&&b()}):b()}}},{id:"btnCancel",isCancel:!0,text:"Cancel"}]})}return{showForm:c}}])}(),function(){"use strict";angular.module("ep.shell").constant("epShellConstants",{SHELL_SIZE_CHANGE_EVENT:"SHELL_SIZE_CHANGE_EVENT",SHELL_STATE_CHANGE_EVENT:"SHELL_STATE_CHANGE_EVENT",SHELL_NAV_BUTTONS_CHANGED_EVENT:"SHELL_NAV_BUTTONS_CHANGED_EVENT",SHELL_VIEW_SIZE_CHANGE_EVENT:"SHELL_VIEW_SIZE_CHANGE_EVENT",SHELL_VIEW_CHANGE_EVENT:"SHELL_VIEW_CHANGE_EVENT",SHELL_CACHE_CREATED_EVENT:"SHELL_CACHE_CREATED_EVENT",SHELL_CACHE_DELETED_EVENT:"SHELL_CACHE_DELETED_EVENT",SHELL_DATA_CACHED_EVENT:"SHELL_DATA_CACHED_EVENT",SHELL_CACHE_DATA_DELETED_EVENT:"SHELL_CACHE_DATA_DELETED_EVENT",SIDEBARWIDTH:250,NAVBARHEIGHT:40,FOOTERHEIGHT:25,MEDIA_MODE_LARGE:"large",MEDIA_MODE_SMALL:"small",MEDIA_SIZE_BREAKPOINT:801})}(),function(){"use strict";angular.module("ep.shell").directive("myTouchstart",function(){return function(a,b,c){b.bind("touchstart",function(){a.$apply(c.myTouchstart)})}}).controller("epShellCtrl",["$location","$rootScope","$route","$scope","epShellConfig","epShellService","epLocalStorageService","epShellFeedbackService","epShellConstants","epThemeConstants",function(a,b,c,d,e,f,g,h,i,j){function k(){d.state=f.__state,d.options=e.options,d.toggleLeftSidebar=function(){f.toggleLeftSidebar()},d.toggleRightSidebar=function(){f.toggleRightSidebar()},d.showSwipeLeftSidebar=function(){var a=d.findXTouch,b=screen.width,c=a/b*100;c<=10&&d.state.enableLeftSidebar&&f.toggleLeftSidebar()},d.showSwipeRightSidebar=function(){var a=d.findXTouch,b=screen.width,c=a/b*100;c>=90&&d.state.enableRightSidebar&&f.toggleRightSidebar()},d.getTouchXPoint=function(){return d.findXTouch=f.executeLeftSidebar(event),d.findXTouch},d.closeLeftSidebar=function(){f.hideLeftSidebar()},d.closeRightSidebar=function(){f.hideRightSidebar()},e.options.enableViewAnimations&&f.initViewBackground(),d.rightNavButtons=f.getNavbarButtons().filter(function(a){return!a.left}),d.leftNavButtons=f.getNavbarButtons().filter(function(a){return a.left}),b.$on(i.SHELL_NAV_BUTTONS_CHANGED_EVENT,function(){d.rightNavButtons=f.getNavbarButtons().filter(function(a){return!a.left}),d.leftNavButtons=f.getNavbarButtons().filter(function(a){return a.left})}),e.options.enableViewAnimations&&b.$on(j.THEME_CHANGE_EVENT,function(){f.initViewBackground();
}),b.$on("$routeChangeStart",function(a,b,c){f.clearInfo(),f.cleanupViewEvents(),e.options.enableViewAnimations&&b&&b.$$route&&c&&c.$$route&&(b.$$route.index>c.$$route.index?f.viewAnimation("ep-slide-left"):c.$$route.index>b.$$route.index&&f.viewAnimation("ep-slide-right"))}),d.launchHelp=function(){a.url("/help")},d.sendFeedback=function(){h.showForm(d.state.fnOnFeedback)}}try{b.$watch("initComplete",function(a){a&&k()})}catch(l){console.log(l)}}])}(),function(){"use strict";angular.module("ep.shell").directive("epShell",[function(){return{restrict:"E,A",replace:!0,transclude:!0,templateUrl:"src/components/ep.shell/shell.html"}}])}(),function(){"use strict";angular.module("ep.shell").provider("epShellConfig",["$routeProvider",function(a){var b=a,c={options:{pageTitle:"Epicor Mobile",brandHTML:"Epicor Mobile Framework <sup>2.0</sup>",enableFeedback:!0,includeEmbeddedApps:!1,enableViewAnimations:!0,enableCache:!0},routes:[],homeRoute:void 0,defaultRoute:void 0};this.$get=["epSysConfig",function(a){if(a.mergeSection("ep.shell",c),c.options.enableFeedback=a.optionBool(c.options.enableFeedback,!1),c.options.enableViewAnimations=a.optionBool(c.options.enableViewAnimations,!0),c.options.enableCache=a.optionBool(c.options.enableCache,!0),angular.forEach(c.routes,function(a){b.when(a.route,{index:a.index,templateUrl:a.url,controller:a.controller,reloadOnSearch:void 0===a.reloadOnSearch||a.reloadOnSearch,transitions:a.transitions}),a.isDefault===!0&&(b.otherwise({redirectTo:a.route}),c.defaultRoute=a),a.isHome===!0&&(c.homeRoute=a)}),c.homeRoute||(c.homeRoute=c.defaultRoute),c.options.includeEmbeddedApps){var d=a.section("ep.embedded.apps"),e="/"+(d.rootRoute||"app")+"/:appId/:viewId/";b.when(e,{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(e+":p0",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(e+":p0/:p1",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(e+":p0/:p1/:p2",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(e+":p0/:p1/:p2/:p3",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(e+":p0/:p1/:p2/:p3/:p4",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"})}return c}]}])}(),function(){"use strict";angular.module("ep.shell").service("epShellService",["$compile","$document","$location","$q","$rootScope","$sce","$timeout","epUtilsService","epFeatureDetectionService","epShellConfig","epShellConstants","epSidebarService","epThemeService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){function a(){x()?ia():ja(),aa("size")}i.registerMediaQuery(k.MEDIA_SIZE_BREAKPOINT,function(){fb.mediaMode=k.MEDIA_MODE_LARGE,Z("setMediaMode"),qa()},function(){fb.mediaMode=k.MEDIA_MODE_SMALL,Z("setMediaMode"),qa()});var b=_.debounce(a,100);angular.element(window).on("resize",b),g(a,100),e.$on("$routeChangeSuccess",a),D(j.options.pageTitle),J(j.options.brandHTML),O(j.options.footerHTML),void 0!==j.options.includeEmbeddedApps&&j.options.includeEmbeddedApps&&e.$watch("initComplete",function(a){a&&angular.module("ep.embedded.apps")&&h.getService("epEmbeddedAppsService",!0).then(function(a){a&&a.initialize()})})}function o(a){var b=fb.viewSettings[fb.mediaMode],c=fb.viewSettings.sidebar.left||{showToggleButton:!0,enabled:!1,toggleButtonIcon:"fa-bars"},d=fb.viewSettings.sidebar.right||{showToggleButton:!0,enabled:!1,toggleButtonIcon:"fa-bars"};b.autoActivateSidebar=b.autoActivateSidebar!==!1,fb.showLeftToggleButton=c.showToggleButton!==!1&&b.enableLeftSidebar,fb.enableLeftSidebar=c.enabled!==!1,fb.showRightToggleButton=d.showToggleButton!==!1&&b.enableRightSidebar,fb.enableRightSidebar=d.enabled!==!1,fb.showNavbar=b.showNavbar,fb.showFooter=b.showFooter,fb.showHomeButton=b.showHomeButton,fb.leftToggleButtonIcon=c.toggleButtonIcon||"fa-bars",fb.rightToggleButtonIcon=d.toggleButtonIcon||"fa-bars",fb.showBrand=b.showBrand,fb.centerBrand=b.centerBrand,fb.autoActivateSidebar=b.autoActivateSidebar,fb.viewContainerScope=a,fb.enableFeedback=j.options.enableFeedback&&b.enableFeedback===!0,fb.animationIn=b.animationIn,fb.animationOut=b.animationOut,fb.animationSpeed=b.animationSpeed,fb.showBrand&&b.brandHTML&&(b.brandHTML&&J(b.brandHTML,a),b.brandTarget&&K(b.brandTarget)),fb.showFooter&&(b.footerHTML&&O(b.footerHTML,a),b.footerTarget&&Q(b.footerTarget)),b.autoActivateSidebar&&(b.enableLeftSidebar&&(x()||fb.suspend)?ia():ja()),sa(!1),fb.allowVerticalScroll=!!b.allowVerticalScroll,fb.animateViewContainer=b.animateViewContainer!==!1,fb.momentumScrollingEnabled=b.momentumScrollingEnabled!==!1,Z()}function p(a){return void 0!==a&&(fb.viewSettings=a),fb.viewSettings}function q(){window.addEventListener("load",function(){FastClick.attach(document.body)},!1),g(m.initialize,200);var a=$(window).width();fb.mediaMode=a>=k.MEDIA_SIZE_BREAKPOINT?k.MEDIA_MODE_LARGE:k.MEDIA_MODE_SMALL,fb.showSidebar=x(),e.initComplete=!0}function r(){return gb={pageTitle:G(),brandHTML:M(),navbarButtons:angular.extend([],hb)}}function s(a){var b=a?a:gb;b&&b!=={}&&(b.navbarButtons&&Ka(b.navbarButtons),b.pageTitle&&D(b.pageTitle),b.brandHTML&&J(b.brandHTML,b.viewContainerScope))}function t(){fb.showProgressIndicator=!0,fb.progressIndicatorlevel++}function u(a){fb.progressIndicatorlevel--,fb.progressIndicatorlevel=Math.max(fb.progressIndicatorlevel,0),0===fb.progressIndicatorlevel&&(a?fb.showProgressIndicator=!1:g(function(){fb.showProgressIndicator=!1}))}function v(){fb.progressIndicatorlevel=0,u(!0)}function w(){return fb.mediaMode}function x(){return fb.mediaMode===k.MEDIA_MODE_LARGE}function y(a){return m.disableTheming(a)}function z(a,b,c){ib[a]&&ib[a](),ib[a]=e.$on(b,c)}function A(){_.each(ib,function(a){a()}),ib={}}function B(a,b){fb.infoIcon=a,fb.infoMessage=b}function C(){fb.infoIcon="",fb.infoMessage=""}function D(a){fb.pageTitle=a,b[0].title=fb.pageTitle}function E(){if(j.options.enableViewAnimations!==!1){$("#viewStyle").remove();var a=$("body").css("background-color"),b=F(a),c=".view { background-color: "+b+"; }";$("head").append('<style id="viewStyle">'+c+"</style>")}}function F(a){var b;if(0===a.indexOf("rgb")){var c=a.replace("rgb","").replace("a","").replace("(","").replace(")",""),d=c.split(",").map(function(a){return a.trim()});4===d.length?d[3]="1":3===d.length&&d.push("1"),b=d.join(", ")}return"rgba("+b+")"}function G(){return fb.pageTitle}function H(){fb.showBrand=!fb.showBrand,fb.viewSettings[fb.mediaMode].showBrand=fb.showBrand}function I(a){fb.showBrand=void 0===a||a,fb.viewSettings[fb.mediaMode].showBrand=fb.showBrand}function J(b,c){fb.brandHTML=angular.isString(b)?f.trustAsHtml(b):b,fb.viewSettings[fb.mediaMode].brandHTML=fb.brandHTML,c&&g(function(){a(angular.element("#apptitle").contents())(c)})}function K(a){fb.brandTarget=a,fb.viewSettings[fb.mediaMode].brandTarget=fb.brandTarget}function L(a){fb.centerBrand=void 0===a||a,fb.viewSettings[fb.mediaMode].centerBrand=fb.centerBrand}function M(){return fb.brandHTML}function N(){return fb.brandTarget}function O(b,c){fb.footerHTML=angular.isString(b)?f.trustAsHtml(b):b,fb.viewSettings[fb.mediaMode].footerHTML=fb.footerHTML,c&&g(function(){a(angular.element("#footerElement").contents())(c)})}function P(){return fb.footerHTML}function Q(a){fb.footerTarget=a,fb.viewSettings[fb.mediaMode].footerTarget=fb.footerTarget}function R(){return fb.footerTarget}function S(a){hb=_.sortBy(hb,function(a){return a.index}),e.$emit(k.SHELL_NAV_BUTTONS_CHANGED_EVENT,a),g(function(){e.$apply()})}function T(){fb.suspend=!0}function U(){fb.suspend=!1}function V(a){return void 0!==a&&(fb.fnOnFeedback=a),fb.fnOnFeedback}function W(a){j.options.enableFeedback=a}function X(a){j.options.enableFeedback&&(fb.enableFeedback=a)}function Y(){j.options.enableFeedback&&(fb.enableFeedback=!fb.enableFeedback)}function Z(a){e.$emit(k.SHELL_STATE_CHANGE_EVENT,a)}function aa(a){g(function(){e.$emit(k.SHELL_SIZE_CHANGE_EVENT,a)},310)}function ba(){fb.showHomeButton&&(fb.showHomeButton=!1,S("hideHomeButton"))}function ca(){fb.showHomeButton||(fb.showHomeButton=!0,S("showHomeButton"))}function da(){fb.showLeftToggleButton&&(fb.showLeftToggleButton=!1,S("hideLeftToggleButton"))}function ea(){fb.showLeftToggleButton||(fb.showLeftToggleButton=!0,S("showLeftToggleButton"))}function fa(){fb.showRightToggleButton&&(fb.showRightToggleButton=!1,S("hideRightToggleButton"))}function ga(){fb.showRightToggleButton||(fb.showRightToggleButton=!0,S("showRightToggleButton"))}function ha(){fb.showLeftSidebar=!fb.showLeftSidebar,fb.viewSettings[fb.mediaMode].showLeftSidebar=fb.showLeftSidebar,qa(),aa(fb.showLeftSidebar?"showLeftSidebar":"hideLeftSidebar")}function ia(){fb.showLeftSidebar||(fb.showLeftSidebar=!0,fb.viewSettings[fb.mediaMode].showLeftSidebar=!0,aa("showLeftSidebar"))}function ja(){fb.showLeftSidebar&&(fb.showLeftSidebar=!1,fb.viewSettings[fb.mediaMode].showLeftSidebar=!1,fb.showViewContainerBackdrop=!1,aa("hideLeftSidebar"))}function ka(){fb.enableLeftSidebar&&(fb.enableLeftSidebar=!1,fb.viewSettings.large.enableLeftSidebar=!1,fb.viewSettings.small.enableLeftSidebar=!1,ja(),da(),Z("disableLeftSidebar"))}function la(){fb.enableLeftSidebar||(fb.enableLeftSidebar=!0,fb.viewSettings.large.enableLeftSidebar=!0,fb.viewSettings.small.enableLeftSidebar=!0,x()&&fb.viewSettings[w()].autoActivateSidebar&&ia(),ea(),Z("enableLeftSidebar"))}function ma(a){return a.touches[0].clientX}function na(){l.clearLeftSidebar()}function oa(){fb.showRightSidebar=!fb.showRightSidebar,fb.viewSettings[fb.mediaMode].showRightSidebar=fb.showRightSidebar,ra(),aa(fb.showRightSidebar?"showRightSidebar":"hideRightSidebar")}function pa(){fb.showRightSidebar||(fb.showRightSidebar=!0,fb.viewSettings[fb.mediaMode].showRightSidebar=!0,Z("showRightSidebar"))}function qa(){fb.showLeftSidebar&&w()===k.MEDIA_MODE_SMALL?(sa(),fb.showViewContainerBackdrop=!0):fb.showRightSidebar||(fb.showViewContainerBackdrop=!1)}function ra(){fb.showRightSidebar?(w()===k.MEDIA_MODE_SMALL&&ja(),fb.showViewContainerBackdrop=!0):fb.showViewContainerBackdrop=!1}function sa(){fb.showRightSidebar&&(fb.showRightSidebar=!1,fb.viewSettings[fb.mediaMode].showRightSidebar=!1,fb.showViewContainerBackdrop=!1,aa("hideRightSidebar"))}function ta(){fb.enableRightSidebar&&(fb.enableRightSidebar=!1,fb.viewSettings.large.enableRightSidebar=!1,fb.viewSettings.small.enableRightSidebar=!1,sa(),fa(),Z("disableRightSidebar"))}function ua(){fb.enableRightSidebar||(fb.enableRightSidebar=!0,fb.viewSettings.large.enableRightSidebar=!0,fb.viewSettings.small.enableRightSidebar=!0,ga(),Z("enableRightSidebar"))}function va(){l.clearRightSidebar()}function wa(){return fb.showLeftSidebar}function xa(){return fb.showRightSidebar}function ya(a){l.setLeftTemplate(a)}function za(a){l.setRightTemplate(a)}function Aa(a){l.setLeftTemplateUrl(a)}function Ba(a){l.setRightTemplateUrl(a)}function Ca(){fb.showNavbar&&(fb.showNavbar=!1,Z("hideNavbar"))}function Da(){fb.showNavbar||(fb.showNavbar=!0,Z("showNavbar"))}function Ea(){fb.showNavbar?(fb.showNavbar=!1,Z("hideNavbar")):(fb.showNavbar=!0,Z("showNavbar"))}function Fa(){fb.showFooter&&(fb.showFooter=!1,Z("hideFooter"))}function Ga(){fb.showFooter||(fb.showFooter=!0,Z("showFooter"))}function Ha(){fb.showFooter?(fb.showFooter=!1,Z("hideFooter")):(fb.showFooter=!0,Z("showFooter"))}function Ia(a,b,c){var d=!1;void 0!==a&&_.each(a,function(a){var b=_.findIndex(hb,function(b){return b.id===a});b!==-1&&c(hb[b],b)&&(d=!0)}),d&&S(b)}function Ja(){hb=[],S("clearNavbarButtons")}function Ka(a){hb=[],La(a),S("updateNavbarButtons")}function La(a){angular.isArray(a)||(a=[a]);var b=_.union(hb,a);b.forEach(function(a){a.type||(a.type="button")}),hb=_.uniq(b,!1,function(a){return a.id||a.title}),S("addNavbarButtons")}function Ma(){var a=_.flatten(arguments,!0);Ia(a,"deleteNavbarButton",function(a,b){return hb.splice(b,1),!0})}function Na(){return hb}function Oa(a){return _.find(hb,function(b){return b.id===a})}function Pa(){var a=_.flatten(arguments,!0);Ia(a,"hideNavbarButton",function(a){return a.hidden=!0,!0})}function Qa(){var a=_.flatten(arguments,!0);Ia(a,"showNavbarButton",function(a){return a.fnVisible&&angular.isFunction(a.fnVisible)?a.hidden=!a.fnVisible():a.enabled&&angular.isFunction(a.enabled)?a.hidden=!a.enabled():a.hidden=!1,!0})}function Ra(){var a=_.flatten(arguments,!0);Ia(a,"enableNavbarButton",function(a){return a.enabled=!0,!0})}function Sa(){var a=_.flatten(arguments,!0);Ia(a,"disableNavbarButton",function(a){return a.enabled=!1,!0})}function Ta(){_.each(hb,function(a){Pa(a.id)}),S("hideNavbarButton")}function Ua(){_.each(hb,function(a){Qa(a.id)}),S("hideNavbarButton")}function Va(a){fb.freezeNavButtons=a}function Wa(){return fb.navButtonClicked}function Xa(a){return void 0!==a&&(fb.momentumScrollingEnabled=a),fb.momentumScrollingEnabled}function Ya(a){return void 0!==a&&(fb.allowVerticalScroll=a),fb.allowVerticalScroll}function Za(a){return void 0!==a&&(fb.viewAnimation=j.options.enableViewAnimations?a:""),fb.viewAnimation}function $a(){return fb.viewDimensions}function _a(){return j.homeRoute&&j.homeRoute.route===c.url()}function ab(){j.homeRoute&&c.url(j.homeRoute.route)}function bb(a){fb.viewModalOptions=a||{}}function cb(a){fb.enableViewModal=a!==!1}function db(a){fb.viewModalOptions&&(fb.viewModalOptions.showViewModal=a!==!1)}try{angular.module("ep.console")&&h.getService("epConsoleService",!0).then(function(a){a&&a.initialize()})}catch(eb){}e.shellServiceInitComplete=!1;var fb={showProgressIndicator:!1,progressIndicatorlevel:0,enableFeedback:!1,enableEmbeddedApps:!0,fnOnFeedback:void 0,suspend:!1,showBrand:!0,brandHTML:"Mobile Access <sup>2.0</sup>",brandTarget:"",footerHTML:"",footerTarget:"",freezeNavButtons:!1,viewContainerScope:null,viewSettings:{sidebar:{left:{enabled:!0,showToggleButton:!0,toggleIcon:"fa-bars"},right:{enabled:!0,showToggleButton:!0,toggleIcon:"fa-bars"}},small:{animateViewContainer:!0,autoActivateSidebar:!1,showLeftSidebar:!1,enableLeftSidebar:!0,showLeftToggleButton:!1,showRightToggleButton:!1,leftToggleButtonIcon:"fa-bars",rightToggleButtonIcon:"fa-bars",showNavbar:!1,showFooter:!1,showHomeButton:!1,showBrand:!1,centerBrand:!0},large:{animateViewContainer:!0,autoActivateSidebar:!0,showLeftSidebar:!1,enableLeftSidebar:!0,showLeftToggleButton:!1,showRightToggleButton:!1,leftToggleButtonIcon:"fa-bars",rightToggleButtonIcon:"fa-bars",showNavbar:!1,showFooter:!1,showHomeButton:!1,showBrand:!1,centerBrand:!1}},pageTitle:"",colorScheme:{},mediaMode:k.MEDIA_MODE_SMALL,date:{weekday:"Tuesday",month:"October",day:21},viewDimensions:{offset:{top:0,left:0},size:{width:0,height:0}},infoMessage:"",infoIcon:"fa fa-3x fa-warning",executeButton:function(a,b){fb.navButtonClicked=null,a.confirm?a.confirm(a.action):fb.freezeNavButtons!==!0&&a.enabled!==!1&&("checked"===a.type&&(void 0===b.target.checked?a.checked=!a.checked:g(function(){$(b.target).prop("checked",a.checked)})),a.action(),"checked"===a.type&&(b.preventDefault(),b.stopPropagation()))},buttonMouseDown:function(a){fb.navButtonClicked=a},momentumScrollingEnabled:!0,allowVerticalScroll:!0,navButtonClicked:null,viewModalOptions:{}},gb={},hb=[],ib={};return n(),{__state:fb,__setCurrentModeFlags:o,__viewSettings:p,init:q,saveState:r,restoreState:s,showProgressIndicator:t,hideProgressIndicator:u,resetProgressIndicator:v,registerViewEvent:z,cleanupViewEvents:A,notifyStateChanged:Z,notifyShellButtonsChanged:S,notifySizeChanged:aa,setPageTitle:D,initViewBackground:E,getPageTitle:G,toggleBrand:H,showBrand:I,setBrandHTML:J,getBrandHTML:M,setBrandTarget:K,getBrandTarget:N,centerBrand:L,setInfo:B,clearInfo:C,suspend:T,resume:U,getMediaMode:w,isMediaModeLarge:x,getViewDimensions:$a,momentumScrollingEnabled:Xa,allowVerticalScroll:Ya,themingDisabled:y,enableFeedback:W,enableViewFeedback:X,toggleViewFeedback:Y,feedbackCallback:V,showHomeButton:ca,hideHomeButton:ba,hideLeftToggleButton:da,showLeftToggleButton:ea,hideRightToggleButton:fa,showRightToggleButton:ga,toggleLeftSidebar:ha,showLeftSidebar:ia,hideLeftSidebar:ja,disableLeftSidebar:ka,enableLeftSidebar:la,clearLeftSidebar:na,toggleRightSidebar:oa,showRightSidebar:pa,hideRightSidebar:sa,enableRightSidebar:ua,disableRightSidebar:ta,clearRightSidebar:va,getShowLeftSidebar:wa,getShowRightSidebar:xa,setLeftTemplate:ya,setRightTemplate:za,setLeftTemplateUrl:Aa,setRightTemplateUrl:Ba,executeLeftSidebar:ma,showNavbar:Da,hideNavbar:Ca,toggleNavbar:Ea,showFooter:Ga,hideFooter:Fa,toggleFooter:Ha,setFooterHTML:O,getFooterHTML:P,setFooterTarget:Q,getFooterTarget:R,clearNavbarButtons:Ja,updateNavbarButtons:Ka,addNavbarButtons:La,deleteNavbarButton:Ma,getNavbarButtons:Na,getNavbarButton:Oa,showNavbarButton:Qa,hideNavbarButton:Pa,showAllNavbarButtons:Ua,hideAllNavbarButtons:Ta,enableNavbarButton:Ra,disableNavbarButton:Sa,disableNavbarButtons:Va,navbarButtonClicked:Wa,viewAnimation:Za,isHomeLocation:_a,goHome:ab,toggleLeftSidebarBackdrop:ra,toggleRightSidebarBackdrop:ra,setViewModal:bb,enableViewModal:cb,showViewModal:db}}])}(),function(){"use strict";angular.module("ep.shell").directive("epShellSidebar",["$rootScope","$routeParams","epSidebarService","epShellService","epShellConstants","epFeatureDetectionService",function(a,b,c,d,e,f){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"src/components/ep.shell/sidebar/sidebar.html",controller:["$scope",function(g){function h(){g.platform=f.getFeatures().platform,g.shellState=d.__state,g.sidebarState=c.state,g.menuId=b.menuId,g.dismissRightSidebar=function(){g.shellState.suspend||d.hideRightSidebar()},g.dismissLeftSidebar=function(){d.getMediaMode()!==e.MEDIA_MODE_SMALL||g.shellState.suspend||d.hideLeftSidebar()};var a=function(){g.dismissRightSidebar(),g.dismissLeftSidebar()};$("#viewContainerBackdrop").bind("click",a)}a.$watch("initComplete",function(a){a&&h()})}]}}])}(),angular.module("ep.shell").service("epSidebarService",["$compile",function(a){function b(){angular.element(".ep-sidebar-nav.ep-sidebar-nav-left").empty()}function c(){angular.element(".ep-sidebar-nav.ep-sidebar-nav-right").empty()}function d(){b(),c()}function e(a){j=a}function f(a,b){h("<div ng-include='\""+a+"\"'></div>",b)}function g(a,b){i("<div ng-include='\""+a+"\"'></div>",b)}function h(b,c){if(c!==!0||k.leftTemplate!==b){k.leftTemplate=b;var d=angular.element(".ep-sidebar-nav.ep-sidebar-nav-left");d.empty().append(a(b)(j))}}function i(b,c){if(c!==!0||k.rightTemplate!==b){k.rightTemplate=b;var d=angular.element(".ep-sidebar-nav.ep-sidebar-nav-right");d.empty().append(a(b)(j))}}var j=null,k={leftTemplate:null,rightTemplate:null};return{clear:d,clearLeftSidebar:b,clearRightSidebar:c,state:k,setScope:e,setLeftTemplateUrl:f,setRightTemplateUrl:g,setLeftTemplate:h,setRightTemplate:i}}]),function(){"use strict";angular.module("ep.shell").directive("epShellViewContainer",["$location","$log","$parse","$rootScope","$timeout","epShellService","epSidebarService","epViewContainerService","epShellConstants","epViewCacheService",function(a,b,c,d,e,f,g,h,i,j){function k(a,b){a.left&&(a.left.template?g.setLeftTemplate(a.left.template,b):a.left.templateUrl&&g.setLeftTemplateUrl(a.left.templateUrl,b)),a.right&&(a.right.template?g.setRightTemplate(a.right.template,b):a.right.templateUrl&&g.setRightTemplateUrl(a.right.templateUrl,b))}function l(a,d,e,f){if(d[e])if(a[d[e]]&&angular.isFunction(a[d[e]]))f?d[e]=a[d[e]]():d[e]=a[d[e]];else try{var g=d[e],h=c(g);d[e]=h(a),a.$watch(g,function(a){d[e]=a})}catch(i){b.error('An error occurred while trying to parse the "'+e+'" property of the button '+d.id+"."+i.message)}}return{restrict:"E",transclude:!0,replace:!1,templateUrl:"src/components/ep.shell/view-container/view-container.html",scope:{sidebarsettings:"@",smallmodesettings:"@",largemodesettings:"@"},compile:function(){var c="";return{pre:function(a,j,m){function n(a,b){l(a,b,"action",!1),l(a,b,"confirm",!1),l(a,b,"hidden",!0),l(a,b,"enabled",!0)}function o(a,b){b.type||(b.type="button"),void 0===b.persist&&(b.persist=!1),a&&"button"===b.type?n(a,b):a&&"select"===b.type&&b.options&&b.options.length&&b.options.forEach(function(b){o(a,b)})}a.state=f.__state,f.clearInfo(),c=f.getMediaMode(),g.setScope(a);var p={sidebar:a.sidebarsettings?JSON.parse(a.sidebarsettings):{},small:a.smallmodesettings?JSON.parse(a.smallmodesettings):{},large:a.largemodesettings?JSON.parse(a.largemodesettings):{}};p=f.__viewSettings(p),p[c]&&f.__setCurrentModeFlags(a),p.sidebar&&k(p.sidebar,!1),a.state.animationIn="ep-"+a.state.animationIn+"-in",a.state.animationOut="ep-"+a.state.animationOut+"-out",a.state.animationSpeed=a.state.animationSpeed||"500",h.state.cleanup&&h.state.cleanup(),h.state.cleanup=d.$on(i.SHELL_STATE_CHANGE_EVENT,function(){c!==f.getMediaMode()&&(c=f.getMediaMode(),p[c]&&f.__setCurrentModeFlags(),p.sidebar&&k(p.sidebar,!0),e(function(){a.$apply()}))});var q=Object.keys(m).filter(function(a){return 0===a.indexOf("btn")}).map(function(c){var d;try{d=JSON.parse(m[c])}catch(e){b.error("An error occurred while trying to parse the button definitions for the current view."+e.message)}return d.id||(d.id=c),o(a.$parent,d),d}),r=f.getNavbarButtons(),s=r.filter(function(a){return void 0!==a.persist&&a.persist===!1}).map(function(a){return a.id});s.length&&f.deleteNavbarButton(s),q.length&&f.updateNavbarButtons(q),e(function(){d.$emit(i.SHELL_VIEW_CHANGE_EVENT,p)})},post:function(b){if(b.showFromCache=!0,b.cacheKey=a.url().replace("/","-"),b.hasCacheKey=j.hasCachedView(b.cacheKey),b.showFromCache)var c=d.$on("$routeChangeStart",function(a,d,e){b.showFromCache&&e&&(b.cacheKey=e.$$route.originalPath.replace("/","-"),j.addViewToCache(b.cacheKey,"#viewTemplate",e.scope)),c()})}}}}}]).factory("epViewCacheService",function(){function a(a,b,c){var d=$(b);d.length&&(e[a]={node:d,scope:c})}function b(a){delete e[a]}function c(a){return e[a]}function d(a){return!!e[a]}var e={};return{addViewToCache:a,removeViewFromCache:b,getViewFromCache:c,hasCachedView:d}}).directive("epCachedView",["$rootScope","$timeout","$compile","epViewCacheService",function(a,b,c,d){function e(a){var e=d.getViewFromCache(a.key);b(function(){var b=$("#epCacheTarget-"+a.key);e.scope.hasCacheKey=!1;var d=c(e.node)(e.scope);b.replaceWith(d)})}return e.$inject=["$scope"],{restrict:"E",replace:!0,controller:e,template:'<div class="ep-fullscreen" id="epCacheTarget-{{key}}"></div>',scope:{key:"="}}}])}(),function(){"use strict";angular.module("ep.shell").service("epViewContainerService",["$rootScope","$timeout","epShellService","epShellConstants",function(a,b,c,d){function e(a){var b=$(a);return{width:b.width(),height:b.height()}}function f(a){var b=[];return $(a).each(function(a,c){b.push(e(c))}),{width:(b.map(function(a){return a.width}).reduce(function(a,b){return a+Math.max(0,b)},0)||0)+20,height:Math.max(b.map(function(a){return a.height}))||0}}function g(b){var g=c.__state,h=$(window),i={top:g.showNavbar?d.NAVBARHEIGHT:0,left:g.showLeftSidebar&&c.isMediaModeLarge()?d.SIDEBARWIDTH:0},j=g.showFooter?d.FOOTERHEIGHT:0,k={width:h.width(),height:h.height()},l={width:k.width-i.left,height:k.height-i.top-j},m={offset:i,size:l,navbar:{height:i.top,width:k.width,buttonGroup:{left:f(".left-button"),right:f(".right-button")},brand:e(".navbar-brand")},footer:{height:j,width:k.width}},n=k.width-(m.navbar.buttonGroup.left.width+m.navbar.buttonGroup.right.width);m.navbar.brand.width>n&&(m.navbar.brand.width=n);var o=g.viewDimensions,p=o.size.width!==m.size.width||o.size.height!==m.size.height||o.offset.top!==m.offset.top||o.offset.left!==m.offset.left;g.viewDimensions=m,p&&a.$emit(d.SHELL_VIEW_SIZE_CHANGE_EVENT,m,b)}var h={cleanup:null};return a.$on(d.SHELL_SIZE_CHANGE_EVENT,function(){g("size")}),{state:h,calculateDimensions:g}}])}(),angular.module("ep.signature").directive("epSignature",["$timeout","$document","$q",function(a,b,c){function d(a,b,c,d){b&&(a.strokeText(b,c,d),a.fillText(b,c,d))}function e(a,b){var c=b[0].getContext("2d"),e=b.attr("height"),f=b.attr("width");c.shadowColor="",c.shadowOffsetX=0,c.shadowOffsetY=0,c.shadowBlur=0;var g=a.ulText,h=a.llText,i=a.urText,j=a.lrText,k=10,l=10,m=f-c.measureText(i).width-30,n=10,o=10,p=e-5,q=f-c.measureText(j).width-30,r=e-5;c.font="8pt Courier New",c.fillStyle="#000",d(c,g,k,l),d(c,h,o,p),d(c,i,m,n),d(c,j,q,r)}function f(a,d){var f=c.defer(),g=a.imageSizeWidth,h=a.imageSizeHeight,i=new Image;return i.onload=function(){var c=b[0].createElement("canvas");c.width=g,c.height=h;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,g,h),d.drawImage(i,0,0,g,h),e(a,$(c)),f.resolve(c.toDataURL("image/jpeg",1))},i.onerror=function(a){f.reject(a)},i.src=d[0].toDataURL(),f.promise}function g(b,c){b.initialized=!1,b.isEnabled=!1,b.drawText=!1,b.initialize=function(){if(!b.initialized){var d={"background-color":"#fffff",color:"#000"},e=c.find("#signature").jSignature(d);a(function(){e.resize()},200),c.find("#signature").bind("change",function(){a(function(){b.sig=c.find("#signature").jSignature("getData"),b.isEnabled=!!b.sig},0)}),b.initialized=!0}},b.accept=function(){!angular.isDefined(b.sig)||b.onBeforeAccept&&b.onBeforeAccept(b)===!1||(b.isEnabled=!1,b.drawText=!0,a(function(){var a=$("canvas.jSignature"),c=a[0];if(b.imageSizeWidth||b.imageSizeHeight){angular.isString(b.imageSizeWidth)&&(b.imageSizeWidth=b.imageSizeWidth?parseInt(b.imageSizeWidth):0),angular.isString(b.imageSizeHeight)&&(b.imageSizeHeight=b.imageSizeHeight?parseInt(b.imageSizeHeight):0);var d=parseInt(a.attr("width"))/parseInt(a.attr("height"));b.imageSizeWidth&&!b.imageSizeHeight?b.imageSizeHeight=Math.floor(b.imageSizeWidth/d):b.imageSizeHeight&&!b.imageSizeWidth&&(b.imageSizeWidth=Math.floor(b.imageSizeHeight*d)),f(b,a).then(function(a){b.onAccept(a.replace("data:image/jpeg;base64,",""))})}else e(b,a),b.onAccept(c.toDataURL("image/jpeg",1).replace("data:image/jpeg;base64,",""))}))},b.reset=function(){b.setButton=!1,b.isEnabled=!0,c.find("#signature").jSignature("reset")},b.signatureControls={reset:b.reset},b.initialize()}return{restrict:"E",scope:{sig:"=?",signatureControls:"=?",onBeforeAccept:"=",onAccept:"=",acceptIsEnabled:"=",backgroundColor:"@",color:"@",acknowledgeText:"@",ulText:"@",urText:"@",llText:"@",lrText:"@",height:"@",imageSizeWidth:"@",imageSizeHeight:"@"},templateUrl:"src/components/ep.signature/ep-signature.html",link:g}}]),function(){"use strict";function a(a){return{restrict:"E",transclude:!0,templateUrl:"src/components/ep.sliding.panel/ep-pane.html",require:"^epSlidingPanel",scope:{onEnter:"&",onLeave:"&"},link:function(a,b,c){a.state=b.controller("epSlidingPanel").getState(),a.pane={onEnter:c.onEnter&&a.onEnter,onLeave:c.onLeave&&a.onLeave,panelId:a.state.id,index:a.state.panes.length,id:b.attr("id")||a.state.panes.length,$el:b},a.state.panes.push(a.pane)}}}a.$inject=["$timeout"],angular.module("ep.sliding.panel").directive("epPane",a)}(),function(){"use strict";function a(a,b){return{restrict:"E",transclude:!0,scope:{onChange:"&",onStart:"&",onFinish:"&"},templateUrl:"src/components/ep.sliding.panel/ep-sliding-panel.html",controller:["$scope","$element",function(a,b){this.getState=function(){return a.state}}],link:function(c,d,e){var f=(d.find("ep-pane").toArray(),e.id||"epSlidingPanel");c.state={$el:d,id:f,toLeft:!1,toRight:!1,nextButtonEnabled:!0,prevButtonEnabled:!0,finishButtonEnabled:!0,displayPaneIndex:0,onChange:e.onChange&&c.onChange,onFinish:e.onFinish&&c.onFinish,onStart:e.onStart&&c.onStart,panes:[]},c.state.onStart&&a(function(){var a={$state:c.state};c.state.onStart(a)}),b.register(c.state),c.$on("destroy",b.unregister.bind(null,c.state.id)),c.prev=b.prev.bind(null,c.state.id),c.next=b.next.bind(null,c.state.id),c.finish=b.finish.bind(null,c.state.id)}}}a.$inject=["$timeout","epSlidingPanelService"],angular.module("ep.sliding.panel").directive("epSlidingPanel",a)}(),function(){"use strict";angular.module("ep.sliding.panel").service("epSlidingPanelService",["$timeout","$q",function(a,b){function c(a,c,d){var e=b.defer();if(a[c]&&!a.fired){a.fired=!0;var f=a[c](d);f&&f.then?f.then(function(a){e.resolve(a)}):e.resolve(f)}else e.resolve(!0);return e.promise}function d(a){a=a||"epSlidingPanel";var b=l(a),d=b.panes[b.displayPaneIndex],e={$state:b,$oldPane:d};return c(d,"onLeave",e).then(function(a){if(a)return c(b,"onFinish",e)})}function e(b,d){void 0===d&&(d=b,b="epSlidingPanel");var e=l(b);d=Math.max(0,Math.min(e.panes.length-1,d));var f=e.panes[d],g=e.panes[e.displayPaneIndex];e.toRight=e.displayPaneIndex<d,e.toLeft=!e.toRight;var h={$state:e,$oldPane:g,$newPane:f,$direction:e.toRight?"next":"prev"};return c(e,"onChange",h).then(function(a){return e.fired=!1,a&&c(g,"onLeave",h)}).then(function(a){return g.fired=!1,a&&c(f,"onEnter",h)}).then(function(b){a(function(){return f.fired=!1,b&&(e.displayPaneIndex=d),{oldPane:g,newPane:f}})})}function f(a,b){void 0===b&&(b=a,a="epSlidingPanel");var c=l(a),d=c.panes.find(function(a){return a.id===b}),f=d?d.index:0;return e(a,f)}function g(a){a=a||"epSlidingPanel";var b=l(a);return e(a,b.displayPaneIndex+1)}function h(a){a=a||"epSlidingPanel";var b=l(a);return e(a,b.displayPaneIndex-1)}function i(a,b){void 0===b&&(b=a,a="epSlidingPanel");var c=l(a);c.nextButtonEnabled=b}function j(a,b){void 0===b&&(b=a,a="epSlidingPanel");var c=l(a);c.prevButtonEnabled=b}function k(a,b){void 0===b&&(b=a,a="epSlidingPanel");var c=l(a);c.finishButtonEnabled=b}function l(a){return o[a]}function m(a){o[a.id]=a}function n(a){delete o[a]}var o={};return{finish:d,getState:l,goToPane:f,goToPaneIndex:e,enableNext:i,enablePrev:j,enableFinish:k,next:g,prev:h,register:m,unregister:n}}])}(),function(){"use strict";angular.module("ep.sysconfig").provider("epSysConfig",function(){var a,b={};this.$get=["$log",function(c){function d(a){if(b.hasOwnProperty(a))return b[a]}function e(a,b){return a===!0||a===!1?a:b}function f(a,c){var d;return b.hasOwnProperty(a)&&(d=b[a],c&&g(b[a],c)),d}function g(a,b){a&&b&&angular.forEach(a,function(c,d){null!==a[d]&&(angular.isArray(a[d])?b[d]=a[d]:angular.isObject(a[d])?(angular.isObject(b[d])||(b[d]={}),g(a[d],b[d])):b[d]=a[d])})}var h=$.ajax({type:"GET",url:"sysconfig.json",cache:!1,async:!1,contentType:"application/json"});if(a=h.status,200===h.status)try{b=angular.fromJson(h.responseText)}catch(i){c.warn("Error parsing sysconfig: "+i.message)}return{sysconfig:b,section:d,mergeSection:f,optionBool:e,copyProperties:g}}]})}(),function(){"use strict";angular.module("ep.tabbar").controller("epTabbarCtrl",[function(){}])}(),function(){"use strict";angular.module("ep.tabbar").directive("epTabbar",["epTabbarService",function(a){function b(b){b.state=a.state,b.executeButton=function(a){a.action()}}return{restrict:"E",controller:"epTabbarCtrl",templateUrl:"src/components/ep.tabbar/ep-tabbar.html",link:b}}])}(),function(){"use strict";angular.module("ep.tabbar").service("epTabbarService",[function(){function a(a){g.tabs.push(a)}function b(){g.tabbarAlignment="top"}function c(){g.tabbarAlignment="bottom"}function d(){g.labelAlignment="left",g.iconAlignment="left",g.labelText="left"}function e(){g.labelAlignment="top",g.iconAlignment="top",g.labelText="Bottom"}function f(a){g.tabs=_.reject(g.tabs,function(b){return b.id===a})}var g={labelAlignment:"top",tabbarAlignment:"bottom",iconAlignment:"top",labelText:"bottom",tabs:[]};return{enableTopTabbar:b,enableBottomTabbar:c,showIconsOnLeft:d,showIconsOnTop:e,removeTab:f,addTab:a,state:g}}])}(),function(){"use strict";angular.module("ep.table").controller("epTableCtrl",["$scope",function(a){a.isLoading=!0,a.headers=a.columnHeaders?a.columnHeaders.split(",").map(function(a){return a.trim()}):[],a.colCount=a.headers.length,a.props=a.columnHeaders?a.columnProperties.split(",").map(function(a){return a.trim()}):[],a.isLoading=!1,a.selectRow=function(b,c){a.trackSelectedRow&&(a.data.selectedRow=b,a.data.forEach(function(a){a.$isSelected=!1}),b.$isSelected=!0,a.onSelectRow&&a.onSelectRow({row:b,$event:c}))},a.trackSelectedRow&&a.data&&a.data.length&&a.selectRow(a.data[0]),a.$watch("data",function(){a.trackSelectedRow&&a.data&&a.data.length&&!a.data.selectedRow&&a.selectRow(a.data[0]);
}),a.onDblClick=function(b,c){a.data&&a.data.length&&a.onDoubleClickRow&&a.onDoubleClickRow({row:b,$event:c})}}])}(),function(){"use strict";angular.module("ep.table").directive("epTable",function(){return{restrict:"E",replace:!0,scope:{data:"=",columnHeaders:"@",columnProperties:"@",trackSelectedRow:"=",striped:"=",onSelectRow:"&",onDoubleClickRow:"&"},controller:"epTableCtrl",templateUrl:"src/components/ep.table/table.html"}})}(),function(){"use strict";angular.module("ep.theme").provider("epThemeConfig",function(){var a=[{name:"bootstrap",cssFilename:"bootstrap.min.css"},{name:"cerulum",cssFilename:"cerulum.min.css"},{name:"cosmo",cssFilename:"cosmo.min.css"},{name:"cyborg",cssFilename:"cyborg.min.css"},{name:"darkly",cssFilename:"darkly.min.css"},{name:"epicormobile",cssFilename:"epicormobile.min.css"},{name:"flatly",cssFilename:"flatly.min.css"},{name:"journal",cssFilename:"journal.min.css"},{name:"paper",cssFilename:"paper.min.css"},{name:"sandstone",cssFilename:"sandstone.min.css"},{name:"slate",cssFilename:"slate.min.css"},{name:"spacelab",cssFilename:"spacelab.min.css"},{name:"superhero",cssFilename:"superhero.min.css"},{name:"united",cssFilename:"united.min.css"},{name:"yeti",cssFilename:"yeti.min.css"}],b={id:"",disableTheming:!1,defaultPath:"",customPath:"",themes:[{name:"bootstrap",cssFilename:"bootstrap.min.css"},{name:"flatly",cssFilename:"flatly.min.css"}],appendThemes:[],defaultTheme:"flatly",persist:!0,provider:""};this.$get=["epSysConfig","epApplicationConfig",function(c,d){var e=c.mergeSection("ep.theme",b);return"emf"===b.defaultPath&&(b.defaultPath=d.getAssetsPath("shell","ep.theme/themes"),(!angular.isArray(e.themes)||e.themes.length<1)&&(b.themes=a)),b.appendThemes&&angular.isArray(b.appendThemes)&&angular.forEach(b.appendThemes,function(a){var c=_.find(b.themes,function(b){return b.name===a.name});c?c.cssFilename=a.cssFilename||c.cssFilename:b.themes.push(a)}),b}]})}(),function(){"use strict";angular.module("ep.theme").directive("epThemeHref",["$log","$rootScope","epThemeService","epThemeConstants",function(a,b,c,d){function e(a,b){var d,e="";if(c.disableTheming()!==!0&&(d=c.theme(),d&&(e=d.cssPath)),a.href!==e){var f=$("body");if(f.length&&f.attr("class"))for(var g=f.attr("class").split(/\s+/),h=0;h<g.length;h++)0===g[h].indexOf("ep_theme_")&&f.removeClass(g[h]);if(f.length&&f.addClass("ep_theme_"+d.name),a.$set("href",e),angular.element("#epThemeCustomHref").remove(),d){var i=c.getCustomThemeCss(d);if(i){var j=angular.element('<link id="epThemeCustomHref" rel="stylesheet" type="text/css" href="'+i+'" />');j.insertAfter(b)}}}}return{restrict:"A",scope:{},link:function(f,g,h){"LINK"===g[0].tagName?(c.initialize(!1).then(function(){e(h,g)}),b.$on(d.THEME_CHANGE_EVENT,function(){e(h,g)}),b.$on(d.STATE_CHANGE_EVENT,function(){e(h,g)})):a.warn("ep-theme-href can only be used on an <link> tag")}}}])}(),function(){"use strict";angular.module("ep.theme").constant("epThemeConstants",{THEME_CHANGE_EVENT:"EP_THEME_CHANGE_EVENT",STATE_CHANGE_EVENT:"EP_THEME_STATE_CHANGE_EVENT"})}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(c,e){if((!x||c)&&d.disableTheming!==!0){x=!0;var h=f.get(u),i=d.provider;if(i&&"sysconfig"!==i&&e!==!0)try{var j=g.getService(i),l=a.when(j.getThemes(c));return l.then(function(a){a&&0!==a.length?(y||(y=!0,s(a)),w=a,p(),k(t()?h:v)):x=!1}),l}catch(m){b.warn("Custom themes provider not found or failed: "+i)}p(),k(t()?h:v)}var n=a.defer();return n.resolve(w),n.promise}function i(){return w}function j(a){return _.find(w,function(b){return b.name===a})}function k(a){if(a){var b=v,d=angular.isObject(a)?a.name:a;d&&(v=_.find(w,function(a){return a.name.toLowerCase()===d.toLowerCase()})),v||(v=b,v||(v=_.find(w,function(a){return"bootstrap"===a.name}))),!v||b&&b.name===v.name||c.$emit(e.THEME_CHANGE_EVENT,v),t()&&f.update(u,v)}return v}function l(){return z}function m(){k(z)}function n(a){return void 0!==a&&(a===!0&&d.disableTheming===!0&&(d.disableTheming=!1,h()),d.disableTheming!==a&&(d.disableTheming=a,c.$emit(e.STATE_CHANGE_EVENT,a))),d.disableTheming===!0}function o(a){if(d.customPath){var b=angular.isObject(a)?a.name:a,c=j(b);if(c){var e=c.cssFilename.replace(".css",".custom.css");return q(d.customPath,e)}}return""}function p(){angular.forEach(w,function(a){r(a)})}function q(a,b){var c="",d=a;return d&&b?(d=d.trim(),d.lastIndexOf("/")===d.length-1&&(d=d.substr(0,d.length-1)),c=d+"/"+b):c=b,c}function r(a){a.cssPath=q(d.defaultPath,a.cssFilename)}function s(a){u=(d.id||"emf")+".theme.current",w=a&&a.length?a:d.themes,w.length>1&&(v=_.find(w,function(a){return a.name.toLowerCase()===d.defaultTheme.toLowerCase()})),z={},v?angular.copy(v,z):v=w[0],t()&&(v=f.getOrAdd(u,z)),!v&&z&&z.name&&(v=z),p(),v&&r(v)}function t(){return w.length>1&&d.persist}var u,v,w,x,y,z;return s(),{initialize:h,getThemes:i,getTheme:j,theme:k,reset:m,defaultTheme:l,disableTheming:n,getCustomThemeCss:o}}a.$inject=["$q","$log","$rootScope","epThemeConfig","epThemeConstants","epLocalStorageService","epUtilsService"],angular.module("ep.theme").service("epThemeService",a)}(),function(){"use strict";angular.module("ep.tile").provider("epTileConfig",function(){var a={bingTile:{bingImageArchiveUrl:"http://www.bing.com/HPImageArchive.aspx?format=rss&idx=0&mkt=en-US",bingProxyUrl:"//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=50&callback=JSON_CALLBACK&q=",bingNumberOfImages:5,liveSettings:{dataDelay:7e3,dataDirection:"horizontal",dataMode:"carousel"}},imageTile:{liveSettings:{dataDelay:5e3,dataDirection:"vertical",dataMode:"carousel"}}};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.tile",a),a}]})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(a){var b=d.defer(),g=h.getAssetsPath("shell","ep.tile/bing"),i=function(a){e.error("Error parsing retrieving bing images: "+a);for(var c={images:[]},d=1;d<6;d++)c.images.push({src:g+d+".jpg",title:"Bing Image of the day (offline)"});b.resolve(c)};try{var j=f.bingTile.bingImageArchiveUrl+"&n="+a;c.jsonp(f.bingTile.bingProxyUrl+encodeURIComponent(j)).success(function(a){if(a&&a.responseData&&a.responseData.feed&&a.responseData.feed.entries&&a.responseData.feed.entries.length){var c={images:[]};angular.forEach(a.responseData.feed.entries,function(a){c.images.push({src:"http://www.bing.com"+a.link,title:a.title})}),b.resolve(c)}else{var d="unknown response failure";a&&a.responseStatus&&(d="status - "+a.responseStatus),a&&a.responseDetails&&(d+=" "+a.responseDetails),i(d)}}).error(function(a,b){i("$http status - "+b)})}catch(k){i(k.message)}return b.promise}function j(a,b){var c="",d=["half","one","two","three","four","five","six","seven","eight","nine","ten"];if(angular.isNumber(a)){var e=-1;a>=0&&a<1?e=0:a>=1&&a<=10&&(e=Math.round(a)),e!==-1&&(c=" "+d[e]+b)}return c}function k(b){if(b){var c=0;angular.forEach(b,function(b){a.state.images.push({src:b.src,title:b.title||a.tile.footer,index:c,data:b}),c++})}}a.initializeTile=function(){var c=!1,d=a.tile;if(!d)return void e.error("tile object must be defined for ep.tile directive");var h=void 0!==d.width?d.width:a.width,l=void 0!==d.height?d.height:a.height;a.state.tileClass="",a.state.images=[],"custom"===d.type?a.state.templateOptions=d.templateOptions:"image"===d.type||"bing"===d.type?(c=!0,void 0===h&&(h="image"===d.type?2:3),void 0===l&&(l=2),a.state.templateUrl="src/components/ep.tile/ep-tile-templates/ep-tile-image.html",a.state.liveSettings="bing"===d.type?f.bingTile.liveSettings:f.imageTile.liveSettings,d.liveSettings&&g.copyProperties(d.liveSettings,a.state.liveSettings),"bing"===d.type?i(f.bingTile.bingNumberOfImages).then(function(a){k(a.images)}):(d.liveSettings&&g.copyProperties(),k(d.images))):(void 0===h&&(h=2),a.state.templateUrl="src/components/ep.tile/ep-tile-templates/ep-tile-menu.html"),c&&d.isLive!==!1&&(a.state.optionsClass+="ep-live-tile"),d.tileClass&&(a.state.tileClass+=" "+d.tileClass),a.state.tileClass+=j(h,"-wide"),a.state.tileClass+=j(l,"-tall");var m;d.caption&&(m=d.caption.length,m>30?a.state.optionsClass+=" ep-tile-opt-cap-30":m>15&&(a.state.optionsClass+=" ep-tile-opt-cap-15")),d.description&&(m=d.description.length,m>40?a.state.optionsClass+=" ep-tile-opt-desc-40":m>20&&(a.state.optionsClass+=" ep-tile-opt-desc-20")),d.icon&&(a.state.optionsClass+=" ep-tile-opt-icon"),d.closeButton!==!1&&(a.state.optionsClass+=" ep-tile-opt-close-btn"),a.state.color=d.color||a.color||"",a.state.closeAction=function(a,b){b.stopPropagation(),a.closeAction&&a.closeAction(a,b)},a.state.action=function(b,c){if(b.action){var d,e;if("image"===b.type){var f=angular.element(a.state.tileElement).find(".ha .active img");if(f&&f.length){var g=angular.element(f).attr("image-index");""!==g&&(d=parseInt(g),e=a.state.images[d].data)}}b.action(b,c,d,e)}},b(function(){angular.element(a.state.tileElement).find(".ep-live-tile .live-tile").liveTile()},1e3)},a.$watch("sizeMode",function(b){a.state.sizeMode="container"===b?"ep-tile-size-container":"ep-tile-size-responsive"}),a.$watch("color",function(b,c){b&&b!==c&&(a.tile&&a.tile.color||(a.state.color=b||""))}),a.$watch("tile",function(b,c){b&&b!==c&&a.initializeTile()})}a.$inject=["$scope","$timeout","$http","$q","$log","epTileConfig","epUtilsService","epApplicationConfig"],angular.module("ep.tile").controller("epTileCtrl",a)}(),function(){"use strict";function a(a){return{restrict:"E",controller:"epTileCtrl",templateUrl:"src/components/ep.tile/ep-tile.html",scope:{tile:"=",color:"=",sizeMode:"=",width:"=",height:"=",liveSettings:"="},link:function(b,c){b.state={optionsClass:"",tileElement:c,templateUrl:"",images:[],closeAction:void 0,sizeMode:"ep-tile-size-responsive",color:"",liveSettings:{dataMode:"carousel",dataDirection:"horizontal",dataDelay:"7000"},templateOptions:{}},a(function(){b.initializeTile()})}}}a.$inject=["$timeout"],angular.module("ep.tile").directive("epTile",a)}(),function(){"use strict";function a(a,b,c,d,e,f){b.getFooter=function(a,b){var c="Last Accessed: ",d=a.getItemLastAccess(b);return c+=d?moment(d).calendar():"never"},b.createItem=function(a,c){b.fnCloseAction=function(b){var c=a.findMenuItemById(b.id);c&&a.toggleFavorite(c)};var d=b.getFooter(a,c),e={id:c.id,closeAction:b.fnCloseAction,icon:b.menuIcon||c.icon||"fa fa-dashboard",caption:c.caption,description:c.description,type:"menu",footer:d,menuItem:c,sort:c.caption,color:c.color};return c.tile&&f.copyProperties(c.tile,e),e.action=function(){a.triggerAction(c)},e},b.onMenuChange=function(a,c){if(b.menuId===c.menuId){var d=c.factory,e=[];angular.forEach(d.data.favorites,function(a){e.push(b.createItem(d,a))}),b.state.list=e}},b.onFavoritesChange=function(a,c){if(b.menuId===c.menuId){b.state.list||(b.state.list=[]);var d=c.factory,e=d.data.favorites,f=[];angular.forEach(b.state.list,function(a){var b=_.find(e,function(b){return b===a.menuItem});b||f.push(a)}),angular.forEach(f,function(a){var c=_.findIndex(b.state.list,function(b){return b===a});c!==-1&&b.state.list.splice(c,1)}),angular.forEach(e,function(a){var c=_.find(b.state.list,function(b){return a===b.menuItem});c||b.state.list.push(b.createItem(d,a))})}},b.onMenuItemClicked=function(a,c){if(b.menuId===c.menuId&&b.state.list&&c.menuItem){var d=c.factory,e=_.find(b.state.list,function(a){return a.id===c.menuItem.id});e&&(e.footer=b.getFooter(d,c.menuItem))}},a.$on(d.MLM_INITIALIZED_EVENT,b.onMenuChange),a.$on(d.MLM_MENU_DATA_CHANGED,b.onMenuChange),a.$on(d.MLM_FAVORITES_CHANGED,b.onFavoritesChange),a.$on(d.MLM_ITEM_CLICKED,b.onMenuItemClicked),b.$watch("menuId",function(a,c){a&&a!==c&&(b.menuFactory=e.getMenuFactory(a),b.menuFactory&&b.$watch(b.menuFactory.data,function(){var a={eventId:d.MLM_MENU_DATA_CHANGED,menuId:b.menuId,factory:b.menuFactory};b.onMenuChange(d.MLM_MENU_DATA_CHANGED,a)}))}),b.prepareBeforeList=function(){var a=[];b.bing&&a.push({id:"bing-image-of-the-day",sort:"__abing",type:"bing",width:b.bingWidth||3,height:b.bingHeight||2}),b.beforeList&&angular.forEach(b.beforeList,function(b){a.push(b)}),b.state.beforeList=a},b.$watch("bing",function(a,c){a!==!0&&a!==!1||a===c||b.prepareBeforeList()}),b.$watch("beforeList",function(a,c){a&&c!==a&&b.prepareBeforeList()}),b.$watch("afterList",function(a){if(a){var c=[];angular.forEach(a,function(a){c.push(a)}),b.state.afterList=c}})}a.$inject=["$rootScope","$scope","$timeout","epMultiLevelMenuConstants","epMultiLevelMenuService","epUtilsService"],angular.module("ep.tiles.panel").controller("epTilesMenuFavoritesCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",controller:"epTilesMenuFavoritesCtrl",template:"<ep-tiles-panel list=state.list before-list=state.beforeList after-list=state.afterList color=color size-mode=sizeMode width=width height=height disable-sort=disableSort></ep-tiles-panel>",scope:{menuId:"=",beforeList:"=",afterList:"=",sizeMode:"=",color:"=",bing:"=",menuIcon:"=",width:"=",height:"=",bingHeight:"=",bingWidth:"=",disableSort:"="},link:function(a,b){a.state={theElement:b,list:[],beforeList:[],afterList:[]},a.prepareBeforeList()}}}angular.module("ep.tiles.panel").directive("epTilesMenuFavorites",a)}(),function(){"use strict";function a(a){function b(a){return a.sort||a.caption}var c=["amber","blue","brown","cobalt","crimson","cyan","magenta","lime","indigo","green","emerald","mango","mauve","olive","orange","pink","red","sienna","steel","teal","violet","yellow"];a.sortList=a.disableSort!==!0?b:void 0,a.initColors=function(){if(a.state.tileColor="","function"==typeof a.color)a.state.tileColor="",a.state.colorFunc=function(b){return a.color(b)};else if("mix"===a.color||"random"===a.color){a.state.tileColor="";var b=_.shuffle(c);a.state.colorIndex=-1,a.state.colorFunc=function(d){return d.color||("random"===a.color?d.color=b[a.state.colorIndex++%c.length]:d.color=c[a.state.colorIndex++%c.length]),""}}else a.color&&angular.isString(a.color)&&(a.state.tileColor=a.color)},a.$watch("color",function(b,c){b&&b!==c&&a.initColors()}),a.$watch("list",function(b,c){b&&b!==c&&a.initColors()}),a.$watch("beforeList",function(b,c){b&&b!==c&&a.initColors()}),a.$watch("afterList",function(b,c){b&&b!==c&&a.initColors()}),a.$watch("disableSort",function(c,d){c!==!0&&c!==!1||c===d||(a.sortList=a.disableSort!==!0?b:void 0)})}a.$inject=["$scope"],angular.module("ep.tiles.panel").controller("epTilesPanelCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",controller:"epTilesPanelCtrl",templateUrl:"src/components/ep.tiles.panel/ep-tiles-panel.html",scope:{list:"=",beforeList:"=",afterList:"=",color:"=",sizeMode:"=",width:"=",height:"=",disableSort:"="},link:function(a,b){a.state={tilePanelElement:b,list:[],beforeList:[],afterList:[],tileColor:"",colorFunc:void 0},a.initColors()}}}angular.module("ep.tiles.panel").directive("epTilesPanel",a)}(),function(){angular.module("ep.token").service("epErpRestService",["$http","$resource","epTokenService",function(a,b,c){function d(a,d,e){var f=c.getToken();if(f){var g=i+(d?d:"");if(d){var h=d.toLowerCase();0===h.indexOf("http")?g=d:0===h.indexOf("/api/swagger")&&(g=f.user.serverUrl+d)}return b(g,e,{get:{method:"GET",headers:{Authorization:"Bearer "+f.token.AccessToken,"Content-Type":"application/json"}}})}}function e(b,d,e){var f=c.getToken();if(f){var g=e;return e&&!angular.isString(e)&&(g=JSON.stringify(e)),a({method:"POST",dataType:"json",data:g,headers:{Authorization:"Bearer "+f.token.AccessToken,"Content-Type":"application/json",Accept:"application/json"},url:i+d})}}function f(b){var d=c.getToken();if(d)return a({method:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+d.token.AccessToken,"Content-Type":"application/json",Accept:"application/json"},url:i+b})}function g(b,d){var e=c.getToken();if(e&&i){var f=d;return d&&!angular.isString(d)&&(f=JSON.stringify(f)),a({method:"PATCH",dataType:"json",data:f,headers:{Authorization:"Bearer "+e.token.AccessToken,"Content-Type":"application/json",Accept:"application/json"},url:i+b}).success(function(a){console.log("updated "+b+" "+a)}).error(function(a){return console.log(a),!1})}}function h(b){var d=c.getToken();if(d)return a({method:"GET",headers:{Authorization:"Bearer "+d.token.AccessToken,"Content-Type":"application/xml; charset=utf-8",Accept:"application/xml"},url:i+b})}var i="";return{setUrl:function(a){i=a},get:function(a,b){return d("GET",a,b).get()},post:function(a,b){return e("POST",a,b)},remove:function(a){return f(a)},patch:g,getXML:h}}])}(),function(){"use strict";function a(a,b,c,d,e){b.settings={username:"",password:"",serverName:"",serverUrl:"",tokenUrl:"",token:{}},c.copyProperties(b.options,b.settings),b.loginUser=function(){if(b.options.fnOnLogin){var c=b.options.fnOnLogin(b.settings);return void(c&&c.hasError&&(b.hasError=!0,b.status=c.status))}if(d.showProgress({title:"Logging in",message:""}),""===b.settings.username||""===b.settings.password)return b.hasError=!0,b.status=""===b.settings.username?"Oops.. There's no user name there!":"Oops.. You forgot to type your password!",void d.hide();if(""===b.settings.serverName)return b.hasError=!0,b.status="Oops... Don't forget to type the Server.",void d.hide();var f=e.resolveServerUrl(b.settings.serverName);b.settings.serverUrl=f.serverUrl,b.settings.tokenUrl=f.tokenUrl;var g={username:b.settings.username,password:b.settings.password,serverUrl:b.settings.serverUrl,serverName:f.serverName},h={restUri:b.settings.tokenUrl};"demo"===b.settings.username.toLowerCase()&&"demo"===b.settings.password.toLowerCase()&&"demo"===b.settings.serverName.toLowerCase()&&(h.debug=!0,h.timeout="10000"),e.login(g,h).success(function(c){b.accessToken=c.AccessToken;try{if(b.settings.token=e.getToken(),!b.settings.token)return;b.options.username=b.settings.username,b.options.serverName=b.settings.serverName,b.options.fnOnGetToken?a.when(b.options.fnOnGetToken(b.settings)).then(function(a){return a&&angular.isString(a)?(b.hasError=!0,void(b.status=a)):void(b.options.fnOnSuccess&&b.options.fnOnSuccess(b.settings))},function(a){b.hasError=!0,b.status=a}):b.options.fnOnSuccess&&b.options.fnOnSuccess(b.settings)}catch(d){alert(d.message)}}).error(function(a,c,d,e){void 0!==e&&null!==e?e.url:"";b.hasError=!0,b.status=401==c?"Please review the user or password.":"We couldn't connect to the server. Please review it."}),d.hide()},b.passwordKeyPress=function(a){b.hasError=!1,b.status="";var c="undefined"==typeof event.which?event.keyCode:event.which;13===c&&b.loginUser()},b.clearWarning=function(){b.hasError=!1,b.status=""},b.showServer=function(){b.showServerName=!b.showServerName}}a.$inject=["$q","$scope","epUtilsService","epModalDialogService","epTokenService"],angular.module("ep.token").controller("epLoginViewCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"src/components/ep.token/ep-login-view/ep-login-view.html",controller:"epLoginViewCtrl",scope:{options:"="}}}angular.module("ep.token").directive("epLoginView",a)}(),function(){"use strict";function a(a,b){var c=b.getToken();a.user=c?c.user:{},a.status="",a.$watch(function(a){return a.hasToken=b.hasToken(),b.hasToken()}),a.login=function(){return a.hasError=!1,a.status="",a.user&&a.user.hasOwnProperty("username")&&a.user.hasOwnProperty("password")&&a.user.username&&a.user.password?void b.login(a.user).success(function(){a.hasToken=!0,a.onLoginSuccess&&a.onLoginSuccess(a.user)}).error(function(b,c,d,e){var f=void 0!==e&&null!==e?e.url:"";a.status="Login Failure at: "+f,a.hasError=!0,a.onLoginFail&&a.onLoginFail(a.status)}):(a.hasError=!0,void(a.status="Please fill required fields."))},a.logout=function(){b.logout(),a.user={},a.hasToken=!1},a.cancel=function(){a.onLoginCancel&&a.onLoginCancel()}}a.$inject=["$scope","epTokenService"],angular.module("ep.token").controller("epLoginCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",controller:"epLoginCtrl",templateUrl:"src/components/ep.token/ep-login/login.html",scope:{showTitle:"=",showLabels:"=",showCancel:"=",onLoginFail:"&",onLoginSuccess:"&",onLoginCancel:"&"}}}angular.module("ep.token").directive("epLogin",a)}(),function(){"use strict";angular.module("ep.token").provider("epTokenConfig",function(){var a={restUri:"https://localhost/ICE3/TokenResource.svc/",tokenId:"emf.token.auth",timeout:0,warnExpire:!0,warnExpireDuration:60,storePassword:!0,autoRenew:!1,debug:!1};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.token",a),a}]})}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(a,b){return w.options={},e.copyProperties(d,w.options),e.copyProperties(b,w.options),t(a,w.options.restUri)}function i(){g.update(d.tokenId,void 0),w.tokenTimeoutPromise&&c.cancel(w.tokenTimeoutPromise)}function j(a,b,c){var d={title:"Login",closeButton:!0,templateOptions:{template:'<ep-login show-title="false" on-login-cancel="config.onLoginCancel()"></ep-login>'},onLoginCancel:function(){f.hide()}};e.copyProperties(c,d),f.showCustomDialog(d)}function k(){var a=g.get(d.tokenId);if(a&&a.expiresInSecs){var b=l(a);b||(i(),a=null)}return a}function l(a){var b=a||k(),c=0;if(b){var d=new Date;c=b.expiresUTC-d.getTime(),c=c<=0?0:Math.floor(c/1e3)}return c}function m(){var a=k();return void 0!==a&&!angular.equals({},a)}function n(){var a=k();w.options.fnRenewToken?w.options.fnRenewToken(a):a&&a.user&&t(a.user,a.uri)}function o(a,b){var c=e.ensureEndsWith(a,"/");c=c.substring(0,c.length-1);var d=c.toLowerCase().trim(),f="https://";0===d.indexOf("https://")?(f="https://",c=c.substring(f.length)):0===d.indexOf("http://")&&(f="http://",c=c.substring(f.length));var g="";return""!==b&&(g=b?"/"+b:"/TokenResource.svc"),{prefix:f,serverName:c,serverUrl:f+c,tokenUrl:f+c+g}}function p(b,c){var d={headers:{username:b.username,password:b.password,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},f=e.ensureEndsWith(c,"/");return a.post(f,null,d)}function q(a,c){var d=b.defer(),e=d.promise;e.success=function(a){return e.then(a),e},e.error=function(a){return e.then(null,a),e};var f={TokenType:"Bearer",AccessToken:"mySampleTokenDataValue"};return r(f,a,c),d.resolve(f),e}function r(a,b,c){var e=a&&a.AccessToken&&"Bearer"===a.TokenType?a:void 0,f=e&&a.ExpiresIn?a.ExpiresIn:w.options.timeout;w.options.timeout&&w.options.timeout<f&&(f=w.options.timeout);var h=new Date,i=new Date(h);i.setTime(i.getTime()+1e3*f),g.update(d.tokenId,{uri:c,user:b,token:e,createdUTC:h.getTime(),expiresUTC:i.getTime(),expiresInSecs:f}),v(f)}function s(){w.tokenTimeoutPromise&&c.cancel(w.tokenTimeoutPromise);var a=l();a?v(a):i()}function t(a,b){i();var c=b||w.options.restUri;if(w.options.debug)return q(a,c);var d=w.options.fnUserFetchToken||p;return d(a,c).success(function(b){r(b,a,c)}).error(function(){})}function u(a){w.options.fnRenewToken?w.options.fnRenewToken(a):a&&a.user&&t(a.user,a.uri)}function v(a){if(w.tokenTimeoutPromise&&c.cancel(w.tokenTimeoutPromise),w.options.warnExpire||w.options.autoRenew){var b=a>w.options.warnExpireDuration?a-w.options.warnExpireDuration:a;b-=5,w.tokenTimeoutPromise=c(function(){var a=k();if(a){var b=l();if(w.options.warnExpire){var c={title:"Expiration Notice",message:"Your session is about to expire in {timer} seconds...",autoClose:b,icon:"fa fa-warning fa-4x",buttons:[{text:"Continue",action:function(){u(a)}},{text:"Log Out",action:function(){i()}}],fnDefaultAction:function(){i()}};e.copyProperties(w.options.warnExpireDialogOptions,c),f.showMessage(c)}else w.options.autoRenew&&u(a)}},1e3*b)}}var w={tokenTimeoutPromise:void 0,options:{}};return s(),{login:h,logout:i,getToken:k,hasToken:m,getExpiresIn:l,renewToken:n,showLoginDialog:j,resolveServerUrl:o}}a.$inject=["$http","$q","$timeout","epTokenConfig","epUtilsService","epModalDialogService","epLocalStorageService"],angular.module("ep.token").service("epTokenService",a)}(),function(){"use strict";angular.module("ep.ui.range.slider").controller("epRangeSliderCtrl",["$scope",function(a){function b(b){a.range.css("left",b+"px")}function c(b,c){var d="left"===b?a.minHandle:a.maxHandle;d.css("left",c+"px")}function d(d,e){var g,h=f(e),i=parseInt(a.minHandle.css("left")),k=parseInt(a.maxHandle.css("left"));if(r=a.axis.width(),null!==p&&void 0!==p||(p=n),d.x>p){if(g=h.x-p,k+o>=r)return;b(parseInt(a.range.css("left"))+g),s=i+g,t=k+g,c("left",s),c("right",t)}else{if(g=p-h.x,i<=0)return;b(parseInt(a.range.css("left"))-g),s=i-g,t=k-g,c("left",s),c("right",t)}a.rangeMin=1===i?a.min:j(i),a.rangeMax=j(k+o),p=d.x,a.$digest()}function e(b,d){function e(){return q&&i>=t-o}function g(){return!q&&s+o>=i}var h,i,k,l=f(d),q=m.is(".js-handle-min");if((0===t||isNaN(t))&&(t=r-o),null!==p&&void 0!==p||(p=n),b.x>p){if(h=l.x-p,i=parseInt(m.css("left"))+h,i>r)return;if(e())return;if(!q&&i+o>=r)return;k=q?a.range.width()-h:a.range.width()+h}else{if(h=p-l.x,i=(parseInt(m.css("left"))||t)-h,i<=0)return;if(g())return;k=q?a.range.width()+h:a.range.width()-h}q?(s=i,a.rangeMin=1===i?a.min:j(i)):(t=i,a.rangeMax=i+o>=r?a.max:j(i+o)),a.range.css({left:s+o+"px",width:k}),c(q?"left":"right",i),p=b.x,a.$digest()}function f(a){var b={x:0,y:0};return a.originalEvent&&a.originalEvent instanceof TouchEvent?(b.x=a.originalEvent.changedTouches[0].clientX,b.y=a.originalEvent.changedTouches[0].clientY):a.originalEvent&&a.originalEvent instanceof MouseEvent&&(b.x=a.clientX,b.y=a.clientY),b}function g(b){var c=$(b.target);c.is(".ep-range-slide-handle")||c.is(".ep-range-ctr")||c.is(".ep-range-slider-value-axis")||(a.axis.trigger("touchend"),$(document.body).off("mouseup",g)),a.axis.removeClass("ep-range-handle-drag").removeClass("ep-range-drag"),q=!1,b.stopPropagation()}function h(){if(!a.touch){var b=parseInt(a.rangeMax);b>a.max&&(b=a.max,a.rangeMax=b),t=(b-a.min)/(a.max-a.min)*r-o,c("right",t),a.range.css({left:s+o,width:t-s-o})}}function i(){if(!a.touch){var b=parseInt(a.rangeMin);b<a.min&&(b=a.min,a.rangeMin=b),s=(b-a.min)/(a.max-a.min)*r,c("left",s),0===t&&(t=r-o),a.range.css({left:s+o,width:t-s-o})}}function j(b){var c=b/r;return a.newPoint=Math.ceil(a.min+c*(a.max-a.min)),a.newPoint}function k(){return{min:a.rangeMin,max:a.rangeMax}}function l(){a.rangeMin=a.min,a.rangeMax=a.max}var m,n,o,p,q,r,s=0,t=0;a.value=0,a.touch=!0,a.rangeMax=a.max,a.rangeMin=a.min,a.steps=[25,50,75],a.$watch("rangeMin",i),a.$watch("rangeMax",h),a.toggleRangeInputMode=function(){r=r||a.axis.width(),o=o||a.minHandle.outerWidth(),a.touch=!a.touch},a.onSwipe=function(a,b){q?e(a,b):d(a,b),b.stopPropagation()},a.onAxisClick=function(b){var c=$(b.target);n=f(b).x,r=a.axis.width(),a.axisWithAndX=r+", "+a.axis.position().left,c.is(".ep-range-slide-handle")?(m=c,o=m.outerWidth(),a.axis.addClass("ep-range-handle-drag").removeClass("ep-range-drag"),q=!0):(c.is(".ep-range-ctr")||c.is(".ep-range"))&&a.axis.addClass("ep-range-drag").removeClass("ep-range-handle-drag"),$(document.body).mouseup(g),b.stopPropagation()},a.swipeStart=function(){a.axis.parent().addClass("active")},a.swipeEnd=function(){a.axis.parent().removeClass("active"),p=n=null},a.out.getSelection=k,a.out.clear=l}])}(),function(){"use strict";angular.module("ep.ui.range.slider").directive("epRangeSlider",["$swipe",function(a){return{restrict:"E",controller:"epRangeSliderCtrl",templateUrl:"src/components/ep.ui.range.slider/ep-range-slider.html",scope:{min:"=",max:"=",out:"="},compile:function(){return function(b,c){b.container=c.parent(),b.min=b.min||0,b.minHandle=b.container.find(".js-handle-min"),b.maxHandle=b.container.find(".js-handle-max"),b.range=b.container.find(".ep-range-ctr"),b.axis=b.container.find(".ep-range-slider-value-axis"),b.axis.mousedown(b.onAxisClick),b.axis.bind("touchstart",b.onAxisClick),a.bind(b.axis,{move:b.onSwipe,start:b.swipeStart,end:b.swipeEnd})}}}}])}(),function(){"use strict";angular.module("ep.utils").provider("utilsConfig",function(){var a={debug:!1};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.utils",a),a}]})}(),function(){"use strict";angular.module("ep.utils").filter("tel",function(){return function(a){if(!a)return"";var b=a.toString().trim().replace(/^\+/,"");if(b.match(/[^0-9]/))return a;var c,d,e;switch(b.length){case 10:c=1,d=b.slice(0,3),e=b.slice(3);break;case 11:c=b[0],d=b.slice(1,4),e=b.slice(4);break;case 12:c=b.slice(0,3),d=b.slice(3,5),e=b.slice(5);break;default:return a}return 1===c&&(c=""),e=e.slice(0,3)+"-"+e.slice(3),(c+" ("+d+") "+e).trim()}})}(),function(){"use strict";function a(a,b,c,d){function e(a){if(!a||arguments.length<1)return"";var b=a;if(arguments.length>1){var c=arguments;b=b.replace(/\{\d+}/g,function(a){var b=+a.slice(1,-1),d=null;return b+1<c.length&&(d=c[b+1]),d})}return b}function f(a,b){var c={};return a.forEach(function(a){var d,e;if(angular.isString(b))e=a[b];else{if(!angular.isFunction(b))throw new Error("mapArray called with an invalid idAccessor.");e=b(a)}d=angular.isFunction(e)?e():e,c[d]=a}),c}function g(a,b,c){return a&&b?void angular.forEach(a,function(d,e){null!==a[e]&&(angular.isArray(a[e])?b[e]=a[e]:angular.isObject(a[e])?(angular.isObject(b[e])||(b[e]={}),g(a[e],b[e],c)):c===!1&&void 0!==b[e]||(b[e]=a[e]))}):a||b}function h(a,b){return b&&0!==b.indexOf(a)?a+b:b||""}function i(a,b){return a&&a.lastIndexOf(b)!==a.length-b.length?a+b:a||""}function j(){var a="",b=_.flatten(arguments,!0);return b&&1===b.length&&angular.isObject(b[0])&&0===b[0].length?a:(angular.forEach(b,function(b){a+="/"+b}),a)}function k(d,e){var f,g=c.defer(),h="script:"+d;return d&&e.get(h)?g.resolve(h+" from cache"):(f=a[0].createElement("script"),f.src=d,f.onload=function(){g.resolve(h)},f.onerror=function(a){b.error("Error loading url: ["+d+"]"),g.reject(a,h)},a[0].documentElement.appendChild(f),e.put(h,1)),g.promise}function l(a,b){var c=a;return!!angular.isObject(a)&&(!(!angular.isString(b)||!b)&&!_.find(b.split("."),function(a){var b=c.hasOwnProperty(a);return b&&(c=c[a]),!b}))}function m(a,b,c,e,f){b--,b>=0?a()?e():d(function(){m(a,b,c,e,f)},c):f&&f()}function n(a,b,c){for(var d=0,e=b.length;d<e;++d){var f=b[d];if(_.isObject(f)||_.isFunction(f))for(var g=_.union(Object.keys(f),Object.keys(a)),h=0,i=g.length;h<i;h++){var j=g[h],k=f[j];c&&_.isObject(k)?_.isDate(k)?a[j]=new Date(k.valueOf()):_.isRegExp(k)?a[j]=new RegExp(k):k.nodeName?a[j]=k.cloneNode(!0):_.isElement(k)?a[j]=k.clone():_.isNull(k)?a[j]=null:_.isUndefined(k)?a[j]=void 0:(_.isObject(a[j])||(a[j]=_.isArray(k)?[]:{}),n(a[j],[k],!0)):a[j]=k}}return a}function o(a){return n(a,Array.prototype.slice.call(arguments,1),!0)}function p(a,e){var f=function(){var c;try{c=angular.element("html").injector().get(a)}catch(d){b.error("Failed to retrieve requested service:"+a+"\nDetails:"+d.message)}return c};if(e){var g=c.defer();return d(function(){var a=f();g.resolve(a)}),g.promise}return f()}return{copyProperties:g,ensureEndsWith:i,ensureStartsWith:h,hasProperty:l,loadScript:k,makePath:j,mapArray:f,merge:o,strFormat:e,wait:m,getService:p}}a.$inject=["$document","$log","$q","$timeout"],angular.module("ep.utils").service("epUtilsService",a)}(),function(){"use strict";function a(a){a.peek=!1,a.closeClick=function(){a.peek=!1;var b=!0;a.options.onClose&&(b=a.options.onClose(a.options)),a.options.showViewModal=!b},a.peekClick=function(){a.peek=!a.peek}}a.$inject=["$scope"],angular.module("ep.viewmodal").controller("epViewmodalCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,transclude:!0,controller:"epViewmodalCtrl",templateUrl:"src/components/ep.viewmodal/ep-viewmodal.html",scope:{options:"="},link:function(a){a.options={showCloseButton:!0}}}}angular.module("ep.viewmodal").directive("epViewmodal",a)}(),angular.module("ep.templates").run(["$templateCache",function(a){"use strict";a.put("src/components/ep.accordion.menu/ep-accordion-menu-item_template.html",'<div class="clearfix list-group-item" ng-class="{ \'ep-accordion-expanded\': item.isExpanded && item.menuitems.length, \'ep-accordion-expanded-odd\' : item._depth%2 == 1, \'ep-accordion-expanded-even\': item._depth%2 == 0}"><div class="clearfix container-fluid" id=mnu_{{item.id}} ng-keydown="($event.which === 13 && item.menuitems.length === 0)? navigate(item, false, $event) : onKeydown(item, $event)" role=group tabindex=-1 ng-click="item.isExpanded = !item.isExpanded"><div id=menuItem class="list-group-item row" ng-class="{ \'ep-accordion-expanded\': item.isExpanded && item.menuitems.length, \'ep-accordion-expanded-odd\' : item._depth%2 == 1, \'ep-accordion-expanded-even\': item._depth%2 == 0}" ng-if="!(item.menuitems && item.menuitems.length)" ng-click="navigate(item, false, $event)" tabindex=-1><!-- Menu item caption/text --><span class="clearfix ep-vertical-align-center"><span class="pull-left col-xs-10 {{item.captionClass}}" title={{item.caption}} ng-bind=item.caption></span><!--Open in new window--> <i class="fa fa-lg fa-external-link pull-left" ng-if=!isMobile ng-click="navigateExternal(item, $event)"></i><!-- Favorite icon --><!-- Favorite icon --> <i ng-if="(item.hideFavorite !== true)" class="fa fa-lg col-xs-2 pull-left" ng-click="toggleFavorite(item, $event)" ng-class="{ \'fa-star-o\': !item.favorite, \'fa-star text-warning\': item.favorite }"></i></span></div><div class="ep-submenu-header list-group-item row" ng-class="{ \'ep-accordion-expanded\': item.isExpanded && item.menuitems.length, \'ep-accordion-expanded-odd\' : item._depth%2 == 1, \'ep-accordion-expanded-even\': item._depth%2 == 0}" ng-if=item.menuitems.length tabindex=-1><!-- Menu item caption/text --><span class="clearfix ep-vertical-align-center"><span class="pull-left col-xs-10 {{item.captionClass}}" title={{item.caption}} ng-bind=item.caption></span><!-- Expand icon --> <i class="fa fa-lg col-xs-2" ng-class="{ \'fa-caret-right\': !item.isExpanded, \'fa-caret-down\': item.isExpanded }"></i></span></div></div><div class=col-xs-12 ng-click="navigate(item, false, $event)" ng-if="item.description && (!item.menuitems.length || !item.isExpanded) && !hideDescription"><div class=ep-accordion-menu-desc><sup class=text-info ng-bind=item.description></sup></div></div><!-- Sub-menu --><div class=list-group-submenu ng-class="{\'collapsed\': !item.isExpanded }" id=mnu_children ng-if="item.isExpanded && item.menuitems.length"><ep-accordion-menu-item ng-repeat="child in item.menuitems | orderBy:orderByMenu" item=child hide-description=hideDescription commit-menu-state=commitMenuState navigate=navigate navigate-external=navigateExternal toggle-favorite=toggleFavorite></ep-accordion-menu-item></div></div>'),
a.put("src/components/ep.accordion.menu/ep-accordion-menu_template.html",'<div id=MainMenu class=ep-accordion-menu><form class=ep-mlm-search ng-hide=searchDisabled><input type=search class="form-control ep-mlm-search-input" placeholder=Search ng-model=state.searchTerm ng-change=search() ng-keydown=onKeydown($event) ng-focus="isRightToLeft = false" tabindex=-1></form><div ng-show=state.searchTerm><div class="bg-primary ep-menu-header"><span ng-bind=searchResultsHeader></span></div><div class="list-group panel"><ep-accordion-menu-item ng-repeat="item in currentItems | orderBy:orderByMenu" id={{item.id}} hide-description=false item=item navigate=navigate navigate-external=navigateExternal toggle-favorite=toggleFavorite></ep-accordion-menu-item></div></div><div ng-show=!state.searchTerm><div class="bg-primary ep-menu-header" ng-if="data.favorites && data.favorites.length"><span ng-bind=favoritesHeader></span></div><div class="list-group panel"><ep-accordion-menu-item ng-repeat="item in data.favorites | orderBy:orderByMenu" id={{item.id}} hide-description=false item=item navigate=navigate navigate-external=navigateExternal toggle-favorite=toggleFavorite tabindex=-1></ep-accordion-menu-item></div><div class="bg-primary ep-menu-header"><span ng-bind=mainHeader></span></div><div class="list-group panel"><ep-accordion-menu-item ng-repeat="item in menu.menuitems | orderBy:orderByMenu" id={{item.id}} hide-description=true commit-menu-state=commitMenuState item=item navigate=navigate navigate-external=navigateExternal toggle-favorite=toggleFavorite on-expand=onExpand tabindex=-1></ep-accordion-menu-item></div></div></div>'),a.put("src/components/ep.action.set/action-menu/action-menu.html",'<div id=ep-actions-menu-ctr ng-show=actionMenuCtrl.actions><ul class="dropdown-menu ep-actions-menu list-unstyled noselect" role=menu><li ng-repeat="action in actionMenuCtrl.actions" ng-if="!action.switch || action.switch(action.switchParams) == action.switchResult" ng-switch=action.type ng-class="{\'hidden\': action.switch != null && action.switch == false}"><a ng-switch-when=action class=ep-actions-menu-item ng-click="actionMenuCtrl.invokeAction($event, action)"><span class="icon {{action.icon}}"></span><span>{{::action.title}}</span></a><div ng-switch-when=separator class=ep-actions-menu-item-separator></div></li><li class=ep-actions-menu-item-mobile><a class="ep-actions-menu-item edd-red separate" ng-click=actionMenuCtrl.close()><span class="icon icon-clear"></span><span>Close</span></a></li></ul></div>'),a.put("src/components/ep.binding/controls/ep-binding-editor.html","<ep-editor-control drag-enabled=false column=state.column value=epBindingInfo.value is-row=isRow></ep-editor-control>"),a.put("src/components/ep.binding/controls/ep-binding-label.html",'<div class="ep-binding-label {{labelClass}}"><label for={{forCtrl}}>{{state.label}}<span ng-if="state.requiredFlag && required !== false" class="ep-required-indicator text-danger fa fa-asterisk"></span></label></div>'),a.put("src/components/ep.binding/controls/ep-binding-pagination.html","<!--This is a partial for the ep-binding directive --><div class=ep-binding><uib-pagination previous-text=&lsaquo; next-text=&rsaquo; items-per-page=1 total-items=totalItems ng-model=currentPage ng-change=onPageChange() max-size=maxSize class=pagination-sm boundary-link-numbers=true rotate=false></uib-pagination></div>"),a.put("src/components/ep.binding/controls/ep-binding-record-editor.html","<ep-binding-scope ep-binding=epBinding><ep-record-editor options=options record=epb.rec isreadonly=readonly size-class=sizeClass on-init=onInitThis(factory) class={{activeClass}}></ep-record-editor></ep-binding-scope>"),a.put("src/components/ep.binding/controls/ep-binding-selector.html",'<!--This is a partial for the ep-binding directive --><div class=ep-binding-selector ng-controller=epBindingSelectorCtrl><div class="panel panel-default"><div class="panel-heading panel-heading-small"><ul class="nav nav-tabs"><li class=active><a data-toggle=pill href=.binding>Binding</a></li><li><a data-toggle=pill href=.preview>Data Preview</a></li></ul></div><div class=panel-body><div class="tab-content ep-padding-bottom"><div class="binding tab-pane fade in active"><ep-editor-control column=viewList value=meta.view></ep-editor-control><div ng-if=meta.view><div class=text-center ng-show=loadingColumns><i class="fa fa-spinner fa-spin fa-2x"></i><label>loading columns...</label></div><div ng-hide=loadingColumns><ep-editor-control column=columnList value=meta.column></ep-editor-control></div></div><ep-editor-control column=columnBinding value=config.binding></ep-editor-control></div><div class="preview tab-pane fade"><textarea class="form-control alert-info" ng-model=meta.preview style="min-height: 400px; min-width: 300px"></textarea></div></div></div></div><!--<ep-editor-control column="viewList" value="meta.view"></ep-editor-control>\r\n\r\n                    <div ng-if="meta.view">\r\n                        <div class="text-center" ng-show="loadingColumns">\r\n                            <i class="fa fa-spinner fa-spin fa-2x"></i><label>loading columns...</label>\r\n                        </div>\r\n                        <div ng-hide="loadingColumns">\r\n                            <ep-editor-control column="columnList" value="meta.column"></ep-editor-control>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <ep-editor-control column="columnBinding" value="config.binding"></ep-editor-control>--></div>'),a.put("src/components/ep.binding/controls/ep-binding-table.html","<ep-table ng-if=ready data=state.data track-selected-row=trackSelectedRow column-headers={{headers}} column-properties={{dataColumns}} striped=true class={{activeClass}} on-select-row=onSelectRow($row) on-double-click-row=dblClickRow($row)></ep-table>"),a.put("src/components/ep.binding/ep-binding.html","<!--This is a partial for the ep-binding directive --><div class=ep-binding></div>"),a.put("src/components/ep.card/ep-card-block-template.html","<div class=card-block ng-transclude></div>"),a.put("src/components/ep.card/ep-card-template.html",'<div><section class=ep-card><div class="card card-inverse card-primary text-center" ng-transclude></div></section></div>'),a.put("src/components/ep.card/ep-card-title-template.html","<div class=card-title ng-transclude></div>"),a.put("src/components/ep.card/ep-card.html","<!--This is a partial for the ep-card directive --><div class=ep-card></div>"),a.put("src/components/ep.chart/ep-chart-c3-legends.html",'<div class="ep-chart-c3-legends form-group"><span><label class=checkbox-inline><input type=checkbox ng-model=state.selectAllLegend ng-change=fnLegendSelectAllChanged()>All</label></span><div ng-repeat="item in menuLegends"><button type=button class="btn btn-sm btn-block" ng-class="{\'ep-legend-off\': item.checked !== true}" ng-style=item.style ng-model=item.checked uib-btn-checkbox ng-click=fnOnLegendChanged(item)>{{item.caption}}</button></div></div>'),a.put("src/components/ep.chart/ep-chart-c3.html",'<div class=ep-chart-c3 ep-chart-id=state.chartId><div class="ep-chart-options form-group" ng-if="settings.showOptions !== false"><div class=checkbox><div ng-if=state.optLegendListDisplay class="ep-c3-legend-btn btn-group" dropdown><button id=split-button type=button class="btn btn-default btn-sm" uib-popover-template="\'src/components/ep.chart/ep-chart-c3-legends.html\'" popover-placement=bottom-left popover-title=Legend popover-trigger="" ng-click=fnOnLegendList()>Legend</button></div><span ng-if=state.optStackedDisplay><label class=radio-inline><input name=optradio type=radio value=grouped ng-model=state.optStacked ng-change=fnOptStackedChanged()>Grouped</label><label class=radio-inline><input name=optradio type=radio value=stacked ng-model=state.optStacked ng-change=fnOptStackedChanged()>Stacked</label></span> <span ng-if=state.optDataFmtDisplay><label class=radio-inline><input name=optradio type=radio value=percent ng-model=state.optDataFmt ng-change=fnOptDataFmtChanged()>Percent</label><label class=radio-inline><input name=optradio type=radio value=value ng-model=state.optDataFmt ng-change=fnOptDataFmtChanged()>Value</label></span> <span ng-if=state.optZoomDisplay style="margin-left: 10px"><label class=checkbox-inline><input type=checkbox ng-model=state.optZoom ng-change=fnOptZoomChanged()>Zoom</label></span> <span ng-if="state.optZoomDisplay && state.optZoom && state.optZoomTip" ng-click="state.optZoomTip = false" class="well ep-fadein-animation" style="margin-left: 10px">to zoom-in select an area on the lower chart; to zoom-out double click on the lower chart.</span> <span ng-if=state.optLegendDisplay style="margin-left: 5px" class=ep-opt-legend><label class=checkbox-inline><a ng-click=fnOptLegendChanged()>{{state.optLegend ? \'Hide legend\' : \'Show legend\' }}</a></label></span> <span ng-if="!state.optLegendDisplay && state.criteriaHideLegend && state.legendSupported && settings.legendHiddenText !== \'\'" class=ep-opt-legend-hidden><label class=checkbox-inline>{{settings.legendHiddenText || \'[legend hidden]\'}}</label></span></div></div><div class=ep-chart-div><div id=chartc3></div></div></div>'),a.put("src/components/ep.color.selector/color_selector.html",'<div class="ep-color-selector-container vertical-align" ng-style="{ \'width\': width }"><div class=input-group><input class=form-control value="{{ngModel}}"><div class=input-group-btn><button type=button class="btn btn-default dropdown-toggle" colorpicker colorpicker-parent=true ng-attr-colorpicker-close-on-select="{{closeOnSelect == \'true\' ? \'\' : undefined}}" colorpicker-position="{{position ? position : \'bottom\'}}" colorpicker-size="{{size ? size : 100}}" ng-model=ngModel ng-style="applyColorToBtn == \'true\' && {\'background-color\': ngModel}"><span class="fa {{icon ? icon : \'fa-eyedropper\'}}"></span></button></div></div></div>'),a.put("src/components/ep.color.tile/ep-color-tile.html",'<!-- Color Tile Component --><div class="ep-color-tile ep-align-container {{colorclass}}" ng-style="{\'background-color\': color}"><h3>{{title}}</h3><h5>{{description}}</h5><small>{{fineprint}}</small><div class="ep-color-tile-icon ep-align-content ep-align-vcenter"><i class="fa {{icon}}"></i></div></div>'),a.put("src/components/ep.contacts.list/contacts_list.html",'<div class=ep-contacts-list-container><!--Calling filter list component for search option--><ep-filter-list search-by=contactListSearch count=items.count></ep-filter-list><!--Header as optional--><div class=ep-contact-sub-header><label class=ep-contact-sub-header-label ng-click=filter()>Filter</label><label class=ep-contact-sub-header-label ng-click=sort()>Sort</label><span class=pull-right style=padding-right:5% ng-click=add()><i class="fa fa-plus-square-o fa-2x" aria-hidden=true style=color:#129ff4></i></span></div><!--List area--><div class=ep-contacts-list><div class=ep-contacts-list-inner ng-if="groupBy==\'true\'"><div ng-repeat="(key, value) in nameList"><div class=ep-group-heading ng-if="filterVal.length > 0" id="list-group-{{key == \'#\' ? 1 : (key | uppercase)}}">{{key | uppercase}}</div><ul><li ng-repeat="obj in filterVal = (value | filter: contactListSearch)" ng-click=handler(obj)><div class="row mainTitle"><div class=col-xs-7><label>{{ obj[mainTitle] }}</label></div><div class="col-xs-3 text-right">{{obj[id]}}</div></div><div class="pull-right ep-contact-list-arrow" ng-class="{\'ep-contact-list-subtitle-arrow\':subTitle && !additionalTitle, \'ep-contact-list-maintitle-arrow\': !subTitle && !additionalTitle, \'ep-contact-list-additionalTitle-arrow\': additionalTitle}"><i class="fa fa-angle-right fa-2x"></i></div><div ng-if=subTitle class=subTitle><span ng-show="{{obj[setTitles[0]].length>=1}}">{{obj[setTitles[0]]}}</span><span ng-show="{{obj[setTitles[1]].length>=1}}"><span ng-show="{{obj[setTitles[0]].length>=1}}">,&nbsp</span>{{obj[setTitles[1]]}}</span><span ng-show="{{obj[setTitles[2]].length>=1}}"><span ng-show="{{obj[setTitles[0]].length>=1}} || {{obj[setTitles[1]].length>=1}}">,&nbsp</span>{{obj[setTitles[2]]}}</span></div><div class=additionalTitle ng-if=additionalTitle>{{obj[additionalTitle]}}</div></li></ul></div></div><div class=ep-contacts-list-inner ng-if="groupBy==\'false\'"><ul><li ng-repeat="obj in nameList | filter: contactListSearch" ng-click=handler(obj)><div class="row mainTitle"><div class=col-xs-7><label>{{ obj[mainTitle] }}</label></div><div class="col-xs-3 text-right">{{obj[id]}}</div></div><div class="pull-right ep-contact-list-arrow" ng-class="{\'ep-contact-list-subtitle-arrow\':subTitle && !additionalTitle, \'ep-contact-list-maintitle-arrow\': !subTitle && !additionalTitle, \'ep-contact-list-additionalTitle-arrow\': additionalTitle}"><i class="fa fa-angle-right fa-2x"></i></div><div ng-if=subTitle class=subTitle><span ng-show="{{obj[setTitles[0]].length>=1}}">{{obj[setTitles[0]]}}</span><span ng-show="{{obj[setTitles[1]].length>=1}}"><span ng-show="{{obj[setTitles[0]].length>=1}}">,&nbsp</span>{{obj[setTitles[1]]}}</span><span ng-show="{{obj[setTitles[2]].length>=1}}"><span ng-show="{{obj[setTitles[0]].length>=1}} || {{obj[setTitles[1]].length>=1}}">,&nbsp</span>{{obj[setTitles[2]]}}</span></div><div class=additionalTitle ng-if=additionalTitle>{{obj[additionalTitle]}}</div></li></ul></div></div><!--Index--><ul ng-if="groupBy==\'true\'" class="ep-index-list large-index-list" ng-hide=contactListSearch><li ng-repeat="(key, value) in nameList" ng-click=goToLink(key)>{{key}}</li></ul><!--Index for smaller device screen--><ul ng-if="groupBy==\'true\'" class="ep-index-list small-index-list" ng-hide=contactListSearch><li ng-repeat="key in smallIndexKeys track by $index" ng-click="goToLink(key, $index)"><span ng-if="key == \'.\'" class="fa fa-circle"></span> <span ng-if="key !=\'.\'">{{key}}</span></li></ul></div>'),a.put("src/components/ep.customization/ep-customization-container.html",'<div class="row ep-customization-container" ng-style=state.style><div ng-repeat="control in state.controls | orderBy:orderByControls" class="ep-custom-element {{control.class}}" id={{control.id}} ep-drop-area drop-handler=handleDrop1 drop-item-types=ep-custom-element drop-enabled=epCustomizationInfo.isCustomizeActive ep-draggable drag-enabled=epCustomizationInfo.isCustomizeActive drag-item=control drag-item-type="\'ep-custom-element\'"><ep-binding-editor ng-if="control.type === \'binding-editor\'" ep-binding=control.binding column=control.props></ep-binding-editor><ep-editor-control ng-if="control.type === \'editor-control\'" value=epCustomizationInfo.data[control.columnName] column=control.props></ep-editor-control><ep-include ng-if="control.type === \'html\'" user-data=epCustomizationInfo.data template-scope=epCustomizationInfo.parentScope template=control.props.html template-style=control.props.style></ep-include></div></div>'),a.put("src/components/ep.customization/ep-customization-editor-box.html",'<div ng-if="config.editorOptions.type === \'html\'"><script type=text/ng-template id=sample-panel.html><div class="well panel panel-default">\r\n            <div class="panel-heading panel-heading-small">\r\n                Your panel header goes here\r\n            </div>\r\n            <div class="panel-body ep-padding-none">\r\n                Your panel body goes here\r\n            </div>\r\n            <div class="panel-footer">\r\n                Your panel footer goes here                \r\n            </div>\r\n        </div></script><script type=text/ng-template id=sample-color-tile.html><div>\r\n            <ep-color-tile title="Customer Address" description="{{CustomerAddress}}" fineprint="" icon="fa-refresh" color="deepskyblue"></ep-color-tile>\r\n        </div></script><script type=text/ng-template id=sample-button.html><div>\r\n            <button class="btn btn-default" ng-click="someFunction()">Your Button Text</button>\r\n        </div></script><ep-editor-control column=config.editorOptions.sampleCol value=config.editorOptions.sampleVal></ep-editor-control></div><textarea style="width:100%; height: 300px; border: solid; border-width: thin" ng-model=config.editText autofocus></textarea>'),a.put("src/components/ep.customization/ep-customization-eptable.html",'<!--This is a partial for the ep-customization directive --><div class="ep-customization-record-editor ep-padding-top ep-padding-bottom"><div class=text-center ng-show=loadingColumns><i class="fa fa-spinner fa-spin fa-2x"></i></div><div class=text-center ng-hide=loadingColumns><ep-editor-control column=columnList value=column.name></ep-editor-control></div><ep-editor-control column=colCaption value=curColProps.caption></ep-editor-control><ep-editor-control column=colHidden value=curColProps.hidden></ep-editor-control><ep-editor-control column=colReadOnly value=curColProps.readonly></ep-editor-control><hr><button ng-hide=curColCtx type=button class="btn btn-primary btn-block ep-padding-top" ng-click=addColumn()>Add Column</button> <button ng-show="curColCtx && curColCtx.isCustom" type=button class="btn btn-primary btn-block ep-padding-top" ng-click=removeColumn()>Remove Column</button></div>'),a.put("src/components/ep.customization/ep-customization-freeform.html",'<!--This is a partial for the ep-customization directive --><div class=ep-customization-freeform style="padding-bottom: 5px"><ep-editor-control column=controlsList value=state.control></ep-editor-control><div ng-show="state.control === \'$new\'"><ep-editor-control column=controlKinds value=state.controlKind></ep-editor-control><ep-editor-control column=colId value=curColProps.id></ep-editor-control></div><div ng-show="state.control === \'$container\'"><ep-editor-control column=colStyle value=curColProps.style></ep-editor-control><ep-editor-control column=colContainerScript value=curColProps.script></ep-editor-control></div><div ng-show="state.controlKind == \'editor\'"><div ng-hide="state.control === \'$new\'"><ep-editor-control column=colBinding value=curColProps.binding></ep-editor-control><ep-editor-control column=colCaption value=curColProps.caption></ep-editor-control><ep-editor-control column=colHidden value=curColProps.hidden></ep-editor-control><ep-editor-control column=colReadOnly value=curColProps.updatable></ep-editor-control><ep-editor-control column=colStyle value=curColProps.style></ep-editor-control><ep-editor-control column=colValidate value=curColProps.validate></ep-editor-control></div></div><div ng-show="state.controlKind == \'html\'"><div ng-hide="state.control === \'$new\'"><ep-editor-control column=colHTML value=curColProps.html></ep-editor-control><ep-editor-control column=colStyle value=curColProps.style></ep-editor-control></div></div><button ng-show="state.control === \'$new\'" class="btn btn-primary btn-block" ng-click=addColumn() style="margin-right: 15px"><i class="fa fa-plus"></i> Add Control</button> <button ng-hide="state.control === \'$new\' || state.control === \'$container\' || !state.control" class="btn btn-primary btn-block" ng-click=removeColumn() style="margin-right: 15px"><i class="fa fa-minus"></i> Remove Control</button></div>'),a.put("src/components/ep.customization/ep-customization-manage.html",'<div class="well panel panel-default" style="max-width: 300px" ng-controller=epCustomManageCtrl><div class="panel-heading panel-heading-small"><div class=ep-align-hcenter>Actions</div></div><div class="panel-body ep-padding-none"><button type=button class="btn btn-primary btn-block ep-padding-top" ng-click=btnClickClearAllCustomizations()>Clear All Customizations</button> <button type=button class="btn btn-primary btn-block ep-padding-top" ng-click=btnClickExport()>Export</button> <button type=button class="btn btn-primary btn-block ep-padding-top" ng-click="config.manage.showImport = !config.manage.showImport">Import</button> <input ng-show="config.manage.showImport === true" input id=file type="file"></div></div>'),a.put("src/components/ep.customization/ep-customization-record-editor.html",'<!--This is a partial for the ep-customization directive --><div class="ep-customization-record-editor ep-padding-top ep-padding-bottom"><ep-editor-control column=columnList value=column.name></ep-editor-control><div><a ng-hide="curColCtx || !column.name" class="btn btn-primary pull-right" ng-click=addColumn() style="margin-right: 15px"><i class="fa fa-plus"></i> Add Column</a> <a ng-show="curColCtx && curColCtx.col.isCustom" class="btn btn-primary pull-right" ng-click=removeColumn() style="margin-right: 15px"><i class="fa fa-remove"></i> Remove Column</a></div><div ng-show="curColCtx && column.name"><ep-editor-control column=colCaption value=curColProps.caption></ep-editor-control><ep-editor-control column=colHidden value=curColProps.hidden></ep-editor-control><ep-editor-control column=colReadOnly value=curColProps.readonly></ep-editor-control><ep-editor-control column=colStyle value=curColProps.style></ep-editor-control><ep-editor-control column=colValidate value=curColProps.validate></ep-editor-control></div></div>'),a.put("src/components/ep.customization/ep-customization.html",'<!--This is a partial for the ep-customization directive --><div class="ep-customization container" style="width:250px; padding: 2px"><nav class="ep-main-navbar navbar-sm navbar-default navbar-fixed"><ul class="nav navbar-nav align-right" ng-controller1=NavCtrl><li><a class="ep-navbar-button fa fa-cog fa-2x" ng-click=btnClickManage()></a></li><li><a class="ep-navbar-button fa fa-save fa-2x" ng-click=btnClickSave()></a></li><li><a class="ep-navbar-button fa fa-times fa-2x" ng-click=btnClickClearCustomization()></a></li></ul></nav><div class="well row"><ep-editor-control column=customizationsList value=customListValue></ep-editor-control><div ng-if="customization && customization.kind === \'ep-record-editor\'"><ep-customization-record-editor customization-data=customizationData></ep-customization-record-editor></div><div ng-if="customization && customization.kind === \'ep-customizable-freeform\'"><ep-customization-freeform customization-data=customizationData></ep-customization-freeform></div><div ng-if="customization && customization.kind === \'ep-table\'"><ep-customization-eptable customization-data=customizationData></ep-customization-eptable></div><hr><!--<button ng-if="customization" type="button" class="btn btn-primary btn-block ep-padding-top" ng-click="btnClickSave()">Save</button>\r\n        <button ng-if="customization" type="button" class="btn btn-primary btn-block ep-padding-top" ng-click="btnClickClearCustomization()">Clear Customization</button>\r\n        <button type="button" class="btn btn-primary btn-block ep-padding-top" ng-click="btnClickClearAllCustomizations()">Clear All Customizations</button>\r\n        <button type="button" class="btn btn-primary btn-block ep-padding-top" ng-click="btnClickExport()">Export</button>\r\n        <button type="button" class="btn btn-primary btn-block ep-padding-top" ng-click="showImport = !showImport">Import</button>\r\n        <input ng-show="showImport === true" input id="file" type="file"  />--></div></div>'),a.put("src/components/ep.datagrid/datagrid-dialog.html",'<div class="form-group ep-datagrid-dialog" ng-class=config.gridClass><ep-data-grid ep-data-grid-on-init=config.onDataGrid(factory)></ep-data-grid></div>'),a.put("src/components/ep.datagrid/datagrid-filter/datagrid-filter-row.html",'<tr id=rowFilter class=ep-datagrid-filter-row ng-show="state.filterShowFlag === true"><th ng-repeat="ctx in state.filterEditors" class=ep-datagrid-filter-header ng-class=ctx.className><div ng-if="ctx.hidden !== true"><div class="ep-datagrid-filter-group input-group"><span class="ep-datagrid-filter-op input-group-addon fa-stack fa-lg" ng-click=fnFilterOpChange(ctx)><i class="ep-datagrid-filter-op-icon fa fa-circle-thin fa-stack-2x"></i> <i class="ep-datagrid-filter-text fa-stack-1x fa" ng-class="{\'fa-asterisk\': ctx.operator === \'*\', \'\': ctx.operator !== \'*\' }" operator={{ctx.operator}} col={{ctx.columnIndex}} id=filterOp_{{ctx.columnIndex}}>{{ctx.operatorText}}</i></span> <input class="col-md-8 form-control editor" style="color: black" ng-model=ctx.value type={{ctx.type}} col={{ctx.columnIndex}} colname={{ctx.columnName}} operator={{ctx.operator}} id=filterInput_{{ctx.columnIndex}} ng-blur=fnFilterBlur(ctx) ng-keyup="fnFilterKeyUp(ctx, $event)" name="filterInput_{{ctx.columnIndex}}"></div></div></th></tr>'),a.put("src/components/ep.datagrid/datagrid-summary/datagrid-summary-row.html",'<th ng-repeat="ctx in state.summaryRow.columns" class=ep-dg-summary-col ng-class=ctx.className><div ng-if=ctx.value>{{ctx.value}}</div><div ng-if=ctx.valueList ng-repeat="v in ctx.valueList">{{v.value}}</div></th>'),a.put("src/components/ep.datagrid/datagrid.html",'<div class=ep-data-grid id={{state.dataGridId}} ng-class="{\'ep-data-grid-child\' : state.isChildGrid}"><div class="ep-dg-grid-search clearfix" ng-show=state.allowSearchInput ng-class="(options.showConfigButton === true) ? \'input-group\' : \'\'"><span ng-show="options.showConfigButton === true" class="ep-dg-config input-group-addon"><ep-dropdown-btn menu=configmenu icon=""></ep-dropdown-btn></span> <input class="ep-dg-search-input form-control input-sm pull-left" name=search type=search placeholder=Search ng-class=searchInputClass ng-model=state.searchValue ng-init=fnOnSearchBlur() ng-blur=fnOnSearchBlur($event) ng-focus=fnOnSearchFocus($event) ng-keyup=fnOnSearchKeyUp($event) ng-change="fnOnSearchChange($event)"> <span class="ep-dg-search-icon-overlay pull-right" ng-class="{\'invisible\': state.searchValue + \'\' === \'\'}" ng-click=clearSearch()><i class="fa fa-lg fa-times"></i></span></div><div ng-if=options.showHeaderSection class="panel-footer ep-datagrid-header-section" ng-controller=headerSectionController><div ng-if=state.headerSectionTemplate ng-bind-html=state.headerSectionTemplate></div><div ng-if=state.headerSectionTemplateUrl ng-include=state.headerSectionTemplateUrl></div></div><div id=tblArea_{{state.dataGridId}} class=ep-dg-grid-table-area><table id=tbl_{{state.dataGridId}} cellpadding=0 cellspacing=0 border=0 class="ep-dg-grid-table table table-bordered table-hover" fixed-header></table><div class=ep-dg-progressIndicator ng-show=showProgress><span class="fa fa-spinner fa-pulse fa-5x"></span></div></div><div ng-if=options.showFooterSection class="panel-footer ep-datagrid-footer-section" ng-controller=footerSectionController><div ng-if=state.footerSectionTemplate ng-bind-html=state.footerSectionTemplate></div><div ng-if=state.footerSectionTemplateUrl ng-include=state.footerSectionTemplateUrl></div></div></div>'),a.put("src/components/ep.datagrid/ep.datagrid.json/ep-datagrid-json.html",'<div class="form-group ep-datagrid-simple" ng-class=gridClass><ep-data-grid ep-data-grid-on-init=onDataGrid(factory)></ep-data-grid></div>'),a.put("src/components/ep.dock.panel/epDockPanel.html","<div class=\"ep-dock-panel ep-fullscreen\" id={{panelId}} ng-style=\"{ 'flex-flow': mainFlow}\"><div id={{id}}_left class=ep-dock-panel-left ng-show=leftVisible ng-style=\"{ 'flex': leftFlex, 'flex-flow': leftFlow, 'justify-content': leftJustify }\"></div><div id={{id}}_right class=ep-dock-panel-right ng-show=rightVisible ng-style=\"{ 'flex': rightFlex, 'flex-flow': rightFlow, 'justify-content': rightJustify  }\"></div><div id={{id}}_top class=ep-dock-panel-top ng-show=topVisible ng-style=\"{ 'flex': topFlex, 'flex-flow': topflow, 'justify-content': topJustify  }\"></div><div id={{id}}_bottom class=ep-dock-panel-bottom ng-show=bottomVisible ng-style=\"{ 'flex': bottomFlex, 'flex-flow': bottomFlow, 'justify-content': bottomJustify  }\"></div><div id={{id}}_cross class=ep-dock-panel-cross-axis ng-style=\"{ 'flex-flow': crossFlow, 'flex': crossFlex }\"><div id={{id}}_center class=ep-dock-panel-center ng-show=centerVisible ng-style=\"{ 'flex':centerFlex, 'flex-flow': centerflow, 'justify-content': centerJustify  }\"></div></div><div ng-show=false id=transclusion ng-transclude></div></div>"),a.put("src/components/ep.dropdown/ep-dropdown-btn/ep-dropdown-btn.html",'<!--This is a partial for the ep-dropdown directive --><div class=ep-dropdown-btn><div class=row><div class=col-lg-12><div class=button-group><button type=button class="btn btn-default btn-sm dropdown-toggle" data-toggle=dropdown><span ng-class="icon ? icon : \'glyphicon glyphicon-cog\'"></span> <span class=caret></span></button><ul class=dropdown-menu><li ng-repeat="item in menu" ng-hide="item.visible === false"><a href=# ng-click="menuClick(item, $event)" class=small tabindex=-1><input type=checkbox class=ep-dropdown-btn-chk ng-model="item.checked">&nbsp;{{item.caption}}</a></li></ul></div></div></div></div>'),a.put("src/components/ep.embedded.apps/embedded-apps.html",'<div id=appHost><div id=splash ng-if=appConfig.splash ng-show=showSplash ep-animation options=appConfig.splash.transition><div id=splashContainer ng-include="getEmbeddedAppPath(appConfig.id, appConfig.splash.templateUrl)"></div></div><div id=appContent ng-show=showApp ep-animation options=currentView.transition><ep-embedded-apps-loader config=appConfig on-complete=onLoaderComplete()></ep-embedded-apps-loader></div></div>'),a.put("src/components/ep.filter.list/filter_list.html",'<div class=ep-search-list-container><div class=row><div class=col-xs-10><span class="fa fa-search ep-pad-left-10"></span> <input id=searchinput class="search-query form-control" ng-focus="showRemove=true" ng-model=searchBy placeholder=Search ng-change="changeHandler(searchBy)"> <span class="fa fa-remove text-danger" ng-if=showRemove ng-click=clearSearch()></span></div><div class="col-xs-2 result-count-container text-center"><div>{{count}}</div><div>Results</div></div></div></div>'),a.put("src/components/ep.icon.selector/icon_selector.html",'<div class=ep-icon-selector-container ng-style="{ \'width\': width }"><div class=input-group><input class=form-control ng-model=ngModel><div class=input-group-btn><button type=button class="btn btn-default dropdown-toggle" data-toggle=dropdown aria-expanded=false><span class="fa {{ngModel}}"></span></button><div class="dropdown-menu dropdown-menu-right" role=menu ng-style="{ \'width\': iconListWidth }"><div class="icon-filter-field vertical-align text-center"><input class=form-control placeholder="Type to filter" ng-model=filteredIcon></div><ul class=icon-list ng-style="{ \'max-height\': iconListHeight }"><li ng-repeat="icon in icons | orderBy | filter: filteredIcon" ng-click=selectIcon(icon)><span class="fa fa-{{icon}}"></span>fa-{{icon}}</li></ul></div></div></div></div>'),a.put("src/components/ep.list/ep-list.html",'<div class=ep-list-container><!--Calling filter list component for search option--><ep-filter-list search-by=contactListSearch count=items.count></ep-filter-list><!--Header as optional--><div class=ep-contact-sub-header ng-if="subHeader == \'true\'"><label class=ep-contact-sub-header-label ng-click=filter()>Filter</label><label class=ep-contact-sub-header-label ng-click=sort()>Sort</label><span class=pull-right style=padding-right:5% ng-click=add()><i class="fa fa-plus-square-o fa-2x" aria-hidden=true style=color:#129ff4></i></span></div><div class=ep-list ng-class="{\'ep-list-header-padding\':subHeader == \'true\'}"><div class=ep-list-inner ng-if=groupBy><div ng-repeat="(key, value) in data"><div class=ep-group-heading ng-if="filterVal.length > 0">{{key}}</div><ul><li ng-repeat="obj in filterVal = (value | filter: contactListSearch)" ng-click=handler(obj)><div class="row mainTitle"><div class=col-xs-7><label>{{ obj[mainTitle] }}</label></div><div class="col-xs-3 text-right">{{obj[id]}}</div></div><div class="pull-right ep-list-arrow" ng-if="arrow == \'true\'" ng-class="{\'ep-contact-list-subtitle-arrow\':subTitle && !additionalTitle, \'ep-contact-list-maintitle-arrow\': !subTitle && !additionalTitle, \'ep-contact-list-additionalTitle-arrow\': additionalTitle}"><i class="fa fa-angle-right fa-2x"></i></div><div ng-if=subTitle class=subTitle><span ng-show="{{obj[subTitles[0]].length>=1}}">{{isAmount(obj[subTitles[0]]) ? (obj[subTitles[0]] | currency) : obj[subTitles[0]]}}</span> <span ng-show="{{obj[subTitles[1]].length>=1}}"><span ng-show=showCommaSeparator(obj[subTitles[0]])>,&nbsp;</span> {{obj[subTitles[1]]}}</span> <span ng-show="{{obj[subTitles[2]].length>=1}}"><span ng-show="showCommaSeparator(obj[subTitles[0]], obj[subTitles[1]])">,&nbsp;</span> {{obj[subTitles[2]]}}</span></div><div ng-if=additionalTitle class=additionalTitle>{{obj[additionalTitle]}}</div><div ng-if=statuses class=statuses><div class=status-period>{{obj[statusesArr[0]]}}</div><div class="status status-text" ng-class="{\'text-success\': ([\'Open\', \'Shipped\', \'Invoiced\'].indexOf(obj[statusesArr[1]]) !== -1), \'text-warning\': (obj[statusesArr[1]] === \'On Hold\'), \'text-danger\': (statusesNotDanger.indexOf(obj[statusesArr[1]]) === -1)}">{{obj[statusesArr[1]]}}</div><div class="status-source text-success">{{obj[statusesArr[2]]}}</div></div></li></ul></div></div><div class=ep-list-inner ng-if=!groupBy><ul><li ng-repeat="obj in data | filter: contactListSearch" ng-click=handler(obj)><div class="row mainTitle"><div class="col-xs-1 pull-left" ng-if=icon><i class="fa {{icon}}"></i></div><div class=col-xs-7><label>{{ obj[mainTitle] }}</label></div><div class="col-xs-3 text-right">{{obj[id]}}</div></div><div class="pull-right ep-list-arrow" ng-if="arrow == \'true\'" ng-class="{\'ep-contact-list-subtitle-arrow\':subTitle && !additionalTitle, \'ep-contact-list-maintitle-arrow\': !subTitle && !additionalTitle, \'ep-contact-list-additionalTitle-arrow\': additionalTitle}"><i class="fa fa-angle-right fa-2x"></i></div><div ng-if=subTitle class=subTitle><span ng-show="{{obj[subTitles[0]].length>=1}}">{{isAmount(obj[subTitles[0]]) ? (obj[subTitles[0]] | currency) : obj[subTitles[0]]}}</span> <span ng-show="{{obj[subTitles[1]].length>=1}}"><span ng-show=showCommaSeparator(obj[subTitles[0]])>,&nbsp;</span> {{obj[subTitles[1]]}}</span> <span ng-show="{{obj[subTitles[2]].length>=1}}"><span ng-show="showCommaSeparator(obj[subTitles[0]], obj[subTitles[1]])">,&nbsp;</span> {{obj[subTitles[2]]}}</span></div><div class=additionalTitle ng-if=additionalTitle>{{obj[additionalTitle]}}</div><div ng-if=statuses class=statuses><div class="status status-period">{{obj[statusesArr[0]]}}</div><div class="status status-text" ng-class="{\'text-success\': ([\'Open\', \'Shipped\', \'Invoiced\'].indexOf(obj[statusesArr[1]]) !== -1), \'text-warning\': (obj[statusesArr[1]] === \'On Hold\'), \'text-danger\': (statusesNotDanger.indexOf(obj[statusesArr[1]]) === -1)}">{{obj[statusesArr[1]]}}</div><div class="status status-source text-success">{{obj[statusesArr[2]]}}</div></div></li></ul></div></div></div>'),
a.put("src/components/ep.menu.builder/context.menu/ep-context-menu.html",'<span class="ep-relative ep-context-menu-owner"><span class="ep-actionset ep-interactivity-context-menu"><span class=ep-context-menu ng-click=contextMenuCtrl.onDynamicMenuCall($event)></span></span></span>'),a.put("src/components/ep.menu.builder/dynamic.menu/ep-dynamic-menu.html",'<div id=ep-dynamic-menu ng-show=dynamicMenuCtrl.menuItems><ul class="dropdown-menu ep-actions-menu list-unstyled noselect" role=menu><li ng-repeat="menuItem in dynamicMenuCtrl.menuItems" ng-switch=menuItem.type><a ng-switch-when=action class=ep-actions-menu-item ng-click="dynamicMenuCtrl.invokeAction($event, menuItem, dynamicMenuCtrl.context)"><span class="icon {{menuItem.icon}}"></span><span>{{::menuItem.caption}}</span></a><div ng-switch-when=separator class=ep-actions-menu-item-separator></div></li><li class=ep-actions-menu-item-mobile><a class="ep-actions-menu-item edd-red separate" ng-click=dynamicMenuCtrl.closeMenu()><span class="icon icon-clear"></span><span>Close</span></a></li></ul></div>'),a.put("src/components/ep.modaldialog/modals/modaldialog-custom.html",'<div id=modaldialog class="ep-modaldialog ep-modaldialog-custom"><div id=dialog-header class="modal-header ep-modal-header ep-padding-none"><span class=close ng-show=config.closeButton><a class="fa fa-times fa-lg ep-navbar-button" data-dismiss=modal aria-label=Close ng-click="btnclick({isCancel: true})"></a></span> <span class=help ng-show=config.helpTemplateOptions><a class="fa fa-question-circle fa-lg ep-navbar-button" ng-click=helpButtonClick()></a></span><h4 id=dialogTitle class="bg-primary modal-title ep-margin-none clearfix"><span class="ep-dlg-title-icon {{config.icon}}"></span> <span class=ep-dlg-title ng-bind=config.fnGetTitle()></span></h4></div><div id=dialog-area class="modal-body ep-modal-area"><form id=dialogForm name=dialogForm><uib-alert ng-show=showHelp type=info close=closeHelp()><ep-include options=config.helpTemplateOptions></ep-include></uib-alert><!--<div ng-include="config.templateUrl"></div>--><ep-include options=config.templateOptions></ep-include><div class="ep-dlg-rememberMe col-md-10" ng-show=config.rememberMe><div class=form-group><div class="row col-md-1"><input tabindex=1 id=cbxRemember class=form-control type=checkbox ng-model=config.rememberMeValue></div><label class="col-md-10 control-label">Do not show this message again</label></div></div></form></div><div id=dialog-footer class="modal-footer ep-modal-footer" ng-show="config.buttons && config.buttons.length"><div class=ep-dlg-buttons><button ng-repeat="btn in config.buttons" id={{btn.id}} tabindex="$index + 100" data-dismiss=modal ng-hide=btn.hidden ng-disabled="btn.isPrimary && !dialogForm.$valid" class="btn btn-{{btn.type}} {{config.btnBlock == true ? \'btn-block\':\'\'}}" ng-click=btnclick(btn)><i ng-if=btn.icon ng-class=btn.icon></i> &nbsp;{{btn.text}}</button></div></div><div id=dialog-status class=ep-dlg-status ng-show=config.statusBar><h4 class="bg-primary modal-title"><span ng-if=!config.statusBarTextHTML ng-bind=config.statusBarText></span> <span ng-if=config.statusBarTextHTML ng-bind-html=config.statusBarTextHTML></span></h4></div></div>'),a.put("src/components/ep.modaldialog/modals/modaldialog-error.html",'<!--Custom Dialog Error Template--><div id=modal-error class="ep-modaldialog-error ep-error-dialog" ng-controller=epModalDialogErrorCtrl><section ng-if=config.callFnHideModalError ng-hide=config.fnHideModalError()></section><div class="alert clearfix ep-dialog-alert" ng-class=config.statusClass><table class=ep-dlg-bodytable><tr><td><span ng-if=config.showSpinner class="ep-dlg-icon fa-stack fa-2x"><i class="ep-dlg-spinner-icon fa fa-spin fa-stack-2x" ng-class=config.spinnerIconClass></i> <i ng-if=config.showTimer class="ep-dlg-spinner-text fa fa-stack-1x {{config.spinnerTextClass}}" ng-class=config.spinnerTextClass>{{config.countDown}}</i></span> <span ng-if=!config.showSpinner class=ep-dlg-icon><i class="fa fa-3x" ng-class=config.statusIcon></i></span></td><td><span class=ep-dlg-message ng-class=config.messageClass ng-bind=config.fnGetMessage()></span></td></tr></table></div><div class=ep-message-details ng-show=config.messageDetails><a href="" ng-click="config.showDetails = !config.showDetails;">{{config.showDetails ? \'Hide details\': \'Show details\'}}</a><div ng-show=config.showDetails><textarea ng-model=config.messageDetails ng-readonly=true disabled></textarea></div></div></div>'),a.put("src/components/ep.modaldialog/modals/modaldialog-pane.html",'<div class="ep-modaldialog ep-modaldialog-pane ep-ease-animation ep-hide-fade" ng-hide=!dialogState.isVisible><div class=ep-dlg-container ng-class=config.containerClass><div class="ep-dlg-center clearfix"><span class="ep-dlg-icon pull-left" ng-class=config.iconClass style="margin-right: 10px; margin-top: 5px"><span ng-if=config.showSpinner class="ep-dlg-icon fa-stack fa-2x"><i class="ep-dlg-spinner-icon fa fa-spin fa-stack-2x" ng-class=config.spinnerIconClass></i> <i ng-if=config.showTimer class="ep-dlg-spinner-text fa fa-stack-1x" ng-class=config.spinnerTextClass>{{config.countDown}}</i></span> <i ng-if=!config.showSpinner ng-class=config.icon></i></span><div class=pull-left><span class=ep-dlg-title ng-class=config.titleClass ng-bind=config.fnGetTitle()></span><p class=ep-dlg-message ng-class=config.messageClass ng-bind=config.fnGetMessage()></p><div class="ep-dlg-rememberMe form-group" ng-show=config.rememberMe><div class=checkbox><input tabindex=1 id=cbxRemember type=checkbox ng-model=config.rememberMeValue><label>Do not show this message again</label></div></div><!--<div class="ep-dlg-progress-indicator" ng-show="config.showProgress"><span class="fa fa-pulse fa-spinner fa-5x" ng-class="config.progressClass"></span></div>--><!--<div class="ep-dlg-progress-indicator" ng-show="config.showProgress && config.showTimer"><span ng-class="config.timerClass">{{config.countDown}}</span></div>--><div class=ep-dlg-buttons><button ng-repeat="btn in config.buttons" id=btn.id tabindex="$index + 100" data-dismiss=modal ng-hide=btn.hidden class="btn btn-{{btn.type}} btn-sm" ng-click=btnclick(btn)><i ng-if=btn.icon ng-class=btn.icon></i> &nbsp;{{btn.text}}</button></div></div></div></div></div>'),a.put("src/components/ep.multi.level.menu/ep-shell-menu/ep-shell-menu.html","<div ng-controller=epShellMenuCtrl><ep-multi-level-menu ng-if=\"menuOptions.menuType !== 'accordion'\" menu=menuOptions.menu menu-id=menuId search-disabled=menuOptions.searchDisabled sort-disabled=menuOptions.sortDisabled icon-disabled=menuOptions.iconDisabled init-favorites=menuOptions.initFavorites on-top-menu-click=onTopMenuClick on-menu-init=menuOptions.onMenuInit(factory)></ep-multi-level-menu><ep-accordion-menu ng-if=\"menuOptions.menuType === 'accordion'\" menu=menuOptions.menu menu-id=menuId main-header=\"menuOptions.title || 'Menu'\" favorites-header=\"menuOptions.favoritesHeader || 'Favorites'\" search-results-header=\"menuOptions.searchResultsHeader || 'Search Results'\" search-disabled=menuOptions.searchDisabled sort-disabled=menuOptions.sortDisabled icon-disabled=menuOptions.iconDisabled init-favorites=menuOptions.initFavorites on-top-menu-click=onTopMenuClick on-expand=menuOptions.onExpand commit-menu-state=commitMenuState on-menu-init=menuOptions.onMenuInit(factory)></ep-accordion-menu></div>"),a.put("src/components/ep.multi.level.menu/multi-level-menu.html",'<div class=ep-mlm-container ng-class="{\'ep-left-to-right\': !isRightToLeft, \'ep-right-to-left\': isRightToLeft}"><form class=ep-mlm-search ng-hide=searchDisabled><input class="form-control ep-mlm-search-input" placeholder=Search ng-model=state.searchTerm ng-change=search() ng-focus="isRightToLeft = false"></form><div ng-if=data.next class="ep-mlm-content ep-fadein-animation"><div ng-hide=state.searchTerm class=ep-mlm-header ng-class="{ \'pointer\': data.next._parent._id !== \'topmenu\'}" ng-click="navigate(data.next._parent, true, $event)"><span ng-if="data.next._parent._id !== \'topmenu\'" class="ep-mlm-back-button pull-left fa fa-lg fa-caret-left"></span> <span>{{data.next.caption}}</span></div><div ng-show=state.searchTerm class=ep-mlm-header><span>Search Results</span></div><ul><li ng-repeat="mi in currentItems | orderBy:orderByMenu" class="ep-mlm-item clearfix ep-repeat-animation"><div ng-if="mi.separator && !mi.separator.isBottom" class="ep-mlm-separator ep-mlm-separator-top {{mi.separator.class}}"><i ng-if=mi.separator.icon class="ep-mlm-separator-icon fa fa-lg pull-left {{mi.separator.icon}}"></i><div ng-if=mi.separator.text class=ep-mlm-separator-text>{{mi.separator.text}}</div></div><i ng-if="mi.icon && !iconDisabled" class="ep-mlm-icon fa fa-lg pull-left {{mi.icon}}"></i><div class="pull-left clearfix ep-mlm-item-div" ng-class="{ \'ep-mlm-item-div-icon\': mi.icon }" ng-click="navigate(mi, false, $event)"><div class="ep-mlm-item-text pull-left {{mi.captionClass}}" title={{mi.caption}}>{{mi.caption}}</div></div><i ng-if="(mi._type === \'item\' && mi.hideFavorite !== true)" class="ep-mlm-favorite fa fa-lg pull-right" ng-click="toggleFavorite(mi, $event)" ng-class="{ \'fa-star-o\': !mi.favorite, \'fa-star text-warning\': mi.favorite}"></i> <i ng-if="mi._type === \'menu\'" class="ep-mlm-submenu fa fa-lg fa-caret-right pull-right" ng-click="navigate(mi, false, $event)"></i><div ng-if="mi.separator && mi.separator.isBottom"><br><div class="ep-mlm-separator ep-mlm-separator-top {{mi.separator.class}}"><i ng-if=mi.separator.icon class="ep-mlm-separator-icon fa fa-lg pull-left {{mi.separator.icon}}"></i><div ng-if=mi.separator.text class=ep-mlm-separator-text>{{mi.separator.text}}</div></div></div></li></ul><uib-alert class="ep-mlm-alert ep-fadein-animation" ng-show="state.searchTerm && (!currentItems || currentItems.length === 0)" type=warning>The term "{{state.searchTerm}}" did not match any menu items.</uib-alert></div></div>'),a.put("src/components/ep.photo.browser/ep-photo-browser.html","<!--This is a partial for the ep-photo-browser directive --><div class=content ng-controller=epPhotoBrowserCtrl><ng-gallery images=images show-preview=showPreview></ng-gallery></div>"),a.put("src/components/ep.record.editor/editors/ep-checkbox-editor.html",'<section class="ep-editor-checkbox ep-center-item editor" tabindex=0 ng-keyup=handleKey($event) ng-click=ctx.toggleValue(ctx,$event) ng-hide=ctx.fnDoValidations()><span ng-class="{\'fa-square-o\': !value, \'fa-check-square-o\': value}" class="fa fa-{{ctx.checkBoxSize}}"></span></section>'),a.put("src/components/ep.record.editor/editors/ep-date-editor.html",'<section><input id=dd_{{ctx.name}} ng-model=value ep-date-convert=toDate ng-hide="true"><div class="input-group date datepicker" id=dp_{{ctx.name}} ng-if=!ctx.useDateInput><span class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'pre\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span> <input size=16 ep-date-convert=toString id={{ctx.name}} name={{ctx.name}} ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly class="form-control editor" ng-hide=ctx.fnDoValidations() ng-model=ctx.dateValue ng-change=ctx.fnOnChange($event) ng-blur=ctx.fnBlur($event) pattern={{ctx.pattern}} ng-keydown=ctx.fnDateKeyDown($event) uib-datepicker-popup={{ctx.format}} data-container=body datepicker-options111={{ctx.dateOptions}} placeholder={{ctx.format}} ng-pattern={{ctx.pattern}} is-open="ctx.dateOpened"> <span class=input-group-addon ng-click=ctx.fnDateOpen($event) ng-style="{ \'cursor\': ctx.disabled ? \'not-allowed\' : \'pointer\' }"><a ng-if=!ctx.disabled><i class="fa fa-calendar"></i></a> <i ng-if=ctx.disabled class="fa fa-calendar"></i></span> <span class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'post\'}" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span></div><div class="input-group date" id=dp_{{ctx.name}} ng-if="ctx.useDateInput === true"><span class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'pre\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span> <input size=16 type=date ep-date-convert=toString id={{ctx.name}} name={{ctx.name}} ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly class="form-control editor" ng-hide=ctx.fnDoValidations(this) ng-model=ctx.dateValue ng-change=ctx.fnOnChange($event) ng-blur="ctx.fnBlur($event)"> <span class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'post\'}" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span></div></section>'),a.put("src/components/ep.record.editor/editors/ep-editor-control.html",'<div class="ep-editor-control {{ctx.sizeClass}} ep-editor-mode-{{ctx.mode}}" ng-hide=ctx.hidden ep-drop-area drop-enabled="isDropEnabled === true" drop-handler=handleDrop drop-item-types=typeEditorCtrl ng-style=ctx.style><!--display caption above editor or just editor (mini mode)--><fieldset ng-if="isRow !== true" class="form-group ep-record-editor-container" ng-class="{\'has-error\': ctx.invalidFlag}" ep-draggable drag-enabled="isDragEnabled === true" drag-item=ctx drag-item-type="\'typeEditorCtrl\'"><div class="ep-div-editor-label {{ctx.col.classLabel}}"><label class=ep-editor-label for={{ctx.name}} ng-if="ctx.mode !== \'mini\'">{{ctx.label}}<span ng-if=ctx.requiredFlag class="required-indicator text-danger fa fa-asterisk"></span></label></div><div class={{ctx.col.classEditor}}><section id=xtemplate></section></div></fieldset><!--display caption and editor in a bootstarp grid system in horizontal row--><div ng-if="isRow === true" class="ep-record-editor-container ep-is-row-editor row"><div class="ep-div-editor-label {{ctx.col.classLabel || \'col-xs-4\'}}"><label class=ep-editor-label for={{ctx.name}}>{{ctx.label}}<span ng-if=ctx.requiredFlag class="required-indicator text-danger fa fa-asterisk"></span></label></div><div class="{{ctx.col.classEditor || \'col-xs-8\'}}"><section id=xtemplate></section></div></div></div>'),a.put("src/components/ep.record.editor/editors/ep-image-editor.html",'<section><img alt={{ctx.label}} id={{ctx.name}} ng-src={{value}} width={{ctx.imageWidth}} height="{{ctx.imageHeight}}"></section>'),a.put("src/components/ep.record.editor/editors/ep-multiline-editor.html",'<section><div ng-class="{\'input-group\': ctx.buttons && ctx.buttons.length > 0 }"><span class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'pre\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span><textarea id={{ctx.name}} name={{ctx.name}} placeholder={{ctx.placeholder}} ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly ng-model=value ng-change=ctx.fnOnChange($event) ng-blur=ctx.fnBlur($event) rows={{ctx.rows}} class="form-control editor" ng-hide=ctx.fnDoValidations() maxlength={{ctx.maxlength}} ng-style="{\'text-align\': ctx.justification }"></textarea><span class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'post\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span></div></section>'),a.put("src/components/ep.record.editor/editors/ep-number-editor.html",'<section><div ng-class="{\'input-group\': ctx.buttons && ctx.buttons.length > 0 }"><span class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'pre\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span> <input id={{ctx.name}} ng-cloak name={{ctx.name}} type=number ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly ng-model=value ng-change=ctx.fnOnChange($event) ng-blur=ctx.fnBlur($event) class="form-control editor" ng-style="{ \'text-align\': ctx.justification }" maxlength={{ctx.maxlength}} min={{ctx.min}} max={{ctx.max}} ng-hide=ctx.fnDoValidations() pattern="{{ctx.pattern}}"> <span class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'post\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span></div></section>'),a.put("src/components/ep.record.editor/editors/ep-select-editor.html",'<section><div ng-class="{\'input-group\': ctx.buttons && ctx.buttons.length > 0 }"><span class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'pre\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span><select class="form-control editor" id={{ctx.name}} name={{ctx.name}} ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly ng-change=ctx.fnOnChange($event) ng-blur=ctx.fnBlur($event) ng-hide=ctx.fnDoValidations() ng-model=value><option ng-repeat="opt in ctx.options" label={{opt.label}} value={{opt.value}} ng-selected=opt.getIsSelected()>{{opt.label}}</option></select><span class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'post\'}" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span></div></section>'),a.put("src/components/ep.record.editor/editors/ep-text-editor.html",'<section><div ng-class="{\'input-group\': ctx.buttons && ctx.buttons.length > 0 }"><span class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'pre\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span> <input id={{ctx.name}} ng-cloak name={{ctx.name}} type={{ctx.type}} placeholder={{ctx.placeholder}} ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly ng-model=value ng-change=ctx.fnOnChange($event) ng-blur=ctx.fnBlur($event) class="form-control editor" ng-hide=ctx.fnDoValidations() maxlength={{ctx.maxlength}} ng-style="{ \'text-align\': ctx.justification }"> <span class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'post\'}" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span></div></section>'),a.put("src/components/ep.record.editor/ep-record-editor.html",'<div class="row ep-record-editor"><ep-editor-control ng-repeat="(key, ctrl) in state.controls | epOrderObjectBy:\'seq\'" class=ep-record-editor-column column=ctrl.col value=state.activeRecord[ctrl.columnIndex] options=ctrl.options is-drag-enabled=state.dragEnabled is-drop-enabled=state.dropEnabled></ep-editor-control></div>'),a.put("src/components/ep.search/search.html",'<div><header class=reverse><div class=searchControl><form role=form ng-submit=runSearch(searchText)><input type=search placeholder="Enter your search terms..." ng-model=searchText ng-change="changeSearch()"> <span class=input-group-btn><button class="btn btn-default" type=button><span class="icon icon-search"></span></button></span> <button ng-click=runSearch(searchText) ng-disabled=!searchText>search</button></form><div class="alert alert-danger" id=validationSummary role=alert ng-show=hasError>{{status}}</div></div></header><section><div ng-show=enterpriseSearch.searchText><p ng-show=enterpriseSearch.searching>Searching for the following terms: \'{{enterpriseSearch.searchText}}\' ...</p><p ng-show=enterpriseSearch.searchError>{{enterpriseSearch.searchError}}</p></div><ul ng-if=enterpriseSearch.searchResults class=searchResults><li ng-repeat="searchResult in enterpriseSearch.searchResults track by $index" class=searchResultCategory><b>Category: {{searchResult.label | uppercase}}</b><br><ul ng-if=searchResult.results><li ng-repeat="result in searchResult.results" class=searchResult><span class=searchResultHeader ng-class=searchResult.label>{{result.label | uppercase}} - {{result.companyContext}} - {{result.keyTag}}</span><br><div ng-if=result.fields><span ng-repeat="field in result.fields" class=searchResultField>{{field.alias}}: {{field.FieldValue}},</span></div></li></ul></li></ul></section></div>'),a.put("src/components/ep.shell/feedback/feedback_dialog.html",'<div class=form-group><label>{{config.summaryLabel}} <span class="required-indicator text-danger fa fa-asterisk"></span></label><input class=form-control ng-model=config.feedback.summary ng-required="true"></div><div class=form-group><label>{{config.descriptionLabel}} <span class="required-indicator text-danger fa fa-asterisk"></span></label><textarea class=form-control ng-model=config.feedback.description ng-required=true></textarea></div><div class=form-group><label>{{config.customerNameLabel}}</label><input class=form-control ng-model="config.feedback.customerName"></div><div class=form-group><label>{{config.customerEmailLabel}}</label><input class=form-control ng-model="config.feedback.customerEmail"></div>'),a.put("src/components/ep.shell/shell.html",'<div><section ng-controller=epShellCtrl class=ep-shell ng-cloak><div ng-show=state.showProgressIndicator class=ep-progress-indicator><span class="fa fa-spin fa-spinner fa-pulse fa-5x"></span></div><nav class="ep-main-navbar navbar-sm navbar-default navbar-fixed-top" ng-class="{hidden: !state.showNavbar, \'cordova-padding\': platform.app === \'Cordova\'}" ng-style="{border: \'none\', \'padding-left\': \'4px\' }"><div class="container-fluid clearfix"><ul class="navbar-nav nav" style="float: none"><!--Left hand side buttons--><li><a id=leftMenuToggle class="pull-left fa {{state.leftToggleButtonIcon}} fa-2x ep-navbar-button left-button" ng-click=toggleLeftSidebar() ng-class="{\'hidden\': !state.showLeftToggleButton}"></a></li><li><a id=homebutton href=#/home class="pull-left fa fa-home fa-2x ep-navbar-button left-button" ng-class="{\'hidden\': !state.showHomeButton}" tabindex=-1></a></li><li ng-repeat="button in leftNavButtons | orderBy:\'index\':true" index={{button.index}} ng-class="{\'hidden\': button.hidden}"><a id=navbtn_{{button.id}} ng-if="button.type === \'button\'" title={{button.title}} class="pull-left fa {{button.icon}} fa-2x ep-navbar-button left-button" ng-click=state.executeButton(button,$event) ng-mousedown=state.buttonMouseDown(button) ng-class="{\'disabled\': state.freezeNavButtons  || button.enabled === false}"><span ng-if=button.badge class="ep-badge {{button.badge.cssClass}}" ng-bind=button.badge.value></span></a> <a id=navbtn_{{button.id}} ng-if="button.type === \'select\'" title={{button.title}} class="pull-left ep-navbar-button left-button dropdown-toggle" data-toggle=dropdown aria-expanded=false ng-class="{\'disabled\': state.freezeNavButtons  || button.enabled === false}"><i class="fa {{button.icon}} fa-2x"></i> <span ng-bind=button.title style="padding-right: 5px"></span> <span class=caret></span> <span ng-if=button.badge class="ep-badge {{button.badge.cssClass}}" ng-bind=button.badge.value></span></a><ep-include class="pull-left ep-navbar-button left-button" ng-if="button.type === \'template\'" options=button.options user-data=button></ep-include><ul ng-if="button.type === \'select\'" class=dropdown-menu ng-class="{ \'align-right\': button.right, \'disabled\': state.freezeNavButtons || button.enabled === false }" role=menu><li ng-repeat="opt in button.options" ng-class="{ \'divider\': opt.type===\'separator\' }" role={{opt.type}}><a ng-if="opt.type !== \'separator\' && opt.type !== \'checked\'" ng-click=state.executeButton(opt,$event) ng-mousedown=state.buttonMouseDown(opt)><span class=ep-navmenu-item><i class="ep-navmenu-item-icon fa fa-fw {{opt.icon}}"></i> <span class=ep-navmenu-item-text>{{opt.title}}</span> <span ng-if=opt.badge class="ep-badge {{opt.badge.cssClass}}" ng-bind=opt.badge.value></span></span></a> <a ng-if="opt.type !== \'separator\' && opt.type === \'checked\'" ng-click=state.executeButton(opt,$event) ng-mousedown=state.buttonMouseDown(button)><span class=ep-navmenu-item><input type=checkbox class=ep-dropdown-btn-chk ng-model="opt.checked"> <span class=ep-navmenu-item-text ng-bind=opt.title></span> <span ng-if=opt.badge class="ep-badge {{opt.badge.cssClass}}" ng-bind=opt.badge.value></span></span></a></li></ul></li><li id=brandItem ng-hide="state.showBrand === false" ng-class="{\'ep-center-brand\': state.centerBrand}"><a id=apptitle ng-cloak="" ng-if=state.brandTarget ng-class="{\'ep-center-brand\': state.centerBrand}" class=navbar-brand ng-href=#{{(state.brandTarget)}} ng-bind-html=state.brandHTML></a> <span id=apptitle ng-cloak="" ng-if=!state.brandTarget ng-class="{\'ep-center-brand\': state.centerBrand}" class=navbar-brand ng-bind-html=state.brandHTML></span></li><li class=right-button ng-class="{\'hidden\': !state.showRightToggleButton }"><a id=rightMenuToggle class="pull-left fa {{state.rightToggleButtonIcon}} fa-2x ep-navbar-button" ng-click=toggleRightSidebar() ng-class="{\'hidden\': !state.showRightToggleButton }"></a></li><!--Right hand side buttons--><li ng-repeat="button in rightNavButtons | orderBy:\'index\':true" ng-class="{\'hidden\': button.hidden, \'disabled\': state.freezeNavButtons  || button.enabled === false}" class=right-button index={{button.index}}><a id=navbtn_{{button.id}} ng-if="button.type === \'button\'" title={{button.title}} class="fa {{button.icon}} fa-2x ep-navbar-button" ng-click=state.executeButton(button,$event) ng-mousedown=state.buttonMouseDown(button)><span ng-if=button.badge class="ep-badge {{button.badge.cssClass}}" ng-bind=button.badge.value></span></a> <a id=navbtn_{{button.id}} ng-if="button.type === \'select\'" title={{button.title}} class="ep-navbar-button dropdown-toggle" data-toggle=dropdown aria-expanded=false><i class="fa {{button.icon}} fa-2x"></i> <span ng-bind=button.title style="padding-right: 5px"></span> <span class=caret></span> <span ng-if=button.badge class="ep-badge {{button.badge.cssClass}}" ng-bind=button.badge.value></span></a><ep-include class=ep-navbar-button ng-if="button.type === \'template\'" options=button.options user-data=button></ep-include><ul ng-if="button.type === \'select\'" class="dropdown-menu dropdown-menu-right" ng-class="{ \'align-right\': button.right, \'disabled\': state.freezeNavButtons || button.enabled === false }" role=menu><li ng-repeat="opt in button.options" ng-class="{ \'divider\': opt.type===\'separator\' }" role={{opt.type}}><a ng-if="opt.type !== \'separator\' && opt.type !== \'checked\'" ng-click=state.executeButton(opt,$event) ng-mousedown=state.buttonMouseDown(button)><span class=ep-navmenu-item><i class="ep-navmenu-item-icon fa fa-fw {{opt.icon}}"></i> <span class=ep-navmenu-item-text ng-bind=opt.title></span> <span ng-if=opt.badge class="ep-badge {{button.badge.cssClass}}" ng-bind=opt.badge.value></span></span></a> <a ng-if="opt.type !== \'separator\' && opt.type === \'checked\'" ng-click=state.executeButton(opt,$event) ng-mousedown=state.buttonMouseDown(button)><span class=ep-navmenu-item><input type=checkbox class=ep-dropdown-btn-chk ng-model="opt.checked"> <span class=ep-navmenu-item-text ng-bind=opt.title></span> <span ng-if=opt.badge class="ep-badge {{button.badge.cssClass}}" ng-bind=opt.badge.value></span></span></a></li></ul></li></ul></div></nav><!--SIDE NAVIGATION--><ep-shell-sidebar><!--<div ng-transclude></div>--><div class=ep-fullscreen ng-if="options.enableViewAnimations !== false"><div ng-view class="ep-fullscreen {{\'ep-anim-speed-\' + state.animationSpeed}} {{state.animationIn}} {{state.animationOut}} ep-view ep-view-transition" ng-class=state.viewAnimation></div></div><div class=ep-fullscreen ng-if="options.enableViewAnimations === false"><div ng-view class="ep-fullscreen ep-view"></div></div></ep-shell-sidebar><div class="navbar navbar-xsm navbar-default navbar-fixed-bottom" ng-class="{hidden: !state.showFooter}" role=navigation id=mainfooter style="color: white; padding-top: 4px; padding-left: 5px"><a class=pull-left style="color: white" ng-if=state.footerTarget ng-href={{state.footerTarget}}><sup id=footerElement ng-bind-html=state.footerHTML></sup></a> <sup ng-if=!state.footerTarget id=footerElement ng-bind-html=state.footerHTML></sup></div><span class=ep-shell-feedback-btn id=feedbackbutton ng-if=state.enableFeedback ng-click=sendFeedback()><i class="fa fa-bullhorn"></i> Give Feedback</span></section></div>'),a.put("src/components/ep.shell/sidebar/sidebar.html","<div class=ep-shell-container ng-controller=epShellCtrl ng-class=\"{ 'nav-padding': shellState.showNavbar, 'footer-padding': shellState.showFooter}\"><!-- Backdrop to disable view container when sidebars are on --><div ng-swipe-right=showSwipeLeftSidebar($event) ng-swipe-left=showSwipeRightSidebar() id=viewContainerBackdrop ng-class=\"{'ep-view-container-backdrop': shellState.showViewContainerBackdrop}\"></div><!-- Left Sidebar --><div id=leftSidebar ng-show=\"shellState.showLeftSidebar && shellState.enableLeftSidebar\" class=\"ep-sidebar-nav ep-sidebar-nav-left well ep-ease-animation\" ng-class=\"{'ep-with-navbar': shellState.showNavbar, 'ep-with-footer': shellState.showFooter, 'cordova-ios': platform.app==='Cordova' && platform.os=='mac'}\" ng-click=dismissRightSidebar() ng-swipe-left=closeLeftSidebar()></div><div id=viewPlaceholder class=\"ep-view-placeholder ep-fullscreen\" ng-transclude><!--VIEW CONTENT HERE--></div><!-- Right Sidebar --><div id=rightSidebar ng-show=\"shellState.showRightSidebar && shellState.enableRightSidebar\" class=\"ep-sidebar-nav ep-sidebar-nav-right well ep-ease-animation\" ng-swipe-right=closeRightSidebar()></div></div>"),a.put("src/components/ep.shell/view-container/view-container.html","<div id=viewContainer ng-controller=epShellCtrl my-touchstart=getTouchXPoint() ng-swipe-right=showSwipeLeftSidebar() ng-swipe-left=showSwipeRightSidebar() class=ep-view-container ng-class=\"{ 'ep-with-navbar': !!state.showNavbar,\r\n                                    'ep-with-footer': !!state.showFooter,\r\n                                    'ep-ease-animation': !!state.animateViewContainer,\r\n                                    'ep-scroll-y': !!state.allowVerticalScroll,\r\n                                    'ep-momentum-scrolling-enabled': !!state.momentumScrollingEnabled }\"><div id=viewMessage class=ep-container-message ng-if=state.infoMessage ng-style=\"{'width': state.viewDimensions.size.width + 'px', 'height': state.viewDimensions.size.height + 'px'}\"><p class=\"ep-container-message-text ep-center-item\"><i class={{state.infoIcon}}></i><br>{{state.infoMessage}}</p></div><ep-viewmodal ng-if=\"state.enableViewModal !== false && state.viewModalOptions && state.viewModalOptions.templateOptions\" options=state.viewModalOptions title=state.viewModalOptions.title><ep-include options=state.viewModalOptions.templateOptions></ep-include></ep-viewmodal><!--<ep-cached-view ng-if=\"showFromCache && hasCacheKey\" key=\"cacheKey\"></ep-cached-view>--><!--\r\n"+'    <div class="ep-fullscreen" ng-if="!showFromCache || !hasCacheKey" id="viewTemplate" ng-transclude></div>\r\n--><div class=ep-fullscreen id=viewTemplate ng-transclude></div></div>'),
a.put("src/components/ep.shell/views/ep-shell-embedded-apps-container.html",'<ep-shell-view-container smallmodesettings="{ &quot;showNavbar&quot;: true, &quot;showFooter&quot;: false, &quot;enableLeftSidebar&quot;: true, &quot;enableRightSidebar&quot;: false, &quot;showHomeButton&quot;: false, &quot;showBrand&quot;: true,  &quot;animateViewContainer&quot;: false, &quot;allowVerticalScroll&quot;: true }" largemodesettings="{ &quot;showNavbar&quot;: true, &quot;showFooter&quot;: false, &quot;enableLeftSidebar&quot;: true, &quot;enableRightSidebar&quot;: false, &quot;showHomeButton&quot;: false, &quot;showBrand&quot;: true,  &quot;animateViewContainer&quot;: false, &quot;allowVerticalScroll&quot;: true }"><ep-embedded-apps></ep-embedded-apps></ep-shell-view-container>'),a.put("src/components/ep.signature/ep-signature.html",'<!--This is a partial for the ep-signature directive --><div id=signature_parent style="min-height: 100px"><div id=signature style="background-color: #ffffffff"></div></div><div class=row><div class=col-xs-3><button id=clearButton class="btn btn-primary" ng-disabled=!isEnabled tabindex=-1 ng-click=reset()>Clear</button></div><div class="col-xs-6 text-center"><strong ng-bind=acknowledgeText></strong></div><div class=col-xs-3><button ng-click=accept() tabindex=-1 type=submit id=saveButton ng-disabled="!isEnabled || !acceptIsEnabled" class="btn btn-success pull-right">Accept</button></div></div>'),a.put("src/components/ep.sliding.panel/ep-pane.html","<div ng-if=\"state.displayPaneIndex === pane.index\" class=ep-sliding-pane ng-class=\"{'toLeft': state.toLeft, 'toRight': state.toRight}\" ng-transclude></div>"),a.put("src/components/ep.sliding.panel/ep-sliding-panel.html",'<div class=ep-sliding-panel ng-swipe-left="state.displayPaneIndex !== state.panes.length -1 && state.nextButtonEnabled && next()" ng-swipe-right="state.displayPaneIndex !== 0 && state.prevButtonEnabled && prev()"><div ng-transclude></div><div class="navbar navbar-fixed-bottom ep-pad-all-10"><span class=pull-right><button type=button class="btn btn-info btn-med btn-round" ng-click=prev() ng-disabled=!state.prevButtonEnabled ng-hide="state.displayPaneIndex === 0"><i class="fa-fw fa fa-lg fa-arrow-left ep-padding-right"></i></button> <button type=button class="btn btn-info btn-med btn-round" ng-click=next() ng-disabled=!state.nextButtonEnabled ng-hide="state.displayPaneIndex === state.panes.length -1"><i class="fa-fw fa fa-lg fa-arrow-right ep-padding-right"></i></button> <button type=button class="btn btn-success btn-med btn-round" ng-click=finish() ng-disabled=!state.finishButtonEnabled ng-hide="state.displayPaneIndex !== state.panes.length -1"><i class="fa-fw fa fa-lg fa-check ep-padding-right"></i></button></span></div></div>'),a.put("src/components/ep.tabbar/ep-tabbar.html","<!--Tab Bar Components --><div class=ep-tabbar><ul id=tabbar class=\"navbar nav-pills navbar-default\" ng-class=\"{'navbar-fixed-bottom':state.tabbarAlignment=='bottom', 'navbar-fixed-top':state.tabbarAlignment!='bottom'}\"><li ng-repeat=\"icon in state.tabs\" class=ep-tabbar-contents ng-class=\"{'ep-tabbar-list':state.iconAlignment=='left'}\"><a ng-click=executeButton(icon) class=ep-tabbar-content-color><i class={{icon.icon}}></i><label id=testing2 class=testLabel ng-hide=\"state.labelAlignment=='top'\" ng-class=\"{'ep-tabbar-label':state.labelText=='left'}\">{{icon.text}}</label><p id=testing1 class=testP ng-hide=\"state.labelAlignment!='top'\">{{icon.text}}</p></a></li></ul></div>"),a.put("src/components/ep.table/table.html",'<table class=table ng-class="{\'table-striped\' : striped}"><tr><th ng-repeat="oneTh in headers track by $index">{{oneTh}}</th></tr><tr ng-show=isLoading><td colspan={{colCount}}><div class="progress progress-striped active"><div class=progress-bar role=progressbar aria-valuenow=1 aria-valuemin=0 aria-valuemax=1 style="width: 100%"></div></div></td></tr><tr ng-show=loadError><td colspan={{colCount}}><p class="text-danger text-center"><i class="fa fa-exclamation-triangle"></i> {{loadError}}</p></td></tr><tr ng-repeat="row in data" class=ep-table-row ng-class="{ \'info\': row.$isSelected }" ng-click=selectRow(row,$event) ng-dblclick=onDblClick(row,$event)><td ng-repeat="cell in props track by $index" class=ep-table-cell>{{row[cell]}}</td></tr></table>'),a.put("src/components/ep.tile/ep-tile-templates/ep-tile-image.html",'<!--This is a partial for the ep-tile-image --><div data-mode={{state.liveSettings.dataMode}} data-direction={{state.liveSettings.dataDirection}} data-delay={{state.liveSettings.dataDelay}} class="accent live-tile" ng-class=state.tileClass><div ng-repeat="img in state.images"><img class=full ng-src={{img.src}} alt="" image-index="{{img.index}}"> <span ng-if="tile.hideFooter !== false" class="tile-title accent" style="padding: 4px; background-color: gray">{{img.title}}</span></div></div>'),a.put("src/components/ep.tile/ep-tile-templates/ep-tile-menu.html",'<!--This is a partial for the ep-tile-menu --><div class="live-tile accent" ng-class=state.tileClass><div class="well ep-tile-container"><span ng-if="tile.closeButton !== false" class=ep-tile-close-button><i class="fa fa-times" ng-click="state.closeAction(tile, $event)"></i></span><h5 ng-if="tile.caption !== undefined" class="ep-tile-caption-panel btn-primary clearfix"><span ng-if=tile.icon class="ep-tile-icon fa-lg {{tile.icon}}"></span> <span class="ep-tile-caption tile-caption">{{tile.caption}}</span></h5><p class="ep-tile-description text-primary">{{tile.description}}</p><div ng-if=tile.contentIcon class="ep-content-icon ep-align-content ep-align-vcenter"><i class="fa {{tile.contentIcon}} fa-3x"></i></div></div><span ng-if="tile.footer !== undefined" class="tile-title accent">{{tile.footer}}</span></div>'),a.put("src/components/ep.tile/ep-tile.html",'<!--This is a partial for the ep-tile directive --><div class="ep-tile {{state.sizeMode}} {{state.color}}" ng-class=state.optionsClass><div ng-if="tile.type !== \'custom\'" ng-click="state.action(tile, $event)" class=ep-tile-container ng-include=state.templateUrl></div><div ng-if="tile.type === \'custom\'" class="live-tile accent {{state.color}}" ng-class=state.tileClass><span ng-if="tile.closeButton !== false" class=ep-tile-close-button><i class="fa fa-times" ng-click="state.closeAction(tile, $event)"></i></span><div ng-click="state.action(tile, $event)" class=ep-tile-container><ep-include options=tile.templateOptions user-data=tile></ep-include></div></div></div>'),a.put("src/components/ep.tiles.panel/ep-tiles-panel.html",'<!--This is a partial for the ep-tiles-panel directive --><div class="ep-tiles-panel tiles tile-group {{state.tileColor}}" style="margin: 0px"><ep-tile ng-if="beforeList && beforeList.length" class="ep-tiles-before-list ep-repeat-animation" ng-class=state.colorFunc(item) tile=item ng-repeat="item in beforeList | orderBy:sortList" size-mode=sizeMode width=width height=height></ep-tile><ep-tile class="ep-tiles-list ep-repeat-animation" ng-class=state.colorFunc(item) tile=item ng-repeat="item in list | orderBy:sortList" size-mode=sizeMode width=width height=height></ep-tile><ep-tile ng-if="afterList && afterList.length" class="ep-tiles-after-list ep-repeat-animation" ng-class=state.colorFunc(item) tile=item ng-repeat="item in afterList | orderBy:sortList" size-mode=sizeMode width=width height=height></ep-tile></div>'),a.put("src/components/ep.token/ep-login-view/ep-login-view.html",'<!--This is a partial for the ep-login-view directive --><div class="ep-login-view container-fluid"><div class=ep-login-background><div class=ep-background-image ng-if=!settings.customImage></div><img class=ep-background-custom-image ng-if=settings.customImage ng-src={{settings.customImage}} alt=""></div><div class=ep-login-up-box><div class="ep-login-box center-block"><form class=form-group><div class=form-group><p class=ep-login-text><b>Please enter your credentials to sign in.</b></p><div class=input-group><span class=input-group-addon><i class="fa fa-user fa-fw"></i></span> <input clearable name=username ng-keypress=clearWarning() id=username class=form-control ng-model=settings.username placeholder="User Name"></div><br><div class=input-group><span class=input-group-addon><i class="fa fa-lock fa-fw"></i></span> <input type=password clearable ng-keypress=passwordKeyPress($event) name=password id=password class=form-control ng-model=settings.password placeholder="Password"></div><br><div ng-show=showServerName class=input-group><span class=input-group-addon><i class="fa fa-server fa-fw"></i></span> <input spellcheck autocorrect=false clearable name=servername id=serverValue class=form-control ng-model=settings.serverName placeholder="Server"></div><br><div ng-if=status class="text-center alert alert-warning"><label>{{status}}</label><br></div><div><button ng-if="options.showSettingsButton !== false" class="btn btn-default pull-left" ng-click=showServer()><i class="fa fa-cog fa-fw"></i></button> <button type=submit class="btn btn-primary pull-right" ng-click=loginUser()>Log in</button></div></div></form></div></div></div>'),a.put("src/components/ep.token/ep-login/login.html",'<div class=thumbnail><div ng-if="showTitle !== false" class=caption><h3 ng-hide=hasToken><span class="icon icon-enter"></span> Login</h3><h3 ng-show=hasToken><span class="icon icon-exit"></span> Logout</h3><hr></div><form role=form><div ng-if="showLabels === false" class=input-group><span class=input-group-addon><i class="fa fa-user fa-fw"></i></span> <input tabindex=1 id=user-name name=username required class=form-control ng-model=user.username placeholder="user name"></div><div ng-if="showLabels !== false" class=form-group><label for=user-name class="col-sm-2 control-label">User:</label><div><input tabindex=1 id=user-name name=username required class=form-control ng-model=user.username placeholder="user name"></div></div><div ng-if="showLabels === false" class=form-group><div class=input-group><span class=input-group-addon><i class="fa fa-key fa-fw"></i></span> <input tabindex=2 id=user-password name=password required class=form-control type=password placeholder=password ng-model="user.password"></div></div><div ng-if="showLabels !== false" class=form-group><label for=user-password class="col-sm-2 control-label">Password:</label><div><input tabindex=2 id=user-password name=password required class=form-control type=password placeholder=password ng-model="user.password"></div></div></form><div class="alert alert-danger" id=validationSummary role=alert ng-show=hasError>{{status}}</div><div><button ng-if="showCancel !== false" type=button class="btn btn-default" ng-click=cancel()>Cancel</button> <button type=button class="btn btn-primary" ng-hide=hasToken ng-click=login()>Login</button> <button type=button class="btn btn-primary" ng-show=hasToken ng-click=logout()>Logout</button></div></div>'),a.put("src/components/ep.ui.range.slider/ep-range-slider.html",'<div class=ep-range-slider-ctr><div ng-show=touch><div class=ep-range-slider-value-ctr ng-click=toggleRangeInputMode()>{{rangeMin}} - {{rangeMax}}</div><div class=ep-range-slider-value-axis><div class=ep-range-ctr><div class=ep-range></div></div><div class="ep-range-slide-handle ep-range-slide-handle-min js-handle-min"></div><div class="ep-range-slide-handle ep-range-slide-handle-max js-handle-max"></div></div><div class=ep-range-steps-ctr><span class="ep-range-step ep-range-step-{{::step}}" ng-repeat="step in steps"></span></div></div><div ng-show=!touch><input class="form-control ep-range-input-min" name=tbMin ng-model=rangeMin ng-model-options="{ debounce: 500 }"><label for=tbMax>and</label><input class="form-control ep-range-input-max" name=tbMax ng-model=rangeMax ng-model-options="{ debounce: 500 }"><div class=range-slider-mode-toggle-ctr><small class=ep-range-slider-toggle-mode ng-click=toggleRangeInputMode()>Switch to slider</small></div></div></div>'),a.put("src/components/ep.viewmodal/ep-viewmodal.html",'<!--This is a partial for the ep-viewmodal directive --><div class=ep-viewmodal ng-class="{\'ep-viewmodal-hide\': !options.showViewModal, \'ep-viewmodal-peek\': peek}"><div class="ep-viewmodal-header modal-header bg-primary modal-title"><i class="pull-left ep-padding-top" ng-class="\'fa fa-lg \' + options.lefticon" ng-if=options.lefticon></i><h5>{{options.title}} <span ng-if=peek class=text-warning><strong>(Peek Mode)</strong></span> <i class=pull-right ng-show=options.showCloseButton><a class="fa fa-times fa-2x ep-viewmodal-icon" ng-click=closeClick()></a></i> <i class=pull-right><a class="fa fa-eye fa-2x ep-viewmodal-icon" ng-click=peekClick()></a></i></h5></div><div class=ep-viewmodal-body ng-hide=peek ng-transclude></div></div>')}]);