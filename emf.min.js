"use strict";function searchController(a,b){a.enterpriseSearch={},a.enterpriseSearch.searching=!1,a.enterpriseSearch.searchResults=null,a.enterpriseSearch.status="",a.enterpriseSearch.changeSearch=function(){var b=a.enterpriseSearch.searchText;""===b&&(a.enterpriseSearch.searchResults=null,a.enterpriseSearch.status="")},a.enterpriseSearch.runSearch=function(c){""!==c&&(a.enterpriseSearch.searching=!0,a.enterpriseSearch.searchResults=[],a.enterpriseSearch.status="",a.enterpriseSearch.hasError=!1,b.search(c,0,100).then(function(b){a.enterpriseSearch.searching=!1,a.enterpriseSearch.searchResults=b},function(b){a.enterpriseSearch.status="An error occurred: "+b.status,a.enterpriseSearch.searching=!1,a.enterpriseSearch.hasError=!0}))}}angular.module("ep.action.set",["ep.feature.detection","ep.templates"]),angular.module("ep.animation",["ep.templates","ep.sysconfig"]),angular.module("ep.datagrid",["ep.templates"]),angular.module("ep.drag.drop",[]),angular.module("ep.embedded.apps",["ep.templates","ep.sysconfig","ep.utils"]),angular.module("ep.feature.detection",["ep.templates"]),angular.module("ep.local.storage",["ep.sysconfig"]),angular.module("ep.login",["ui.router","ep.token","ep.templates"]),angular.module("ep.modaldialog",["ep.templates"]),angular.module("ep.multi.level.menu",["ep.templates","ep.local.storage"]),angular.module("ep.odata",[]),angular.module("ep.search",["ep.token","ep.templates"]),angular.module("ep.shell",["ngRoute","ui.bootstrap","ep.templates","ep.feature.detection","ep.local.storage","ep.theme","ep.utils","ep.sysconfig"]),angular.module("ep.sysconfig",[]),angular.module("ep.templates",[]),angular.module("ep.theme",["ep.templates","ep.local.storage","ep.sysconfig"]),angular.module("ep.token",["ep.utils","ngCookies"]),angular.module("ep.utils",["ep.sysconfig"]),angular.module("ep.action.set").directive("epActionItem",["$document","actionSetFactory",function(a,b){return{restrict:"E",scope:{handler:"=",title:"@",trigger:"@",type:"@",params:"=",actionSwitch:"=switch",actionSwitchParams:"=switchParams",actionSwitchResult:"=switchResult",icon:"@"},link:function(a,c,d){var e={handler:a.handler,title:a.title,trigger:a.trigger,type:a.type,params:a.params,actionSwitch:a.actionSwitch,actionSwitchParams:a.actionSwitchParams,actionSwitchResult:a.actionSwitchResult};a.$destroy(),a=null,b.registerAction(c,e,"default"in d),c.remove()}}}]),angular.module("ep.action.set").controller("epActionMenuCtrl",["$scope","$document",function(a,b){function c(){e.actions=null,a.$root.$$phase||a.$apply(),b.off("click.actionMenu")}function d(a,b){b.handler.call(e,b.callback),c(),a.stopPropagation(),a.preventDefault()}var e=this;e.closeMenu=c,e.invokeAction=d,a.$on("actionMenuCall",function(d,f){e.actions=f.actions,"fixed"!==e.menu.css("position")&&e.menu.css({left:f.event.clientX+"px",top:f.event.clientY+"px"}),b.on("click.actionMenu",function(){c()}),a.$root.$$phase||a.$apply()})}]),angular.module("ep.action.set").directive("epActionMenu",function(){return{restrict:"E",replace:!0,controller:"epActionMenuCtrl",controllerAs:"actionMenuCtrl",templateUrl:"src/components/ep.action.set/action-menu/action-menu.html",link:function(a,b){a.actionMenuCtrl.menu=b}}}),angular.module("ep.action.set").directive("epActionSeparator",["$document",function(){return{restrict:"E",require:"^epActionSet",link:function(a,b){var c=$(b).parent(),d=c.data("actions")||[];d.push({type:"separator"}),b.remove()}}}]),angular.module("ep.action.set").controller("epActionSetCtrl",["$scope",function(a){a.onActionCallerClick=function(b){var c=$(b.target).closest(".ep-interactivity-sign"),d=c.parent().data("actions");a.$root.$broadcast("actionMenuCall",{event:b,actions:d}),b.preventDefault(),b.stopPropagation()}}]),angular.module("ep.action.set").directive("epActionSet",["$compile","epFeatureDetectionService",function(a,b){return{restrict:"E",scope:{position:"=",bindTo:"=",insertTo:"="},controller:"epActionSetCtrl",compile:function(a,c){var d="";if(a.parent().addClass("ep-relative").addClass("ep-action-owner"),d="ep-actionset-right-down",b.browserIsMobile()===!1&&c.position)switch(c.position){case"absolute-right-bottom":d="ep-actionset-right-bottom";break;case"right-bottom":d="ep-actionset-right-down";break;case"right-center":d="ep-actionset-right-center"}return a.addClass("ep-actionset"),a.addClass(d),a.append($('<div class="ep-interactivity-sign" ng-controller="epActionSetCtrl" ng-click="onActionCallerClick($event)"><span class="fa fa-ellipsis-h"></span></div></div>')),{pre:function(){},post:function(b){b.bindTo&&(b.bindTo.append(a),b.bindTo.addClass("ep-relative").addClass("ep-action-owner")),b.$destroy(),b=null}}}}}]),angular.module("ep.action.set").factory("actionSetFactory",[function(){function a(a,b){if(null!==b.handler){var c=$(a).parent(),d=c.data("actions")||[],e={title:b.title,type:"action",icon:b.icon};if(b.actionSwitch&&(e["switch"]=b.actionSwitch,e.switchParams=b.actionSwitchParams,e.switchResult=b.actionSwitchResult),Array.isArray(b.params)){var f=function(){b.handler.apply(a,arguments[0])};e.handler=f.bind(c,b.params)}else b.handler&&(e.handler=b.handler.bind(c,b.params));d.push(e),c.data("actions",d)}}return{registerAction:a}}]),angular.module("ep.action.set").directive("epDynamicActionSet",["$compile","$rootScope",function(a,b){return{restrict:"EA",scope:{provider:"=epDynamicActionSetProvider",actionParams:"=epDynamicActionSetParams",bindTo:"=epDynamicActionSetBindTo",insertTo:"=epDynamicActionSetInsrtTo",injections:"=epDynamicActionSetInjections"},link:function(c,d){var e="undefined"==typeof c.bindTo||null===c.bindTo;c.provider&&(c.provider.actionSet.apply(e,d,b,c,a),c.$destroy(),c=null)}}}]),angular.module("ep.action.set").factory("dynamicActionSetFactory",[function(){function a(a,c){return new b(a,c)}function b(a,b){function d(a,b,d){var f=new c(a,b,d);e(f),m.push(f)}function e(a){if(!(a.title&&a.title.length>0))throw new Error("Title for the action is required!")}function f(a,b){for(var c=!1,d=0;d<m.length;d++)if(m[d].title===a){m.splice(d,b?m.length-d:1),c=!0;break}c&&(l&&l.remove(),this.apply.apply(this,k))}function g(a,b,d,f){for(var g=0;g<m.length;g++)if(m[g].title===a)return;var h=new c(a,b,d,f);e(h),m.push(h),l&&l.remove(),this.apply.apply(this,k)}function h(a,c,d,e,f){var g=[];if(k=arguments,j=f,a&&(!angular.isFunction(b)||b(c,e))){g.push('<ep-action-set position="right-bottom" bind-to="bindTo" insert-to="insertTo">'),i=d.$new(!0);for(var h=0;h<m.length;h++)g.push(m[h].build(h,i));g.push("</ep-action-set>"),i.bindTo=e.bindTo||c,i.params=e.actionParams,i.bindTo.data("actions",null),l=f(g.join(""))(i)}}this.name=a,this.onCreateActionSet=b;var i,j,k,l,m=[];return{addAction:d,apply:h,removeAction:f,appendAction:g}}function c(a,b,c,d){this.title=a,this.handler=b;var e,f=[];if(c)for(e in c)c.hasOwnProperty(e)&&f.push(e+'="'+c[e]+'"');this.apply=function(a,b,c,e){var g=b.$new(!0),h='<ep-action-item title="'+this.title+'icon="'+d+'" " handler="handler" params="params" bind-to="bindTo" insert-to="insertTo" '+f.join(" ")+"></ep-action-item>";g.handler="function"==typeof this.handler?this.handler:c[this.handler],g.params=c.actionParams,g.bindTo=c.bindTo||a,g.insertTo=c.provider.insertTo,g.injections=c.injections,e(h)(g)},this.build=function(a,b){return b["fnc"+a]=this.handler,'<ep-action-item title="'+this.title+'" icon="'+d+'" " handler="fnc'+a+'" params="params" bind-to="bindTo" insert-to="insertTo" '+f.join(" ")+"></ep-action-item>"}}return{getDynamicActionSet:a}}]),angular.module("ep.animation").directive("epAnimation",function(){function a(a,b,c){a.$watch(function(){return a.options},function(a){if(a){var d=c.id,e=angular.element("body"),f=angular.element("#animationStyle");if(!f.length){var g=document.createElement("style");e.append(g),f=angular.element(g),f.attr("id","animationStyle")}var h=f.get(0).textContent;d||(d=c.id=_.uniqueId(b[0].nodeName));var i,j="";a.show&&(j="#"+d+".ng-hide-remove {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-hide-remove { animation: "+(a.show.duration||"0.5s")+" "+a.show.animation+" "+(a.show.easing||"ease")+"; }"),a.hide&&(j="#"+d+".ng-hide-add {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-hide-add { animation: "+(a.hide.duration||"0.5s")+" "+a.hide.animation+" "+(a.hide.easing||"ease")+"; }"),a.enter&&(j="#"+d+".ng-enter-active {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-enter-active { animation: "+(a.enter.duration||"0.5s")+" "+a.enter.animation+" "+(a.enter.easing||"ease")+"; }"),a.leave&&(j="#"+d+".ng-leave-active {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-leave-active { animation: "+(a.leave.duration||"0.5s")+" "+a.leave.animation+" "+(a.leave.easing||"ease")+"; }"),f.html(h)}})}return{restrict:"A",scope:{options:"="},link:a}}),angular.module("ep.datagrid").factory("epDataGridDirectiveFactory",[function(){var a=0,b=function(b){function c(){z.createGrid()}function d(a){z.setGridOptions(a)}function e(){z.state.dataTable&&(z.state.dataTable.fnDestroy(!0),z.state.dataTable=null)}function f(){z.refreshData()}function g(a,b){z.options[a]=b}function h(a){z.resizeTable(a)}function i(a){a&&z.activateRow(a)}function j(a){a?z.updateTableEditStateActiveRow():z.updateTableEditState()}function k(){return!!z.state.dataTable}function l(){return z.state.activeRow}function m(){return z.state.activeRecord}function n(a){z.scrollToRow(a)}function o(a){z.appendRow(a)}function p(a){return z.getPrevNextRow(-1,a)}function q(a){return z.getPrevNextRow(1,a)}function r(a,b){z.setRowEditMode(a,b)}function s(){z.callPreviousGetData()}function t(a,b,c,d){z.grDataTable().fnUpdate(a,b,c,d)}function u(){return z.grDataTable()}function v(a,b){return z.getRowByColumnValue(a,b)}function w(){z.toggleFilter()}function x(){z.showFilter()}function y(){return z.state.filterShowFlag}var z=b;a++;var A="epdatagrid"+a.toString();return{id:A,setGridOptions:d,createGrid:c,activeRecord:m,activeRow:l,refreshData:f,release:e,updateOption:g,resizeTable:h,activateRow:i,getPrevRow:p,getNextRow:q,scrollToRow:n,appendRow:o,updateTableState:j,isTableCreated:k,setRowEditMode:r,callPreviousGetData:s,updateRow:t,dataTable:u,getRowByColumnValue:v,toggleFilter:w,showFilter:x,isFilterShown:y}};return b}]),angular.module("ep.datagrid").directive("epDataGridFilterRow",[function(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.datagrid/datagrid-filter/datagrid-filter-row.html",controller:["$scope",function(a){if(!a.state.filterEditors){var b=[],c=a.grApi().table().header(),d=$("tr",c),e=$(d).find("th"),f=a.state.filterExpressions;$(e).each(function(c,d){var e=$(d),g=null;if(e.width&&e.text()){var h=a.grFindColumnByCellIndex(e.context.cellIndex);if(null!==h){var i="",j="";if(f){var k=_.find(f,function(a){return a.ColName===h.sName});k&&(i=k.Value,j=k.Operator)}j=j||"*",g={name:h.sName,type:1===h.userColumnDef.oFormat.FieldType?"number":"text",value:i,operator:j,operatorText:"*"===j?"":j}}}g||(g={hidden:!0,name:"hidden",className:"fixed sorting_disabled ep-hide-filter-col",value:null}),b.push(g)}),a.state.filterEditors=b,a.state.isFilterOn=!0,a.state.filterCriteria="",a.$watch("state.filterShowFlag",function(b,c){b===!1&&c===!0&&a.onHideFilter&&a.onHideFilter(),a.resizeTable()}),a.fnFilterOpChange=function(b){for(var c=["*","=","<>",">",">=","<","<="],d=0,e=0;e<c.length;e++)if(c[e]===b.operator){d=e;break}d+1>=c.length?d=0:d+=1,b.operator=c[d],b.operatorText="*"===b.operator?"":b.operator,a.onChangeFilter&&a.onChangeFilter(b)},a.fnFilterBlur=function(b){a.onChangeFilter&&""!==b.value&&a.onChangeFilter(b)},a.fnFilterKeyUp=function(b,c){(a.onChangeFilter&&13===c.keyCode||9!==c.keyCode&&""===b.value)&&a.onChangeFilter(b)}}}]}}]),angular.module("ep.datagrid").directive("epDataGridFilterToggle",[function(){return{restrict:"E",replace:!0,template:'<div><a class="btn btn-default btn-sm ep-center-item fa fa-filter" ng-click="toggleFilter()" ></a></div>',controller:[function(){}]}}]),angular.module("ep.datagrid").directive("epDataGrid",["$timeout","$compile","$log","$window","epUtilsService","epFeatureDetectionService","epDataGridDirectiveFactory",function(a,b,c,d,e,f,g){function h(){var a={gridFactory:null,scope:null,tableElement:null,linkElement:null,dataTable:null,filterShowFlag:!1,filterRow:null,filterEditors:null,filterExpressions:[],allowSearchInput:!0,searchValue:"",recordsInfo:"",gridLoadPrms:{},dataRetrieveInProcess:!1,metadata:void 0,ordering:!0,activeRow:null,activeRecord:null};return a}function i(a,b){var c=angular.element(a),e=c.attr("href"),f=function(){d.open(e,"_blank")};switch(J.platform.app){case"NWJS":f=function(){var a=require("nw.gui");a.Shell.openExternal(e)};break;case"Cordova":f=function(){d.open(e,"_system")}}"_blank"===c.attr("target")&&(f(),b.preventDefault())}function j(a){return a&&_.isString(a)?'<a class="fa fa-phone inline-link" onclick="onExternalLinkClick(this, event)" target="_blank" href="tel:'+a+'">&nbsp;&nbsp;'+a+"</a>":a}function k(a){return a&&_.isString(a)?'<a class="fa fa-map-marker inline-link" onclick="onExternalLinkClick(this, event)" target="_blank" href="http://maps.google.com/maps?q='+a+'">&nbsp;&nbsp;'+a+"</a>":a}function l(a){return a&&_.isString(a)?'<a class="fa fa-envelope inline-link" onclick="onExternalLinkClick(this, event)" target="_blank" href="mailto:'+a+'">&nbsp;&nbsp;'+a+"</a>":a}function m(a,b,c){if(a&&_.isString(a)){var d=a;c.userColumnDef.stringFormat&&(d=e.strFormat(c.userColumnDef.stringFormat,d));var f=a.trim().toLowerCase();return"http"!==f.substr(0,4)&&(d="http://"+f),c.userColumnDef.urlLabel&&(a=c.userColumnDef.urlLabel),'<a class="fa fa-globe inline-link" target="_blank" href="'+d+'">&nbsp;&nbsp;'+a+"</a>"}return a}function n(a,b,c){var d=c.userColumnDef.oFormat.FormatString;if(d){var e=moment(a);if(e.isValid())return d=d.toUpperCase().replace("HH:MM","HH:mm"),e.format(d)}return a}function o(a,b,c,d){var e=c.userColumnDef.sFormatString;if("yes-no"===e){var f=a?"yes":"no";return"<span>"+f+"</span>"}var g=c.userColumnDef.bUpdatable?'mdata="'+c.mData+'"':"",h=a?G:H;return d?'<span class="checkbox-display fa fa-lg '+h+'"'+g+"></span>":'<div class="inline checkbox-display-container"><span class="ep-center-item checkbox-display fa fa-lg '+h+'"'+g+"></span></div>"}function p(a,b,c,d){var e=parseFloat(a);if(!isNaN(e)){var f=c.userColumnDef;if(f.oFormat&&f.oFormat.NumberFormatInfo&&f.oFormat.NumberFormatInfo.NumeralJSFormat)a=numeral(e).format(f.oFormat.NumberFormatInfo.NumeralJSFormat);else{var g=f.oFormat&&f.oFormat.NumberFormatInfo?f.oFormat.NumberFormatInfo.CurrencyDecimalDigits:2;a=e.toFixed(g)}}return d?"<span>"+a+"</span>":'<div class="right-align"><span>'+a+"</span></div>"}function q(a,b,c,d){var e=parseFloat(a);if(!isNaN(e)){var f=c.userColumnDef;if(f.oFormat&&f.oFormat.NumberFormatInfo&&f.oFormat.NumberFormatInfo.NumeralJSFormat)a=numeral(e).format(f.oFormat.NumberFormatInfo.NumeralJSFormat);else{var g=f.oFormat&&f.oFormat.NumberFormatInfo?f.oFormat.NumberFormatInfo.NumberDecimalDigits:2;a=e.toFixed(g)}}return d?"<span>"+a+"</span>":'<div class="right-align"><span>'+a+"</span></div>"}function r(a,b,c,d){var e=parseInt(a);return isNaN(e)||(a=e),d?"<span>"+a+"</span>":'<div class="right-align"><span>'+a+"</span></div>"}function s(){return"<span><i class='row-indicator text-primary'></i></span>"}function t(){return"<span><i class='edit-indicator text-danger'></i></span>"}function u(a,b,c,d,e,f){var g=c.userColumnDef,h=f.state.metadata.combos[g.sBaseType]?f.state.metadata.combos[g.sBaseType][a]:"";return void 0!==h?h:a}function v(a,b,c,d,e){var f="",g=c.userColumnDef,h=g.groupWrap&&(void 0===a||null===a||angular.isString(a)&&!a);if(!h)if(g.sRenderSubType&&K[g.sRenderSubType]){var i=K[g.sRenderSubType](a,b,c,!0);(null===i||void 0===i)&&(i=""),f+=i}else f+=null!==a&&void 0!==a?"<span>"+a+"</span>":"<span></span>";return angular.forEach(g.groupMembers,function(a){var c=_.find(e.aoColumns,function(b){return b.mData===a}),d=b[a],g=c.userColumnDef;if(h=g.groupWrap&&(void 0===d||null===d||angular.isString(d)&&!d),!h)if(f&&(f+="<br/>"),c&&g.sRenderType&&K[g.sRenderType]){var i=K[g.sRenderType](d,b,c,!0);(null===i||void 0===i)&&(i=""),f+=i}else f+=null!==d&&void 0!==d?"<span>"+d+"</span>":"<span></span>"}),"<div>"+f+"</div>"}function w(a,b,c,d,e){b=null!==b?b:"";var f=b,g=e.settings.aoColumns[e.col];if(g&&g.userColumnDef){var h=g.userColumnDef;K[h.sRenderType]&&(f=K[h.sRenderType](b,d,g,!1,e.settings,a))}return a.options.fnOnRenderGridCell&&(f=a.options.fnOnRenderGridCell(f,c,d,e,g,f)),f}function x(a){a.state.$table.off("click").off("dblclick");var b=$.fn.dataTable.fnTables(!1);if(b.length)try{$(b).dataTable().fnDestroy(!0)}catch(d){c.error(d,"failed to destroy the grid - exception from DataTables")}a.state.tableElement.length&&a.state.tableElement.empty()}function y(c,d,e,f,g,h,i){function j(a,b){var d=$(a);if(d.removeClass("sorting_disabled").addClass("sorting"),d.off("click"),d.on("click",function(){var a=d.hasClass("sorting_asc")?"desc":"asc";y(c,l.gridLoadPrms.previousPrms.searchTerm,b.mData,a,!1,!0,!1)}),b.mData===l.gridLoadPrms.previousPrms.sortColIdx){c.findElement("th").removeClass("sorting_desc").removeClass("sorting_asc");var e=l.gridLoadPrms.previousPrms.sortDir||"asc";d.addClass("sorting_"+e)}}function k(d){if(c.state.dataRetrieveInProcess=!1,c.findElement("#loadMoreDownRow").addClass("disabled").off("click"),d&&d.Success){h&&c.hideProgressIndicator(),n=c.state.dataTable.fnSettings();var e=d&&d.aaData?d.aaData.length:0;!g||i?(m.iLoadedRecordLength=e,c.state.dataTable.fnClearTable()):m.iLoadedRecordLength+=e,n._iRecordsTotal=d?d.iTotalRecords:0,m.iTotalRecords=n._iRecordsDisplay=d?d.iTotalDisplayRecords:0,n._iDisplayLength=m.iLoadedRecordLength,l.isLoadingMore=!0,l.isDataLoaded=d.iTotalDisplayRecords>0,l.totalViewRecords=d?d.iTotalDisplayRecords:0,l.hasRecords=l.totalViewRecords>0,l.retrievingData=!1;var f=c.findElement(".dataTables_scrollBody"),k=f.scrollTop();e&&c.state.dataTable.fnAddData(d.aaData),f.scrollTop(k),m.iDisplayStart+=d.aaData.length,m.iDisplayStart=Math.min(d.iTotalDisplayRecords,m.iDisplayStart);var o;l.configureGridActions=function(){if(l.atTheEnd=d.iTotalDisplayRecords-m.iLoadedRecordLength===0,!l.atTheEnd){if(o=c.findElement("#loadMoreDownRow"),!o.length){var e='<table width="100%"><td><hr /></td><td class="load-more-cell"><span class="load-more-indicator fa fa-arrow-down"></span>  Load More  <span class="load-more-indicator fa fa-arrow-down"></span></td><td><hr /></td></table>';o=$("<tr class='loading-row' id='loadMoreDownRow'><td colspan='"+l.visColCount+"'><div class='load-more'><a>"+e+"</a></div></td></tr>"),c.state.dataTable.append(o)}o.off("click").removeClass("disabled").on("click",function(){m.iPageNumber++,c.findElement(".load-more-cell").empty().addClass("fa fa-spinner fa-2x fa-pulse");var a=l.gridLoadPrms.previousPrms;y(c,a.searchTerm,a.sortColIdx,a.sortDir,!0,!1,!1)})}if(c.state.ordering){var f=c.grApi(),g=c.grColumns();f.columns().eq(0).each(function(a){var b=f.column(a),c=_.find(g,function(a){return a.idx===b.index()});c&&c.orderable&&j(b.header(),c)})}if(c.options.showToggleFilterButton){var h=c.grGetCellIndexByColumn("rowIndicator");if(h>=0){var i=c.grApi().column(h).header();0===$(i).find(".fa-filter").length&&angular.element(i).append(b("<ep-data-grid-filter-toggle></ep-data-grid-filter-toggle>")(c))}}a(function(){c.state.dataTable.fnAdjustColumnSizing(!1)},200),C(c)},l.configureGridActions()}h&&c.hideProgressIndicator()}if(c.state.dataRetrieveInProcess!==!0){c.state.dataRetrieveInProcess=!0;var l=c.state,m=l.gridLoadPrms;(d!==m.previousPrms.searchTerm||i)&&(m.iPageNumber=1),m.previousPrms.searchTerm=d,m.previousPrms.sortColIdx=e,m.previousPrms.sortDir=f,m.previousCall={append:g,showIndicator:h,forceRefresh:i};var n=c.state.dataTable.fnSettings();(!g||i)&&(m.iDisplayStart=0,m.iDisplayLength=50*m.iPageNumber,m.iLoadedRecordLength=0,m.iTotalRecords=0),h&&c.showProgressIndicator(),m.previousPrms.iDisplayStart=m.iDisplayStart,m.previousPrms.iDisplayLength=m.iDisplayLength;var o={iDisplayStart:m.iDisplayStart,iDisplayLength:m.iDisplayLength,sSearch:d,iSortCol:e,sSortDir:f,sEcho:"1",bFilterOn:c.state.filterShowFlag,sFilterCriteria:c.state.filterExpressions,bForceRefresh:i||!1,childGridId:c.state.metadata&&c.state.metadata.gridId?c.state.metadata.gridId:"",childGridArgValues:c.options.childGridArgValues,parentKey:c.options.parentKey};a(function(){});var p=c.options.fnGetServerData(o);void 0!==p.then?p.then(k):k(p)}}function z(a,b){if(!b.sRenderType){b.sBizType&&("phone"===b.sBizType||"address"===b.sBizType||"email"===b.sBizType||"url"===b.sBizType||"currency"===b.sBizType)&&(b.sRenderType=b.sBizType);var c=b.sDataType.toLowerCase();0===c.indexOf("system.")&&(c=c.substr(7)),"datetime"===c&&b.oFormat.FormatString?b.sRenderType="date":("bool"===c||"boolean"===c)&&(b.sRenderType="bool"),b.sControlType&&"epicombo"===b.sControlType.toLowerCase()&&(b.sRenderType="select"),("int32"===c||"int64"===c||"long"===c||"int16"===c)&&(b.sRenderType="integer"),("double"===c||"decimal"===c||"float"===c)&&(b.sRenderType="decimal"),b.groupMembers&&"group"!==b.sRenderType&&(b.sRenderSubType=b.sRenderType,b.sRenderType="group")}b.mRender=a.renderGridCell}function A(a,b,c){function d(b){void 0===b.oFormat&&(b.oFormat={}),void 0===b.sDataType&&(b.sDataType="System.String"),z(a,b);var c=void 0===b.bVisible||b.bVisible===!0,d=!1;if(a.state.ordering&&(d=void 0===b.orderable?void 0===b.bSortable?!0:b.bSortable:b.orderable),b.oFormat.MaxLength){var g=Math.max(Math.min(3*b.oFormat.MaxLength,400),120);b.sWidth=g+"px"}else b.sWidth="120px";b.sClass+=" data-col-"+(b.cssClassSuffix?b.cssClassSuffix:b.iIndex);var h={iIndex:f,targets:[f],name:b.sName,title:b.sTitle||"",visible:void 0===c?!0:c,className:b.sClass,data:void 0===b.mData?-1:b.mData,orderable:d,render:a.renderGridCell,userColumnDef:b};e.push(h),f++}var e=[],f=0;return angular.forEach(c,function(a){d(a)}),angular.forEach(b.columns,function(a){d(a)}),e}function B(b){var c=b.options.metadata,d=[{sName:"rowIndicator",sTitle:"",bVisible:!0,sClass:"fixed",orderable:!1,sRenderType:"rowIndicator",cssClassSuffix:"ri"},{sName:"editIndicator",sTitle:"",bVisible:!!b.options.showEditIndicator,sClass:"fixed",orderable:!1,sRenderType:"editIndicator",cssClassSuffix:"ei"}];b.state.gridColumns=A(b,c,d),b.state.gridLoadPrms={iPageNumber:1,iDisplayStart:0,iDisplayLength:100,iLoadedRecordLength:0,iTotalRecords:0,previousPrms:{sortColIdx:-1,sortDir:"",searchTerm:"",iDisplayStart:0,iDisplayLength:100}},b.state.options={bDestroy:!0,bServerSide:!1,ordering:!1,order:[],bProcessing:!1,pageLength:100,bAutoWidth:!1,columns:b.state.gridColumns,sScrollY:b.calcTableHeight(),sScrollX:"100%",scrollCollapse:!1,sDom:"rti",bDeferRender:!0,infoCallback:function(){var a=b.state.gridLoadPrms.iTotalRecords?1:0;return b.recordsInfo=e.strFormat("Showing {0}records {1} to {2} of {3}",b.state.gridLoadPrms.previousPrms.searchTerm?"<strong>filtered</strong> ":"",a,b.state.gridLoadPrms.iLoadedRecordLength,b.state.gridLoadPrms.iTotalRecords),b.options.fnUpdateRecordsInfo?(b.options.fnUpdateRecordsInfo(b.recordsInfo),""):b.recordsInfo},createdRow:function(a,c){b.options.fnOnCreatedRow&&b.options.fnOnCreatedRow(a,c)}},b.state.dataTable=$(b.state.tableElement).dataTable(b.state.options),a(function(){angular.forEach(b.state.gridColumns,function(a){a.userColumnDef.bHideInGrid&&b.grApi().column(a.iIndex).visible(!1),b.findElement(".data-col-"+a.iIndex).css("min-width",a.userColumnDef.sWidth).css("width",a.userColumnDef.sWidth)}),b.state.visColCount=_.filter(b.state.gridColumns,function(a){return a.visible}).length;var c=b.state.dataTable.fnSettings(),d=c.aaSorting&&c.aaSorting.length,e=b.options.showEditIndicator===!0?2:1,g=d?c.aaSorting[0][0]:e,h=d?c.aaSorting[0][1]:"asc",i=b.grFindColumnByCellIndex(g);if(i&&(g=i.mData),b.setInitialFilters(),y(b,"",g,h,!1,!1,!1),b.resizeTable(!1),b.state.$table.on("click",b.tableCellClick),b.state.$table.on("dblclick",b.tableCellDblClick),f.hasTouchEvents()&&b.state.$table.css("touch-action","manipulation"),b.state.allowSearchInput){var j="";b.options.startSearchValue&&(b.state.searchValue=b.options.startSearchValue),b.applySearch=function(a){j!==a&&(a||j)&&(j=a,y(b,b.state.searchValue,0,"asc",!1,!0,!1))},b.findElement("#searchInput").each(function(){this.initVal=this.value}),b.fnOnSearchFocus=function(){b.searchInputClass&&(b.searchInputClass="",b.state.searchValue="")},b.fnOnSearchBlur=function(){var c=b.state.searchValue;if(""===c)b.searchInputClass="search_init",b.state.searchValue=b.options.startSearchValue?"":b.state.searchInitVal;else if(b.options.startSearchValue&&!b.startSearchBlur&&b.options.startSearchValue===c)return void(b.startSearchBlur=!0);a(function(){b.applySearch(b.state.searchValue)},200),b.applySearch(b.state.searchValue)},b.fnOnSearchKeyUp=function(a){var c=b.state.searchValue;(13===a.keyCode||""===c)&&b.applySearch(c)},b.fnOnSearchChange=function(){var a=b.state.searchValue;""===a&&b.applySearch(a)}}})}function C(b){if(b.state.allowSearchInput){var c=b.state.linkElement.closest(".modal-body");if(c.length){var d=b.findElement(".ep-dg-grid-search");d.width(c.width()-20)}}var e=-1;if(b.state.allowSearchInput&&b.options.startSearchValue&&!b.state.startSearchCompleted&&b.options.startSearchIndex>=0){b.state.startSearchCompleted=!0;var f=b.grApi(),g=b.grGetCellIndexByColumn(b.options.startSearchIndex);if(-1!==g){var h=b.options.startSearchValue.toString().toLowerCase(),i=_.find(f.rows().eq(0),function(a){var c=f.cell(a,g).data();return b.options.startSearchExactMatch?c===b.options.startSearchValue?!0:c||0===c?c.toString().toLowerCase()===h:c===b.options.startSearchValue:c||0===c?c.toString().toLowerCase().indexOf(h)>=0:c===b.options.startSearchValue});(i||0===i)&&(e=i)}}e>-1&&(b.activateNthRow(e,!0)||(e=-1)),-1>=e&&b.activateFirstRow(),b.state.$table.removeClass("table-hover"),b.state.allowSearchInput&&a(function(){b.findElement(".ep-dg-search-input").focus()}),b.options.fnOnTableInitComplete&&b.options.fnOnTableInitComplete()}function D(c,d){c.state=h(),c.state.gridFactory=new g(c),c.state.dataGridId=c.epDataGridOptions&&c.epDataGridOptions.dataTableId?c.epDataGridOptions.dataTableId:c.state.gridFactory.id,c.options={},c.state.scope=c,c.state.linkElement=d,c.state.tableElement=d.find(".ep-dg-grid-table:first-child"),c.state.$table=angular.element(c.state.tableElement),c.viewState=c.state,c.setGridOptions=function(a){c.options=a,c.options.gridFactory=c.state.gridFactory,c.state.allowSearchInput=c.options.allowSearchInput,c.state.ordering=void 0===c.options.ordering?c.state.ordering:c.options.ordering,void 0===a.metadata||angular.equals(a.metadata,c.state.metadata)||(c.state.metadata=a.metadata,c.options.createGridByFactoryOnly||B(c))},c.createGrid=function(){if(c.state.dataTable&&(x(c),c.state.dataTable=null,c.state.$table.length)){var a=c.state.$table.clone();c.state.$table.remove(),c.state.tableElement=a,c.state.$table=angular.element(c.state.tableElement),c.state.$table.prependTo("#tblArea_"+c.state.dataGridId)}B(c)},c.$watch("epDataGridOptions",function(a){a&&c.setGridOptions(a)}),c.grDataTable=function(){return c.state.dataTable.dataTable()},c.grData=function(){var a=c.grDataTable();return a.fnGetData()},c.grApi=function(){return c.grDataTable().api()},c.grColumns=function(){var a=c.grDataTable();return a.fnSettings().aoColumns},c.grGetRowNodeByIndex=function(a){var b=c.grApi().row(a);return null===b?null:b.node()},c.grGetCellIndexByColumn=function(a){var b=c.grColumns(),d=angular.isString(a),e=null;return e=d?_.find(b,function(b){return b.sName===a}):_.find(b,function(b){return b.mData===a}),e?e.idx:-1},c.grFindColumnByCellIndex=function(a){var b=c.grColumns();return _.find(b,function(b){return b.nTh.cellIndex===a})},c.getRowByColumnValue=function(a,b){var d=null,e=c.grGetCellIndexByColumn(a);if(-1!==e){var f=c.grApi(),g=$.inArray(b,f.column(e).data());d=c.state.dataTable.find("tbody tr")[g]}return d},c.calcTableHeight=function(){var a=0;if(c.state.$table.length&&(a=$(c.state.linkElement).height(),c.options.fnOnCalcTableHeight)){var b=c.findElement(".dataTables_scrollBody").offset();a=c.options.fnOnCalcTableHeight(a,b)}return a},c.findInTable=function(a){return c.state.tableElement.find(a)},c.findElement=function(a){return c.state.linkElement.find(a)},c.renderGridCell=function(a,b,d,e){return w(c,a,b,d,e)},c.tableCellClick=function(a){c.tableCellClicked(a,!1)},c.tableCellDblClick=function(a){c.tableCellClicked(a,!0)},c.tableCellClicked=function(a,b){for(var d=a.target;d&&d!==this;){if("TR"===d.nodeName&&d.parentNode&&"TBODY"===d.parentNode.nodeName){c.activateRow(d),b&&c.options.fnOnGridRowDoubleClick?c.options.fnOnGridRowDoubleClick(d):c.options.fnOnCheckBoxClick&&c.processCheckBoxGridClick(a.target,d);break}d=d.parentNode}c.options.fnExpandCollapseChildGrid&&c.options.fnExpandCollapseChildGrid(a,d,c)},c.processCheckBoxGridClick=function(a,b){var d=c.state;if(c.options.fnOnCheckBoxClick&&b&&d.activeRow){var e=$(a);if(e.hasClass&&e.hasClass("checkbox-display")&&e.attr("mdata")){d.activeRecord=d.dataTable.fnGetData(d.activeRow);var f=e.closest("td");if(d.activeRecord&&f){var g=parseInt(e.attr("mdata"));if(!isNaN(g)){var h=_.find(c.state.gridColumns,function(a){return a.mData===g});h&&c.options.fnOnCheckBoxClick(d.activeRecord,h)}}}}},c.activateFirstRow=function(){c.activateNthRow(0,!1)},c.activateNthRow=function(b,d){var e=c.grGetRowNodeByIndex(b);return e&&a(function(){if(angular.element(e).trigger("click"),d){var a=c.state.linkElement.find(".dataTables_scrollBody");a.animate({scrollTop:$(e).prop("offsetTop")-a.height()/2},100)}},100),e},c.getPrevNextRow=function(a,b){if(1!==a&&-1!==a)return null;var d=void 0===b?c.state.activeRow:b,e=1===a?$(d).next():$(d).prev();if(e&&e.length){var f=e.get(0);return angular.element(f).find(".row-alert").length?c.getPrevNextRow(a,f):"loadMoreDownRow"===f.id?null:f}return null},c.activateRow=function(a){var b=c.state;if(b.activeRow){var d=angular.element(b.activeRow);d.removeClass("active").find(".row-indicator").removeClass(E)}a&&void 0!==a._DT_RowIndex&&(b.activeRow=a,b.activeRecord=b.dataTable.fnGetData(a),c.options.fnOnActivateRow&&c.options.fnOnActivateRow(b.activeRecord,b.activeRow),c.updateTableEditState(),angular.element(a).addClass("active").find(".row-indicator").addClass(E),c.options.fnSetRowIndicator&&c.options.fnSetRowIndicator(a,c))},c.scrollToRow=function(b){var d=angular.element(b?b:c.state.activeRow);d&&a(function(){var a=c.findElement(".dataTables_scrollBody"),b=d.offset().top-a.offset().top;a.scrollTop(b)})},c.updateTableEditState=function(){var a=c.state,b=angular.element(a.activeRow);a.dataTable.find(b).length||(c.activateFirstRow(),b=angular.element(a.activeRow)),c.findInTable(".row-indicator").removeClass(E),a.dataTable.find("tr.active").removeClass("active");var d=a.dataTable.find("tr");d.find("td").removeClass("edit-pending"),d.find(".edit-indicator").removeClass(F).removeClass(I),c.options.fnOnTableEditState&&c.options.fnOnTableEditState(),b.addClass("active").find(".row-indicator").addClass(E)},c.updateTableEditStateActiveRow=function(){if(null!==c.state.activeRow&&null!==c.state.activeRecord){var a=$(c.state.activeRow),b=a.find(".row-indicator");$(b).removeClass(E),a.find("tr.active").removeClass("active"),b.removeClass(F).removeClass(I),c.options.fnOnTableEditState&&c.options.fnOnTableEditState(c.state.activeRecord),b.addClass(E)}},c.setRowEditMode=function(a,b){var c=angular.element(a);"edit"===b&&c.find(".edit-indicator").addClass(F)},c.appendRow=function(a){var b=c.state.dataTable.fnSettings();b._iDisplayLength++;var d=c.state.dataTable.fnAddData(a,!0)[0],e=c.state.dataTable.find("tr"),f=$(e.get(d+1));return f},c.resizeTable=function(b){a(function(){if(c.state.dataTable){var a=c.calcTableHeight(),d=c.state.dataTable.fnSettings(),e=a+"px";d&&d.oScroll&&(b||d.oScroll.sY!==e)&&(d.oScroll.sY=e,c.findElement(".dataTables_scrollBody").height(a))}},300)},c.refreshData=function(){if(c.state.dataTable){var a=c.state.gridLoadPrms.previousPrms;y(c,a.searchTerm,a.sortColIdx,a.sortDir,!0,!1,!0);
}},c.callPreviousGetData=function(){if(c.state.dataTable){var a=c.state.gridLoadPrms.previousPrms,b=c.state.gridLoadPrms.previousCall;y(c,a.searchTerm,a.sortColIdx,a.sortDir,b.append,b.showEditIndicator,!1)}},c.showProgressIndicator=function(){c.options.fnShowProgressIndicator&&c.options.fnShowProgressIndicator()},c.hideProgressIndicator=function(){c.options.fnHideProgressIndicator&&c.options.fnHideProgressIndicator()},c.createFilter=function(){if(0===c.findElement(".ep-datagrid-filter-row").length){var a=c.grApi().table().header();return angular.element(a).append(b("<ep-data-grid-filter-row></ep-data-grid-filter-row>")(c)),!0}return!1},c.showFilter=function(){c.createFilter(),c.state.filterShowFlag=!0},c.hideFilter=function(){c.state.filterShowFlag=!1},c.toggleFilter=function(){c.createFilter()?c.state.filterShowFlag=!0:c.state.filterShowFlag=void 0===c.state.filterShowFlag?!0:!c.state.filterShowFlag},c.getFilterState=function(){var a=c.state;if(a.filterExpressions=[],c.state.filterShowFlag&&c.state.filterEditors){var b=[];angular.forEach(c.state.filterEditors,function(c){if(!c.hidden&&""!==c.value){var d=c.name;if(""!==c.value&&d&&c.operator){var e={ColName:d,Operator:c.operator,Value:c.value};a.filterExpressions.push(e),b.push(c)}}})}},c.setInitialFilters=function(){c.state.filterExpressions=c.options.filterExpressions;var a=!(!c.state.filterExpressions||!c.state.filterExpressions.length);a?c.showFilter():c.getFilterState(this)},c.onHideFilter=function(){var a=!1;angular.forEach(c.state.filterEditors,function(b){b.hidden||""===b.value||(a=!0,b.value="")}),a&&c.applyFilter()},c.onChangeFilter=function(){c.applyFilter()},c.applyFilter=function(){c.getFilterState();var a=c.state.gridLoadPrms.previousPrms;y(c,a.searchTerm,a.sortColIdx,a.sortDir,!1,!0,!1)},c.epDataGridOnInit&&c.epDataGridOnInit({factory:c.state.gridFactory})}var E="fa fa-play",F="fa fa-square",G="fa-check-square-o",H="fa-square-o",I="fa fa-edit",J=f.getFeatures();d.onExternalLinkClick=i;var K={group:v,bool:o,date:n,phone:j,address:k,email:l,url:m,currency:p,integer:r,decimal:q,select:u,rowIndicator:s,editIndicator:t};return{restrict:"E",templateUrl:"src/components/ep.datagrid/datagrid.html",scope:{epDataGridOptions:"=",epDataGridOnInit:"&"},link:D}}]),angular.module("ep.drag.drop").factory("dragOperationFactory",[function(){function a(a){var b={};return b.dropCallback=a.dropCallback,b.dropCallbackParams=a.dropCallbackParams,b.dragItem=a.dragItem,b.dragItemType=a.dragItemType,b}return{getDragOperation:a}}]),angular.module("ep.drag.drop").directive("epDraggable",["dragOperationFactory",function(a){return{restrict:"A",scope:{dropCallback:"=dropCallback",dropCallbackParams:"=dropCallbackParams",dragItem:"=dragItem",dragItemType:"=dragItemType"},compile:function(b,c){return c.draggable||b.attr("draggable","true"),function(b,c){if(!b.dragItemType)throw new Error("Dragged item type is not specified!");c.on("dragstart",function(c){var d=a.getDragOperation(b),e=function(){return d};b.$root.$broadcast("startDraging",e),c.stopPropagation()})}}}}]),angular.module("ep.drag.drop").controller("epDropAreaCtrl",["$scope",function(a){function b(a,b){f=b}function c(b){var c=f(),d=e.dropItemTypes.split(",");if(Array.isArray(d)&&d.length>1){if(-1===d.indexOf(c.dragItemType))return}else if(e.dropItemTypes!==c.dragItemType)return;a[e.dropHandler]&&a[e.dropHandler].call(c.dragItem||this,c),b.stopPropagation()}function d(a){return a.preventDefault(),!1}var e=this;e.onDragStart=b,e.onDrop=c,e.onDragOver=d;var f}]),angular.module("ep.drag.drop").directive("epDropArea",[function(){return{restrict:"A",controller:"epDropAreaCtrl",controllerAs:"dropCtrl",compile:function(){return function(a,b,c){a.dropCtrl.dropItemTypes=c.dropItemTypes,a.dropCtrl.dropHandler=c.dropHandler,a.$on("startDraging",a.dropCtrl.onDragStart),b.on("drop",a.dropCtrl.onDrop),b.on("dragover",a.dropCtrl.onDragOver)}}}}]),angular.module("ep.embedded.apps").directive("epEmbeddedAppsLoader",["$http","$log","$q","$compile","$timeout","epEmbeddedAppsCacheService","epEmbeddedAppsProvider",function(a,b,c,d,e,f,g){return{scope:{config:"=",onComplete:"&"},link:function(h,i){function j(){l&&(l.$destroy(),l=null),i.html("")}function k(d){var g,h=c.defer(),i="view:"+d;return f.scriptCache.get(i)?(g=f.scriptCache.get(i),e(function(){h.resolve(g)},0)):a.get(d).success(function(a){f.scriptCache.put(i,a),h.resolve(a)}).error(function(a){b.error('Error loading template "'+d+"': "+a),h.reject(a)}),h.promise}var l;h.$watch("config.id",function(a,b){var c=h.config;a===b&&c&&c.id?g.load(c).then(function(){var a=c.activeViewId||c.startViewId,b=g.getAppPath(c.id,c.views[a].templateUrl);return k(b)}).then(function(a){l=h.$new(),i.html(a);var b=i.contents(),c=d(b);c(l),h.onComplete&&h.onComplete()}):j()})}}}]),angular.module("ep.embedded.apps").service("epEmbeddedAppsShellService",["$rootScope","$location","$log","$timeout","epEmbeddedAppsConstants","epEmbeddedAppsProvider",function(a,b,c,d,e,f){function g(a){f.state&&f.state.loadComplete?a():d(function(){g(a)},250)}function h(){try{m=angular.element("html").injector().get("epShellService")}catch(b){c.warn("epShellService is not found for embedded applications")}m&&(a.$on(e.CONFIG_LOADED_EVENT,function(a,b){n=b.goToView,k(b.configs)}),a.$on(e.APPLICATION_LOADED_EVENT,function(a,b){var c=b.scope,d=c.appConfig;d.name&&m.setPageTitle(d.name),m.saveState(),i(c,d)}),a.$on(e.APPLICATION_EXIT_EVENT,function(){m.restoreState()}),a.$on(e.VIEW_LOADED_EVENT,function(a,b){var c=b.scope,d=c.appConfig,e=d.views[b.viewId];e&&g(function(){j(c,d,e)})}))}function i(a,c){if(c.epShellNavBar&&(c.epShellNavBar.hideHostButtons&&m.updateNavbarButtons([]),c.epShellNavBar.closeButton)){var d=c.epShellNavBar.closeButton;m.addNavbarButtons([{id:d.id||"ep.embedded.app_closeApp",title:d.title||"Close application and return home.",icon:d.icon||"fa-times",action:function(){b.url("/home")}}])}}function j(a,b,c){if(c.sidebarOptions){if(m.disableLeftSidebar(),c.sidebarOptions.left)if(m.enableLeftSidebar(),c.sidebarOptions.left.templateUrl){var d=a.embeddedAppsService.getAppPath(b.id,c.sidebarOptions.left.templateUrl);m.setLeftTemplate("<div ng-include=\"'"+d+"'\"></div>")}else c.sidebarOptions.left.template&&m.setLeftTemplate(c.sidebarOptions.left.template);if(m.disableRightSidebar(),c.sidebarOptions.right)if(m.enableRightSidebar(),c.sidebarOptions.right.templateUrl){var e=a.embeddedAppsService.getAppPath(b.id,c.sidebarOptions.right.templateUrl);m.setRightTemplate("<div ng-include=\"'"+e+"'\"></div>")}else c.sidebarOptions.right.template&&m.setRightTemplate(c.sidebarOptions.right.template)}else m.disableLeftSidebar(),m.disableRightSidebar();if(c.viewSettings){var f=c.viewSettings;f.small&&_.each(f.small,function(a,b){m.__state.viewSettings.small[b]=a}),f.large&&_.each(f.large,function(a,b){m.__state.viewSettings.large[b]=a}),f.small||f.large||_.each(f,function(a,b){m.__state.viewSettings.small[b]=a,m.__state.viewSettings.large[b]=a}),m.__setCurrentModeFlags()}}function k(a){var b;a&&angular.forEach(a,function(a){if(a.epShellNavBar&&a.epShellNavBar.applicationButton){var c=a.epShellNavBar.applicationButton;m.addNavbarButtons([{id:"ep.embedded.app_"+a.id,title:c.title||a.name,icon:c.icon||a.icon,action:function(){n(a.id)}}])}a.startupInShell&&(b=a)}),b&&n(b.id)}function l(){}var m,n;return d(function(){h()}),{initialize:l,setupShellConfigs:k}}]),angular.module("ep.embedded.apps").constant("epEmbeddedAppsConstants",{CONFIG_LOADED_EVENT:"EMBEDDED_CONFIG_LOADED_EVENT",APPLICATION_LOADED_EVENT:"EMBEDDED_APPLICATION_LOADED_EVENT",VIEW_LOADED_EVENT:"EMBEDDED_VIEW_LOADED_EVENT",APPLICATION_EXIT_EVENT:"EMBEDDED_APPLICATION_EXIT_EVENT"}),angular.module("ep.embedded.apps").directive("epEmbeddedApps",["$document","$log","$rootScope","$routeParams","$location","$timeout","epEmbeddedAppsService","epEmbeddedAppsCacheService","epEmbeddedAppsConstants",function(a,b,c,d,e,f,g,h,i){return{restrict:"E",templateUrl:"src/components/ep.embedded.apps/embedded-apps.html",link:function(j){function k(k){var m=g.configs[k];if(m){var n;if(n=l.viewId?m.views[l.viewId]:m.views[m.startViewId],n&&(n.parent=m,m.activeViewId=l.viewId,j.currentView=n,n.routeParams)){var o=n.routeParams.split("/").map(function(a){return a.substring(1,a.length)}),p=0;angular.forEach(o,function(a){a&&(d[a]=d["p"+p],delete d["p"+p],p++)})}if(!m.initialized&&m.splash){f(function(){j.showSplash=!0}),j.showApp=!1;var q=new Date;j.onLoaderComplete=function(){var a=Math.max(2e3-(new Date-q),0);m.initialized=!0,f(function(){j.showSplash=!1,j.showApp=!0,j.$apply()},a)}}else j.showApp=!0,m.onComplete=null,m.initialized=!0;if(j.appConfig=m,j.embeddedAppsService=g,m.isRunning!==!0){m.isRunning=!0;var r=g.getAppRoute("");m.locationHdl||(m.locationHdl=c.$on("$locationChangeStart",function(){m.locationHdl&&0!==e.url().indexOf(r)&&(c.$on("$destroy",m.locationHdl),m.locationHdl=null,m.isRunning=!1,c.$emit(i.APPLICATION_EXIT_EVENT,{scope:j,viewId:l.viewId}),m.resources.links.forEach(function(c,d){var e="link_"+d,f=a[0].getElementById(e);f&&(a[0].getElementsByTagName("head")[0].removeChild(f),b.debug("Unloading link: "+c)),h.linkCache.remove(e)}),f(function(){j.$apply()}))})),f(function(){j.$emit(i.APPLICATION_LOADED_EVENT,{scope:j,viewId:l.viewId}),j.$apply()})}f(function(){j.$emit(i.VIEW_LOADED_EVENT,{scope:j,viewId:l.viewId}),j.$apply()})}}var l=g.state;j.showSplash=!1,c.$watch(function(){return g.state.loadComplete},function(a){a&&(l.appId=d.appId,d.viewId&&(l.viewId=d.viewId),k(l.appId))})}}}]),angular.module("ep.embedded.apps").service("epEmbeddedAppsCacheService",["$cacheFactory",function(a){var b=a("scriptCache",{capacity:200}),c=a("linkCache",{capacity:200});return{scriptCache:b,linkCache:c}}]).provider("epEmbeddedAppsProvider",["$controllerProvider","$provide","$compileProvider","$filterProvider",function(a,b,c,d){function e(a){try{angular.module(a)}catch(b){if(/No module/.test(b))return!1}return!0}function f(a){var b=[];return angular.forEach(a.requires,function(a){-1===k.indexOf(a)&&b.push(a)}),b}function g(a,b,c,d){var e,f,g,h,i,j,l,m;if(d){var n=[],o=[];for(g=d.length-1;g>=0;g--){i=d[g],k.push(i),j=angular.module(i),o=o.concat(j._configBlocks),n=n.concat(j._runBlocks);try{for(h=j._invokeQueue,e=0,f=h.length;f>e;e++){if(l=h[e],!c.hasOwnProperty(l[0]))return a.error("unsupported provider "+l[0]);m=c[l[0]],m[l[1]].apply(m,l[2])}}catch(p){throw p.message&&(p.message+=" from "+i),a.error(p.message),p}d.pop()}angular.forEach(n,function(a){b.invoke(a)})}return null}function h(){var a=_.flatten(arguments,!0),b=l.path;return angular.forEach(a,function(a){b+="/"+a}),b}function i(){var a=_.flatten(arguments,!0),b="/"+l.rootRoute;return angular.forEach(a,function(a){b+="/"+a}),b}function j(a,b){return p=a,["$location",function(a){function c(){return h(p.id,arguments)}function d(){return i(p.id,arguments)}function e(b){a.url(d(b))}function f(a,c,d,e,f){return void 0!==e&&null!==e&&!f&&j[e]?b(function(){return j[e]}):void 0}function g(){return p}var j={},k={get:function(a,b,c){return f("get",a,"",b,c)},post:function(a,b,c,d){return f("post",a,b,c,d)},put:function(a,b,c,d){return f("put",a,b,c,d)},"delete":function(a,b,c,d){return f("delete",a,"",c,d)}};return{getConfig:g,resource:k,data:j,goToView:e,getAppPath:c,getAppRoute:d}}]}var k=["ng"],l={rootRoute:"app",path:"apps",provider:"sysconfig",applications:[]},m={},n={$controllerProvider:a,$compileProvider:c,$filterProvider:d,$provide:b},o=[];o.push=function(a){-1===this.indexOf(a)&&Array.prototype.push.apply(this,arguments)};var p,q={loadComplete:!1};this.$get=["$timeout","$document","$http","$injector","$log","$q","epEmbeddedAppsCacheService","epSysConfig","epUtilsService",function(a,b,c,d,p,r,s,t,u){function v(i){function l(c,d,e){function f(a){function b(){e--,1>e&&d.resolve()}var d=r.defer(),e=a.length;return 0===e&&d.resolve(),a.forEach(function(a){u.loadScript(a,s.scriptCache).then(function(a){c(a)}).then(b,b)}),d.promise}q.loadComplete=!1;var g=(i.resources.scripts.thirdParty||[]).map(function(a){return h(i.id,a)});f(g).then(function(){var a=i.resources.scripts.module;return u.loadScript(h(i.id,a),s.scriptCache).then(function(a){c(a)})}).then(function(){var a=i.resources.scripts.app.map(function(a){return h(i.id,a)});return f(a)}).then(e),i.resources.links.map(function(a){return h(i.id,a)}).forEach(function(c,e){var f="link_"+e;if(c&&!s.linkCache.get(f)){var g=b[0].createElement("link");g.setAttribute("id",f),g.rel="stylesheet",g.href=c,g.type="text/css",b[0].head.appendChild(g),s.linkCache.put(f,1),a(function(){d("Link: "+c)})}})}function t(b,c){function d(d){if(d){var e=h.indexOf(d);e>-1&&h.splice(e,1)}0===h.length&&a(function(){c(b)})}if(k.indexOf(b)>-1)return c();var g=angular.module(b),h=f(g),i=f(g);return angular.forEach(i,function(a){if(o.push(a),e(a))return d(a);var b=m[a];return b?l(function(){},function(){},function(){t(a,function(a){d(a)})}):(p.warn("module ["+a+"] not loaded and not configured"),d(a)),null}),0===i.length&&d(),null}var v=r.defer(),w="module: "+i.id;if(m[i.id]=i,!i){var x="Module not configured";throw p.error(x),x}return s.scriptCache.get(w)?(p.debug("AppPackage "+i.id+" already loaded."),v.resolve(i.id)):l(function(a){p.debug("Loaded "+a)},function(a){p.debug("Loaded "+a)},function(){o.push(i.id),t(i.id,function(){angular.module(i.id).factory("appPackageService",j(i,a,c)),g(p,d,n,angular.copy(o)),s.scriptCache.put(w,i),a(function(){v.resolve(i.id),q.loadComplete=!0})})}),v.promise}function w(){var a=t.section("epEmbeddedApps");return a&&angular.extend(l,a),l.path||(l.path="apps"),l.rootRoute||(l.rootRoute="app"),l}return l=w(),{settings:l,load:v,modules:m,getAppPath:h,getAppRoute:i,state:q}}]}]),angular.module("ep.embedded.apps").service("epEmbeddedAppsService",["$rootScope","$http","$q","$log","$location","$window","epUtilsService","epEmbeddedAppsProvider","epEmbeddedAppsConstants","epEmbeddedAppsShellService","epEmbeddedAppsCacheService",function(a,b,c,d,e,f,g,h,i,j,k){function l(a){var b=c.defer();return g.wait(function(){return B.loading!==!0},30,250,function(){m(a).then(function(a){b.resolve(a)})}),b.promise}function m(a){var b=c.defer();return C=[],D=0,B.loadComplete?(a===!0&&v(),b.resolve(!0)):q(b),b.promise}function n(){var a={Success:!0,apps:h.settings.applications},b=c.defer();return b.resolve(a),b.promise}function o(){var a=h.settings.provider;if(a&&"sysconfig"!==a)try{var b=angular.element("html").injector().get(a);return b.getApps()}catch(c){d.warn("Custom embedded application provider not found or failed: "+a)}return n()}function p(a){var b=c.defer(),e=null;return g.hasProperty(a,"resources.scripts.startup")&&(e=h.getAppPath(a.id,a.resources.scripts.startup)),e&&a.resources.scripts.startup?g.loadScript(e,k.scriptCache).then(function(){try{var c=angular.injector([a.id+"-startup","ng","ngRoute"]),e=c.get("appStartupService");e&&(a.state.startupService=e)}catch(f){d.warn("startup service [appStartupService] was not executed for embedded application: "+a.id)}b.resolve(!0)},function(){d.warn("startup service [appStartupService] was not loaded for embedded application: "+a.id),b.resolve(!1)}):b.resolve(!0),b.promise}function q(a){B.loading=!0,o("config").then(function(c){try{c&&c.Success?(C=c.apps,D=0,C.forEach(function(c){var e=h.getAppPath(c,"AppPackage.json");b.get(e).then(function(b){var c=b.data;d.debug("Parsing AppPackage.config file: "+e),c.state={},A[c.id]=c,d.debug("AppPackage name: "+c.name);var h=c.tileSize?c.tileSize.split("x"):["2","1"];if(h&&2===h.length){var i=["","one","two","three","four","five","six","seven","eight","nine","ten"];try{c.tileSize={width:parseInt(h[0]),height:parseInt(h[1])},c.tileClass=(i[c.tileSize.width]||"two")+"-wide "+(i[c.tileSize.height]||"one")+"-tall"}catch(j){d.warn("Invalid value in tileSize property: "+c.tileSize)}}c.menu&&c.menu.disabled===!0||(c.state.menu={caption:"root",menuitems:[{caption:c.name,description:c.description||c.name,id:"pkg_"+c.id,_id:"pkg_"+c.id,version:c.version||"",action:function(){if(c.launchInTab){var a="./Index.html#"+t(c.id,c.startViewId,"");f.open(a)}else u(c.id)}}]}),p(c).then(function(){c.views=g.mapArray(c.views,"id"),c.initialized=!1,r(a)})},function(b){r(a),d.error("Failed retrieving AppPackage.config file: "+e),d.error(b)})}),B.loadComplete=!C.length):d.warn("Unable to load app package definition files.")}catch(e){B.loading=!1,d.error(e),a.reject(e)}})}function r(b){++D===C.length&&(a.$emit(i.CONFIG_LOADED_EVENT,{configs:A,goToView:u}),B.loading=!1,B.loadComplete=!0,b.resolve(!0))}function s(){return h.getAppPath(arguments)}function t(){return h.getAppRoute(arguments)}function u(a,b){var c=A[a];c&&e.url(t(c.id,b||c.startViewId))}function v(){j.setupShellConfigs(A)}function w(a,b){a.id&&(a._id=b+a.id),angular.forEach(a,function(a){a.id&&(a._id=b+a.id)}),a.menuitems&&w(a.menuitems,b)}function x(a,b,c,d,e){a.state.menu=b,b&&(w(a.state.menu,"pkg_"+a.id+"_"),c.push(a.state.menu)),e--,1>e&&d.resolve(c)}function y(){var a=[],b=[],e=c.defer();if(!B.loadComplete)return g.wait(function(){return B.loadComplete},30,250,function(){y().then(function(a){e.resolve(a)})}),e.promise;angular.forEach(A,function(c){c.menu&&c.menu.disabled===!0||(c.state.startupService&&c.state.startupService.getMenu?b.push(c):c.state.menu&&a.push(c.state.menu))});var f=b.length;return b&&b.length?angular.forEach(b,function(b){var c=b.state.startupService.getMenu(b);c&&(c.then?c.then(function(c){x(b,c,a,e,f),d.debug("Retrieved menu from app package: "+b.id);var g=c&&c.Menu&&c.Menu.menuitems?c.Menu.menuitems.length:0;d.debug("Found "+g+" root menu items")}):x(b,c,a,e,f))}):e.resolve(a),e.promise}function z(){var a=[];return angular.forEach(A,function(b){b.state.menu&&a.push(b.state.menu)}),a}var A={},B={appId:"",viewId:"",loaded:!1},C=[],D=0;return{initialize:l,state:B,loadConfigurations:m,configs:A,getAppPath:s,getAppRoute:t,setupShellOnStartup:v,currentAppsMenu:z,retrieveAppsMenu:y,goToView:u}}]),angular.module("ep.feature.detection").service("epFeatureDetectionService",["$log","$q",function(a,b){function c(){return void 0===p.browserIsMobile&&(p.browserIsMobile=function(a){if("undefined"!=typeof c.result)return c.result;var b=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(b=!0),c.result=b,b}(navigator.userAgent||navigator.vendor||window.opera)),p.browserIsMobile}function d(){return void 0===p.supportsDragAndDrop&&(p.supportsDragAndDrop="draggable"in document.createElement("span")),p.supportsDragAndDrop}function e(){return p.animationEvent}function f(){return p.transitionEvent}function g(){return p}function h(){return p.touchEvents}function i(a,b,c,d){n="screen and (min-width: "+a+"px)",enquire.register(n,{match:b,unmatch:c,setup:d,deferSetup:!0})}function j(a){var b=a?"screen and (min-width: "+a+"px)":n;enquire.unregister(b)}function k(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a];return null}function l(){var a,b=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oanimationend",MSAnimation:"MSAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b.style[a])return c[a];return null}function m(){var e=b.defer();if(o)e.resolve(p);else{p.browserIsMobile=c(),p.supportsDragAndDrop=d(),p.transitionEvent=k(),p.animationEvent=l(),p.touchEvents="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;try{if(window.cordova)a.debug("epFeatureDetectionService: Detected cordova application."),p.platform={app:"Cordova"},document.addEventListener("deviceready",function(){window.device?p.platform.os=window.device.platform:p.platform.os="Unknown",o=!0,e.resolve(p)},!1);else if(void 0!==window.require&&require("nw.gui")&&process)p.platform={app:"NWJS",os:process.platform},e.resolve(p);else{var f=navigator.userAgent,g=navigator.appName,h=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10),j=-1,m=-1,n=-1;-1!==(m=f.indexOf("Opera"))?(g="Opera",h=f.substring(m+6),-1!==(m=f.indexOf("Version"))&&(h=f.substring(m+8))):-1!==(m=f.indexOf("MSIE"))?(g="Microsoft Internet Explorer",h=f.substring(m+5)):-1!==(m=f.indexOf("Chrome"))?(g="Chrome",h=f.substring(m+7)):-1!==(m=f.indexOf("Safari"))?(g="Safari",h=f.substring(m+7),-1!==(m=f.indexOf("Version"))&&(h=f.substring(m+8))):-1!==(m=f.indexOf("Firefox"))?(g="Firefox",h=f.substring(m+8)):(j=f.lastIndexOf(" ")+1)<(m=f.lastIndexOf("/"))&&(g=f.substring(j,m),h=f.substring(m+1),g.toLowerCase()===g.toUpperCase()&&(g=navigator.appName)),-1!==(n=h.indexOf(";"))&&(h=h.substring(0,n)),-1!==(n=h.indexOf(" "))&&(h=h.substring(0,n)),i=parseInt(""+h,10),isNaN(i)&&(h=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10));var q="Unknown OS";-1!==navigator.appVersion.indexOf("Win")&&(q="Windows"),-1!==navigator.appVersion.indexOf("Mac")&&(q="MacOS"),-1!==navigator.appVersion.indexOf("X11")&&(q="UNIX"),-1!==navigator.appVersion.indexOf("Linux")&&(q="Linux"),p.platform={app:"Web",os:q,browser:{name:g,fullVersion:h,majorVersion:i,appName:navigator.appName,userAgent:navigator.userAgent}},e.resolve(p)}o=!0}catch(r){e.reject(r),console.log(r.message)}}return e.promise}var n,o=!1,p={browserIsMobile:void 0,supportsDragAndDrop:void 0,transitionEvent:null,touchEvents:!1,platform:{}};return m(),{initialize:m,browserIsMobile:c,supportsDragAndDrop:d,getAnimationEvent:e,getTransitionEvent:f,hasTouchEvents:h,getFeatures:g,registerMediaQuery:i,unregisterMediaQuery:j}}]),angular.module("ep.local.storage").provider("epLocalStorageConfig",[function(){var a={settings:{},settingsID:"emfSettings"};this.$get=["epSysConfig",function(b){var c=b.section("epLocalStorage");return c&&angular.extend(a,c),a}]}]),angular.module("ep.local.storage").service("epLocalStorageService",["epLocalStorageConfig",function(a){function b(a,c,d){var e=_.first(c),f=_.rest(c);f.length?(a[e]=a[e]||{},b(a[e],f,d)):void 0===d?delete a[e]:a[e]=d}function c(a,b){var d=_.first(b),e=_.rest(b);return e.length?(a[d]=a[d]||{},c(a[d],e)):a[d]}function d(){localStorage.setItem(a.settingsID,JSON.stringify(j))}function e(e){if(e){var f=e.split("."),g=c(a.settings,f);b(j,f,g)}else localStorage.removeItem(a.settingsID),j=angular.extend({},a.settings);d()}function f(a){return a?c(j,a.split(".")):void 0}function g(){var b=localStorage.getItem(a.settingsID);b&&(j=JSON.parse(b))}function h(a,c){b(j,a.split("."),c),d()}function i(a,b){var c=f(a);return void 0===c&&(h(a,b),c=b),c}var j=angular.extend({},a.settings);return g(),{get:f,update:h,getOrAdd:i,clear:e}}]),angular.module("ep.login").controller("epLoginCtrl",["$scope","$stateParams","$state","tokenFactory",function(a,b,c,d){a.cancelPath=b.cancelPath||"home",a.user=d.getToken(),a.status="",a.$watch(function(a){return a.hasToken=d.hasToken(),d.hasToken()}),a.login=function(){return a.hasError=!1,a.status="",a.user&&a.user.hasOwnProperty("username")&&a.user.hasOwnProperty("password")&&a.user.username&&a.user.password?void d.login(a.user).success(function(){a.hasToken=!0,c.go("home")}).error(function(b,c,d,e){var f=void 0!==e&&null!==e?e.url:"";a.status="Login Failure at: "+f,a.hasError=!0}):(a.hasError=!0,void(a.status="Please fill required fields."))},a.logout=function(){d.logout(),a.user={},a.hasToken=!1}}]),angular.module("ep.login").directive("epLogin",function(){return{restrict:"E",controller:"epLoginCtrl",templateUrl:"src/components/ep.login/login.html"}}),angular.module("ep.modaldialog").directive("epmodaldialog",[function(){return{restrict:"E",templateUrl:"src/components/ep.modaldialog/modals/modaldialog-pane.html",replace:!0,compile:function(){return{pre:function(){},post:function(a){a.config=a.dialogState?a.dialogState.config:{}}}}}}]),angular.module("ep.modaldialog").service("epModalDialogService",["$modal","$compile","$rootScope","$timeout","$interval","$injector","epLocalStorageService",function(a,b,c,d,e,f,g){function h(a){var b={showProgress:!1,icon:"fa fa-info-circle fa-4x"};u(a,b),p(a,b),q(b)}function i(a){var b={showProgress:!1,icon:"fa  fa-question-circle fa-4x",buttons:[{text:"Yes",isDefault:!0,action:a?a.fnDefaultAction:null},{text:"No",isCancel:!0,action:a?a.fnCancelAction:null}]};u(a,b),p(a,b),q(b)}function j(a){var b={showProgress:!0,icon:"fa fa-clock-o fa-4x",buttons:[]};p(a,b),q(b)}function k(a,b){var c={templateUrl:"src/components/ep.modaldialog/modals/modaldialog-error.html",title:"Exception",icon:"",status:"error",statusClass:"alert-danger",statusIcon:"fa fa-3x fa-warning",message:"",messageDetails:"",buttons:[{id:"btnOk",text:"Ok",isDefault:!0,type:"primary",action:a?a.fnDefaultAction:null}]};if(b&&b instanceof Error&&(c.message=b.message,c.messageDetails=b.stack),a&&a.status){var d=a.status.toLowerCase();switch(d){case"warning":c.statusClass="alert-warning",c.statusIcon="fa fa-3x fa-warning";break;case"error":c.statusClass="alert-danger",c.statusIcon="fa fa-3x fa-warning";break;case"information":case"info":c.statusClass="alert-info",c.statusIcon="fa fa-3x fa-info"}}p(a,c),m(c)}function l(a){var b={templateUrl:"src/components/ep.modaldialog/modals/modaldialog-error.html",title:"",icon:"",status:"information",statusClass:"alert-info",statusIcon:"fa fa-3x fa-info",message:"",messageDetails:"",buttons:[{id:"btnOk",text:"Ok",isDefault:!0,type:"primary",action:a?a.fnDefaultAction:null}]};if(a&&a.status){var c=a.status.toLowerCase();switch(c){case"warning":b.statusClass="alert-warning",b.statusIcon="fa fa-3x fa-warning";break;case"error":b.statusClass="alert-danger",b.statusIcon="fa fa-3x fa-warning";break;case"information":case"info":b.statusClass="alert-info",b.statusIcon="fa fa-3x fa-info"}}p(a,b),m(b)}function m(b){var c=b;return n(),1!==t(c)?(c._isModalDialog=!0,r(c),a.open({keyboard:!1,size:"small"===c.size?"sm":"large"===c.size?"lg":"",backdrop:c.backdrop===!1?!1:c.backdrop||!1,templateUrl:"src/components/ep.modaldialog/modals/modaldialog-custom.html",controller:["$scope","$modalInstance","$document","$timeout",function(a,b,d,e){function g(d){if(13===d.which||27===d.which){var f=!0,g=_.find(c.buttons,function(a){return 13===d.which?a.isDefault:a.isCancel});g?a.btnclick(g):13===d.which&&c.fnDefaultAction?a.btnclick(null,"fnDefaultAction"):27===d.which&&c.fnCancelAction?a.btnclick(null,"fnCancelAction"):27===d.which?e(function(){v(),b.dismiss("cancel")}):f=!1,f&&(d.preventDefault(),d.stopPropagation())}}y=b,a.config=c,c.controller&&f.invoke(c.controller,y,{$scope:a,$modalInstance:b}),a.btnclick=function(c,d){var f=s(a.config,c,d);-1!==f&&e(function(){v(),"fnCancelAction"===d||c&&c.isCancel?b.dismiss("cancel"):b.close(f?f:0)})},d.on("keydown",g),a.$on("$destroy",function(){d.off("keydown",g)})}]})):void 0}function n(){v(),x.isVisible=!1,y&&(y.close(0),y=null)}function o(a){a?g.clear(z+a):g.clear(z.substr(0,z.length-1))}function p(a,b){a&&b&&angular.forEach(a,function(c,d){null!==a[d]&&(angular.isArray(a[d])?b[d]=a[d]:angular.isObject(a[d])?p(a[d],b[d]):b[d]=a[d])})}function q(a){v();var d={};return p(w,d),p(a,d),t(d)?void n():(x.isVisible=!0,angular.element("body .ep-modaldialog.ep-modaldialog-pane").length||(x.paneScope=c.$new(),x.paneScope.dialogState=x,x.paneScope.btnclick=function(a){n(),s(x.config,a)},angular.element(document.body).append(b("<epmodaldialog></epmodaldialog>")(x.paneScope))),d._isModalDialog=!1,r(d),x.config=d,void(x.paneScope&&(x.paneScope.config=d)))}function r(a){a.buttons&&a.buttons.length&&angular.forEach(a.buttons,function(b){b.type||(a._isModalDialog&&b.isDefault===!0?b.type="primary":a._isModalDialog&&b.isCancel===!0?b.type="warning":b.type="default")}),a.autoClose&&(a.messageHasTimer=a.message.indexOf("{timer}")>=0,a.titleHasTimer=a.title.indexOf("{timer}")>=0,x.autoClosePromise=d(function(){null!==x.autoClosePromise&&a.fnDefaultAction&&a.fnDefaultAction(),n()},1e3*a.autoClose),a.countDown=a.autoClose,(a.messageHasTimer||a.titleHasTimer||a.showTimer)&&(x.timerPromise=e(function(){a.countDown--,a.countDown<=0&&(e.cancel(x.timerPromise),x.timerPromise=null)},1e3,0)),a.spinnerTextClass=a.countDown<100?"ep-timer-large-font":"ep-timer-small-font"),a.showSpinner=a.showTimer||a.showProgress,a.showSpinner&&(a.spinnerIconClass=a.showTimer?"fa-circle-o-notch":"fa-spinner"),a.fnGetMessage=function(){if(a.messageHasTimer){var b=void 0!==a.countDown&&null!==a.countDown?a.countDown:"";return a.message.replace("{timer}",b)}return a.message},a.fnGetTitle=function(){if(a.titleHasTimer){var b=void 0!==a.countDown&&null!==a.countDown?a.countDown:"";return a.title.replace("{timer}",b)}return a.title}}function s(a,b,c){var d=0,e="";return b?b.action?(d=b.action(a,b),e=b.text):b.isDefault===!0&&a.fnDefaultAction?(d=a.fnDefaultAction(a,b),e="fnDefaultAction"):b.isCancel===!0&&a.fnCancelAction?(d=a.fnCancelAction(a,b),e="fnCancelAction"):a.fnButtonAction?(d=a.fnButtonAction(a,b),e=b.text):e=b.text:c&&("fnDefaultAction"===c&&a.fnDefaultAction?(d=a.fnDefaultAction(a),e="fnDefaultAction"):"fnCancelAction"===c&&a.fnCancelAction&&(d=a.fnCancelAction(a),e="fnCancelAction")),a.rememberMeValue&&a.dialogId&&e&&g.update(z+a.dialogId,e),d}function t(a){if(a.rememberMeValue=!1,a.rememberMe&&!a.dialogId&&(a.rememberMe=!1),a.rememberMe&&a.dialogId&&g.get(z+a.dialogId)){var b=!1,c=g.get(z+a.dialogId);if("fnDefaultAction"===c&&a.fnDefaultAction)b=!0,a.fnDefaultAction(a);else if("fnCancelAction"===c&&a.fnCancelAction)b=!0,a.fnCancelAction(a);else{var d=null;angular.forEach(a.buttons,function(a){a.text===c&&(d=a)}),d&&(d.action?(b=!0,d.action(a,d)):d.fnButtonAction&&(b=!0,d.fnButtonAction(a,d)))}return b?1:-1}return 0}function u(a,b){if(a&&a.status){var c=a.status.toLowerCase();b.titleClass="warning"===c?"text-warning":"error"===c?"text-danger":"text-success",b.icon="warning"===c||"error"===c?"fa fa-4x fa-warning":"fa fa-4x fa-check"}}function v(){x.autoClosePromise&&(d.cancel(x.autoClosePromise),x.autoClosePromise=null),x.timerPromise&&(e.cancel(x.timerPromise),x.timerPromise=null)}var w={containerClass:"bg-primary",title:"Title",titleClass:"text-warning",message:"Message",messageClass:"",icon:"fa fa-info-circle fa-4x",iconClass:"",
showProgress:!1,autoClose:0,fnDefaultAction:null,fnCancelAction:null,fnButtonAction:null,buttons:[{text:"Ok",isDefault:!0}]},x={isVisible:!1,config:{},timerPromise:null,autoClosePromise:null,paneScope:null};angular.copy(w,x.config);var y=null,z="emf.dialogs.dialogId.";return{showMessage:h,showConfirm:i,showProgress:j,showException:k,showMessageBox:l,showCustomDialog:m,hide:n,clearRememberMe:o}}]),angular.module("ep.modaldialog").controller("epModalDialogErrorCtrl",["$scope",function(a){var b=a.config;b.callFnHideModalError=!0,b.fnHideModalError=function(){var a=angular.element(".ep-dlg-message"),c=angular.element(".ep-modaldialog-error");a.length&&c.length&&a.length&&a[0].clientWidth>c[0].clientWidth&&(a.css("max-width",c[0].clientWidth-70),b.callFnHideModalError=!1)}}]),angular.module("ep.multi.level.menu").constant("epMultiLevelMenuConstants",{MLM_INITIALIZED_EVENT:"MLM_INITIALIZED_EVENT"}),angular.module("ep.multi.level.menu").controller("epMultiLevelMenuCtrl",["$rootScope","$scope","$timeout","epMultiLevelMenuFactory","epMultiLevelMenuConstants",function(a,b,c,d,e){function f(){b.searchResults=[],b.currentItems=[],b.state.lastSearchTerm=""}function g(){b.state.searchTerm?b.currentItems=b.searchResults:b.data&&b.data.next?b.currentItems=b.data.next.menuitems:b.currentItems=[]}function h(){return b.isRightToLeft=!1,m&&c.cancel(m),b.menu&&b.menu.menuitems&&b.state.searchTerm?void(m=c(function(){var a=[],c=b.state.searchTerm.toLowerCase(),d=b.state.searchType?b.state.searchType.toLowerCase():"";b.state.lastSearchTerm&&0===c.indexOf(b.state.lastSearchTerm)?i(b.searchResults,c,d,!1,a):i(b.menu.menuitems,c,d,!0,a),b.searchResults=a,g(),b.state.lastSearchTerm=c},250)):(b.searchResults=[],b.state.lastSearchTerm="",void g())}function i(a,b,c,d,e){angular.forEach(a,function(a){a&&-1!==a.caption.toLowerCase().indexOf(b)&&(""===c||a.type===c||a._type===c)&&e.push(a),d&&a.menuitems&&i(a.menuitems,b,c,d,e)})}function j(a,d){if(a){if("menu"===a._type){if("topmenu"===a._id)return;b.isRightToLeft=d!==!0,b.data.next=a,c(function(){g(),b.$apply()})}"item"===a._type&&a.action&&"function"==typeof a.action&&a.action(a)}}function k(a){b.multiLevelMenuHelper.toggleFavorite(a)}function l(){b.searchType&&(b.state.searchType=b.searchType),b.multiLevelMenuHelper=d.getMultiLevelMenuHelper(b),b.multiLevelMenuHelper.populate(b.menu),b.data=b.multiLevelMenuHelper.data,b.data.next=b.multiLevelMenuHelper.data.menu,b.navigate(b.data.next),b.onMenuInit&&b.onMenuInit({factory:b.multiLevelMenuHelper}),a.$emit(e.MLM_INITIALIZED_EVENT,{menuId:b.menuId,factory:b.multiLevelMenuHelper,scope:b}),b.$watch("menu",function(a,c){!a||angular.equals(a,c)&&b.data&&b.data.menu||(b.multiLevelMenuHelper.populate(b.menu,!0),b.data=b.multiLevelMenuHelper.data,b.data.next=b.multiLevelMenuHelper.data.menu,g())})}b.state={searchTerm:"",searchType:"item",lastSearchTerm:""},b.searchResults=[],b.currentItems=[],b.multiLevelMenuHelper=null;var m;b.clear=f,b.setCurrentItems=g,b.navigate=j,b.toggleFavorite=k,b.search=h,b.initializeMenus=l}]),angular.module("ep.multi.level.menu").directive("epMultiLevelMenu",["$timeout",function(a){return{restrict:"E",replace:!0,controller:"epMultiLevelMenuCtrl",templateUrl:"src/components/ep.multi.level.menu/multi-level-menu.html",scope:{menuId:"=",searchType:"=",searchDisabled:"=",menu:"=",onMenuInit:"&",onFavoriteChange:"&"},compile:function(){return{pre:function(){},post:function(b){a(function(){b.initializeMenus()})}}}}}]),angular.module("ep.multi.level.menu").factory("epMultiLevelMenuFactory",["epLocalStorageService","epMultiLevelMenuService",function(a,b){function c(a){return new d(a)}function d(c){function d(a){a.menuitems||(a.menuitems=[]),a._type||(a._type=null===a.menuitems||a.menuitems.length<=0?"item":"menu"),a._depth=q,angular.forEach(a.menuitems,function(b){b._parent=a,q++,d(b),q--})}function e(a,b){a&&(s.menu=angular.extend({},a)),s.menu&&(s.menu._parent={_id:"topmenu"},d(s.menu),s.favorites=o(),s.next=s.menu,b&&r.navigate(s.menu))}function f(a,b){s.menu=s.menu||{},g(s.menu,a),e(),b&&r.navigate(s.menu)}function g(a,c){return a=a||{},a.menuitems||(a.menuitems=[]),angular.forEach(c,function(c){c.id?j(c.id,a)||a.menuitems.push(c):b.findFirstMenuItem(a,function(a){return a.caption===c.caption})||a.menuitems.push(c)}),a}function h(a){a&&(s.next=a)}function i(a){var b=j(a);b&&h(b)}function j(a,c){var d=function(b){return b.id===a};return b.findFirstMenuItem(c?c:s.menu,d)}function k(){return s.menu=null,s.favorites=null,s.next=null,r.clear(),e()}function l(){s.menu=null,s.favorites=null,s.next=null,r.clear()}function m(b){b.favorite=!b.favorite;var c="emf.multi-level-menu."+r.menuId+".favorite",d=b._id?b._id:b.id,e=c+"."+d;b.favorite?a.update(e,d):a.clear(e),s.favorites=o(),r.onFavoriteChange&&r.onFavoriteChange({menuItem:b,favorites:s.favorites})}function n(a){return b.findFirstMenuItem(s.menu,function(b){return b._id?b._id===a:b.id===a})}function o(){var c=b.findAllMenuItems(s.menu,function(a){return!!a.favorite}),d="emf.multi-level-menu."+r.menuId+".favorite",e=a.get(d)||{};return angular.forEach(e,function(a){if(!_.find(c,function(b){return b.id===a})){var b=n(a);b&&(b.favorite=!0,c.push(b))}}),c}function p(){s.favorites=null;var b="emf.multi-level-menu."+r.menuId+".favorite";a.clear(b)}var q=0,r=c,s={menu:null,favorites:null};return{data:s,populate:e,resetCache:k,clearFavorites:p,setCurrentMenuParent:h,setCurrentMenuParentById:i,findMenuItemById:j,toggleFavorite:m,clear:l,mergeMenu:f,mergeMenuItems:g}}return{getMultiLevelMenuHelper:c}}]),angular.module("ep.multi.level.menu").service("epMultiLevelMenuService",[function(){function a(b,c){var d=c(b)?b:null;return d||angular.forEach(b.menuitems,function(b){d||(d=a(b,c))}),d}function b(b,c){var d=function(a){return a.id===b};return a(c,d)}function c(a,b,d){angular.forEach(a.menuitems,function(a){b(a)&&d.push(a),c(a,b,d)})}function d(a,b){var d=[];return c(a,b,d),d}function e(a,c){a.menuitems||(a.menuitems=[]),_.each(c,function(c){var d=null;c.menuitems&&c.menuitems.length&&(d=b(a,c.id)),d?e(d,c.menuitems):a.menuitems.push(c)})}function f(a,b){b&&a&&_.each(b,function(b){b&&b.Menu?e(a,b.Menu.menuitems):b&&b.menuitems&&e(a,b.menuitems)})}return{mergeMenuItems:e,mergeMenus:f,findMenuItemById:b,findFirstMenuItem:a,findAllMenuItems:d}}]),angular.module("ep.odata").factory("odataQueryFactory",function(){function a(a,b){var c="";if("string"==typeof a&&(c=a,a=null),a&&a.constructor.toString().indexOf("Array")>1){var d;for(d=0;d<a.length;d++)c+=(""===c?"":",")+a[d];a=null}if(a)for(var e in a)a.hasOwnProperty(e)&&(c+=(""===c?"":",")+e,b&&a[e]&&(c+=" desc"));return c}function b(a){return"string"==typeof a&&(k.type=a),this}function c(a){return isNaN(a)||parseInt(Number(a))!==a||(k.$top=a),this}function d(a){return isNaN(a)||parseInt(Number(a))!==a||(k.$skip=a),this}function e(b){var c=a(b,!0);return""!==c&&(k.$orderby=c),this}function f(b){var c=a(b);return""!==c&&(k.$select=c),this}function g(b){var c=a(b);return""!==c&&(k.$expand=c),this}function h(a){if(a)for(var b in a)a.hasOwnProperty(b)&&a[b]&&(k.$filter=(k&&k.$filter?k.$filter+" and ":"")+b+" eq '"+a[b]+"'");return this}function i(a,b,c,d){var e={">":"gt",">=":"ge","<":"lt","<=":"le","=":"eq","==":"eq","!=":"ne","<>":"ne"};b=e[b]||b;var f="",g=d&&"or"in d&&d.or?" or ":" and ",h=isNaN(c)?"'":"";if(null!==a&&void 0!==a&&null!==c&&void 0!==c){switch(b){case"math":if(!(d&&"mathOperand"in d&&"mathFunction"in d&&"mathCompareOp"in d))throw"Malformed math operation; params object must contain mathOperand, mathFunction, and mathCompareOp properties";if(isNaN(c)||isNaN(d.mathOperand))throw"The second argument and mathOperand for math functions needs to be a number";b=e[d.mathCompareOp]||d.mathCompareOp,a=a+" "+d.mathFunction+" "+d.mathOperand;break;case"endswith":case"startswith":a=b+"("+a+",'"+c+"')",b="eq",c="true",h="",f=d&&"not"in d&&d.not?"not ":"";break;case"contains":a="indexof("+a+",'"+c+"')",b=d&&"not"in d&&d.not?"lt ":"ge",c="0",h="";break;case"day":case"month":case"year":case"second":case"minute":case"hour":if(isNaN(c)&&parseInt(Number(c))!==c)throw"The second argument for date/time functions needs to be an integer";a=b+"("+a+")",b="eq"}k.$filter=(k&&k.$filter?k.$filter+g:"")+f+a+" "+b+" "+h+c+h}return this}function j(){var a=$.extend({},k);return k={},a}var k={};return{setType:b,setTop:c,setSkip:d,setOrderBy:e,setSelect:f,setExpands:g,setFilter:h,setWhere:i,compose:j}}),angular.module("ep.search").provider("searchConfig",function(){var a={searchUri:"https://localhost/EES/EpicorERP/search.xml"};this.$get=["epSysConfig",function(b){var c=b.section("epSearchConfig");return c&&angular.extend(a,c),a}]}),angular.module("ep.search").controller("epSearchCtrl",["$scope","searchService",searchController]),angular.module("ep.search").directive("epSearch",function(){return{restrict:"E",replace:!0,controller:"epSearchCtrl",templateUrl:"src/components/ep.search/search.html"}}),angular.module("ep.search").factory("searchService",["$http","searchConfig",function(a,b){function c(a,b,c){return d(a,b,c).then(function(a){return e(a)},function(){})}function d(c,d,e){var f=b.searchUri+"?locale="+(navigator.language?navigator.language:navigator.userLanguage)+"&preservenulls="+!1+"&likeLinkFormat=EWAUrl&callback=JSON_CALLBACK",g=(new Date).valueOf(),h="&q="+c+"&start="+d+"&cache="+g.toString()+"&pageSize="+e;return a.get(f+h)}function e(a){var b={};if(a&&a.hasOwnProperty("data")){var c=a.data,d=$.parseXML(c),e=$(d);e.find("[primaryTable]").each(function(){var a=[];$(this).find("[companyName]").each(function(){var b={location:this.getAttribute("location")||"",label:this.getAttribute("label")||"",companyContext:this.getAttribute("companyName"),keyTag:this.getAttribute("keyTag"),fields:[]};$("*",this).each(function(a,c){for(var d={},e=0,f=c.attributes.length;f>e;e++)d[c.attributes[e].nodeName]=c.attributes[e].nodeValue;d.FieldName=c.nodeName,d.FieldValue=c.textContent,b.fields.push(d)}),a.push(b)}),b[this.nodeName]={label:this.getAttribute("label"),primaryTable:this.getAttribute("primaryTable"),results:a}})}return b}return{search:c}}]),angular.module("ep.shell").service("epShellFeedbackService",["epModalDialogService",function(a){function b(){var b={strings:{FeedbackResponse:"We appreciate your feedback! We review these items regularly to help us improve the product.",FeedbackTitle:"Thank You!"}};a.showMessageBox({message:b.strings.FeedbackResponse,title:b.strings.FeedbackTitle,status:"info"})}function c(c){var d={summary:"",description:"",customerName:"",customerEmail:""};a.showCustomDialog({title:"Submit Feedback",templateUrl:"src/components/ep.shell/feedback/feedback_dialog.html",icon:"fa fa-bullhorn fa-2x",feedback:d,summaryLabel:"Summary",descriptionLabel:"Description",customerNameLabel:"Customer Name",customerEmailLabel:"Customer Email",buttons:[{id:"btnSubmit",isPrimary:!0,text:"Submit",action:function(){if(c){var a=c(d);a.then?a.then(function(a){a.Success&&b()}):b()}}},{id:"btnCancel",isCancel:!0,text:"Cancel"}]})}return{showForm:c}}]),angular.module("ep.shell").constant("epShellConstants",{SIDEBARWIDTH:250,NAVBARHEIGHT:40,FOOTERHEIGHT:25,MEDIA_MODE_LARGE:"large",MEDIA_MODE_SMALL:"small",MEDIA_SIZE_BREAKPOINT:800}),angular.module("ep.shell").controller("epShellCtrl",["$location","$rootScope","$scope","epShellService","epLocalStorageService","epShellFeedbackService",function(a,b,c,d,e,f){function g(){c.state=d.__state,c.toggleLeftSidebar=function(){d.toggleLeftSidebar()},c.toggleRightSidebar=function(){d.toggleRightSidebar()},c.navButtons=d.getNavbarButtons(),b.$on("navbarButtonsChanged",function(){c.navButtons=d.getNavbarButtons()}),b.$on("$routeChangeStart",function(){d.clearInfo(),d.cleanupViewEvents()}),c.launchHelp=function(){a.url("/help")},c.sendFeedback=function(){f.showForm(c.state.fnOnFeedback)}}try{b.$watch("initComplete",function(a){a&&g()})}catch(h){console.log(h)}}]),angular.module("ep.shell").directive("epShell",[function(){return{restrict:"E,A",replace:!0,transclude:!0,templateUrl:"src/components/ep.shell/shell.html"}}]),angular.module("ep.shell").provider("epShellConfig",["$routeProvider",function(a){var b=a,c={options:{pageTitle:"Epicor Mobile",brandHTML:"Epicor Mobile Framework <sup>2.0</sup>",defaultTheme:"flatly",disableTheming:!1,enableFeedback:!0},routes:[]};this.$get=["epSysConfig",function(a){var d=a.section("epShellConfig");if(d&&angular.extend(c,d),angular.forEach(c.routes,function(a){b.when(a.route,{templateUrl:a.url,controller:a.controller,reloadOnSearch:void 0===a.reloadOnSearch?!0:a.reloadOnSearch}),a.isDefault===!0&&b.otherwise({redirectTo:a.route})}),c.options.includeEmbeddedApps){var e=a.section("epEmbeddedApps"),f="/"+(e.rootRoute||"app")+"/:appId/:viewId/";b.when(f,{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(f+":p0",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(f+":p0/:p1",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(f+":p0/:p1/:p2",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(f+":p0/:p1/:p2/:p3",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(f+":p0/:p1/:p2/:p3/:p4",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"})}return c}]}]),angular.module("ep.shell").service("epShellService",["$q","$rootScope","$timeout","$sce","$document","epFeatureDetectionService","epSidebarService","epThemeService","epShellConfig","epShellConstants",function(a,b,c,d,e,f,g,h,i,j){function k(){function a(){P("size")}f.registerMediaQuery(j.MEDIA_SIZE_BREAKPOINT,function(){Ka.mediaMode=j.MEDIA_MODE_LARGE,O("setMediaMode")},function(){Ka.mediaMode=j.MEDIA_MODE_SMALL,O("setMediaMode")});var d=_.debounce(a,100);angular.element(window).on("resize",d),c(a,100),b.$on("$routeChangeSuccess",a),B(i.options.pageTitle),F(i.options.brandHTML),void 0!==i.options.enableFeedback&&(Ka.feedbackEnabled=i.options.enableFeedback),l()}function l(){Ka.disableTheming=i.options.disableTheming,Ka.disableTheming!==!0&&(Oa=!0,i.options.defaultTheme?h.theme(i.options.defaultTheme):h.theme(),Ka.currentTheme=h.getThemeWithFullPath(),b.$on("epThemeChangedEvent",function(){Ka.currentTheme=h.getThemeWithFullPath()}))}function m(){var a=Ka.viewSettings[Ka.mediaMode];Ka.autohideSidebar=a.autohideSidebar!==!1,Ka.showLeftToggleButton=a.enableLeftSidebar,Ka.enableLeftSidebar=a.enableLeftSidebar,Ka.showRightToggleButton=a.enableRightSidebar,Ka.enableRightSidebar=a.enableRightSidebar,Ka.showNavbar=a.showNavbar,Ka.showFooter=a.showFooter,Ka.showHomeButton=a.showHomeButton,Ka.showBrand=a.showBrand,Ka.showBrand&&a.brandHTML&&F(a.brandHTML),a.enableLeftSidebar&&(v()||Ka.suspend)?X():Y(),ea(!1),Ka.allowVerticalScroll=!!a.allowVerticalScroll,Ka.animateViewContainer=a.animateViewContainer!==!1,Ka.momentumScrollingEnabled=a.momentumScrollingEnabled!==!1,O()}function n(a){return void 0!==a&&(Ka.viewSettings=a),Ka.viewSettings}function o(){window.addEventListener("load",function(){FastClick.attach(document.body)},!1);var a=$(window).width();Ka.mediaMode=a>=j.MEDIA_SIZE_BREAKPOINT?j.MEDIA_MODE_LARGE:j.MEDIA_MODE_SMALL,Ka.showSidebar=v(),b.initComplete=!0}function p(){return La={pageTitle:C(),brandHTML:G(),navbarButtons:angular.extend([],Ma)}}function q(a){var b=a?a:La;b&&b!=={}&&(b.navbarButtons&&wa(b.navbarButtons),b.pageTitle&&B(b.pageTitle),b.brandHTML&&F(b.brandHTML))}function r(){Ka.showProgressIndicator=!0,Ka.progressIndicatorlevel++}function s(a){Ka.progressIndicatorlevel--,Ka.progressIndicatorlevel=Math.max(Ka.progressIndicatorlevel,0),0===Ka.progressIndicatorlevel&&(a?Ka.showProgressIndicator=!1:c(function(){Ka.showProgressIndicator=!1}))}function t(){Ka.progressIndicatorlevel=0,s(!0)}function u(){return Ka.mediaMode}function v(){return Ka.mediaMode===j.MEDIA_MODE_LARGE}function w(a){return void 0!==a&&(Ka.disableTheming=!!a,Ka.disableTheming===!1&&(Oa?Ka.currentTheme=h.getThemeWithFullPath():l())),Ka.disableTheming}function x(a,c,d){Na[a]&&Na[a](),Na[a]=b.$on(c,d)}function y(){_.each(Na,function(a){a()}),Na={}}function z(a,b){Ka.infoIcon=a,Ka.infoMessage=b}function A(){Ka.infoIcon="",Ka.infoMessage=""}function B(a){Ka.pageTitle=a,e[0].title=Ka.pageTitle}function C(){return Ka.pageTitle}function D(){Ka.showBrand=!Ka.showBrand,Ka.viewSettings[Ka.mediaMode].showBrand=Ka.showBrand}function E(a){Ka.showBrand=void 0===a?!0:a,Ka.viewSettings[Ka.mediaMode].showBrand=Ka.showBrand}function F(a){Ka.brandHTML=angular.isString(a)?d.trustAsHtml(a):a,Ka.viewSettings[Ka.mediaMode].brandHTML=Ka.brandHTML}function G(){return Ka.brandHTML}function H(a){Ma=_.sortBy(Ma,function(a){return a.index}),b.$emit("navbarButtonsChanged",a),c(function(){b.$apply()})}function I(){Ka.suspend=!0}function J(){Ka.suspend=!1}function K(a){return void 0!==a&&(Ka.fnOnFeedback=a),Ka.fnOnFeedback}function L(){Ka.feedbackEnabled=!0}function M(){Ka.feedbackEnabled=!1}function N(){Ka.feedbackEnabled=!Ka.feedbackEnabled}function O(a){b.$emit("shellStateChanged",a)}function P(a){c(function(){b.$emit("shellSizeChanged",a)},310)}function Q(){Ka.showHomeButton&&(Ka.showHomeButton=!1,H("hideHomeButton"))}function R(){Ka.showHomeButton||(Ka.showHomeButton=!0,H("showHomeButton"))}function S(){Ka.showLeftToggleButton&&(Ka.showLeftToggleButton=!1,H("hideLeftToggleButton"))}function T(){Ka.showLeftToggleButton||(Ka.showLeftToggleButton=!0,H("showLeftToggleButton"))}function U(){Ka.showRightToggleButton&&(Ka.showRightToggleButton=!1,H("hideRightToggleButton"))}function V(){Ka.showRightToggleButton||(Ka.showRightToggleButton=!0,H("showRightToggleButton"))}function W(){Ka.showLeftSidebar=!Ka.showLeftSidebar,Ka.viewSettings[Ka.mediaMode].showLeftSidebar=Ka.showLeftSidebar,P(Ka.showLeftSidebar?"showLeftSidebar":"hideLeftSidebar")}function X(){Ka.showLeftSidebar||(Ka.showLeftSidebar=!0,Ka.viewSettings[Ka.mediaMode].showLeftSidebar=!0,P("showLeftSidebar"))}function Y(){Ka.showLeftSidebar&&(Ka.showLeftSidebar=!1,Ka.viewSettings[Ka.mediaMode].showLeftSidebar=!1,P("hideLeftSidebar"))}function Z(){Ka.enableLeftSidebar&&(Ka.enableLeftSidebar=!1,Ka.viewSettings.large.enableLeftSidebar=!1,Ka.viewSettings.small.enableLeftSidebar=!1,Y(),S(),O("disableLeftSidebar"))}function aa(){Ka.enableLeftSidebar||(Ka.enableLeftSidebar=!0,Ka.viewSettings.large.enableLeftSidebar=!0,Ka.viewSettings.small.enableLeftSidebar=!0,v()&&X(),T(),O("enableLeftSidebar"))}function ba(){g.clearLeftSidebar()}function ca(){Ka.showRightSidebar=!Ka.showRightSidebar,Ka.viewSettings[Ka.mediaMode].showRightSidebar=Ka.showRightSidebar,P(Ka.showRightSidebar?"showRightSidebar":"hideRightSidebar")}function da(){Ka.showRightSidebar||(Ka.showRightSidebar=!0,Ka.viewSettings[Ka.mediaMode].showRightSidebar=!0,O("showRightSidebar"))}function ea(){Ka.showRightSidebar&&(Ka.showRightSidebar=!1,Ka.viewSettings[Ka.mediaMode].showRightSidebar=!1,O("hideRightSidebar"))}function fa(){Ka.enableRightSidebar&&(Ka.enableRightSidebar=!1,Ka.viewSettings.large.enableRightSidebar=!1,Ka.viewSettings.small.enableRightSidebar=!1,ea(),U(),O("disableRightSidebar"))}function ga(){Ka.enableRightSidebar||(Ka.enableRightSidebar=!0,Ka.viewSettings.large.enableRightSidebar=!0,Ka.viewSettings.small.enableRightSidebar=!0,V(),O("enableRightSidebar"))}function ha(){g.clearRightSidebar()}function ia(){return Ka.showLeftSidebar}function ja(){return Ka.showRightSidebar}function ka(a){g.setLeftTemplate(a)}function la(a){g.setRightTemplate(a)}function ma(a){g.setLeftTemplateUrl(a)}function na(a){g.setRightTemplateUrl(a)}function oa(){Ka.showNavbar&&(Ka.showNavbar=!1,O("hideNavbar"))}function pa(){Ka.showNavbar||(Ka.showNavbar=!0,O("showNavbar"))}function qa(){Ka.showNavbar?(Ka.showNavbar=!1,O("hideNavbar")):(Ka.showNavbar=!0,O("showNavbar"))}function ra(){Ka.showFooter&&(Ka.showFooter=!1,O("hideFooter"))}function sa(){Ka.showFooter||(Ka.showFooter=!0,O("showFooter"))}function ta(){Ka.showFooter?(Ka.showFooter=!1,O("hideFooter")):(Ka.showFooter=!0,O("showFooter"))}function ua(a,b,c){var d=!1;void 0!==a&&_.each(a,function(a){var b=_.findIndex(Ma,function(b){return b.id===a});-1!==b&&c(Ma[b],b)&&(d=!0)}),d&&H(b)}function va(){Ma=[],H("clearNavbarButtons")}function wa(a){Ma=[],xa(a),H("updateNavbarButtons")}function xa(a){var b=_.union(Ma,a);_.each(b,function(a){a.type||(a.type="button")}),Ma=_.uniq(b,!1,function(a){return a.id||a.title}),H("addNavbarButtons")}function ya(){var a=_.flatten(arguments,!0);ua(a,"deleteNavbarButton",function(a,b){return Ma.splice(b,1),!0})}function za(){return Ma}function Aa(a){return _.find(Ma,function(b){return b.id===a})}function Ba(){var a=_.flatten(arguments,!0);ua(a,"hideNavbarButton",function(a){return a.hidden=!0,!0})}function Ca(){var a=_.flatten(arguments,!0);ua(a,"showNavbarButton",function(a){return a.hidden=a.enabled?!a.enabled():!1,!0})}function Da(){_.each(Ma,function(a){Ba(a.id)}),H("hideNavbarButton")}function Ea(){_.each(Ma,function(a){Ca(a.id)}),H("hideNavbarButton")}function Fa(a){Ka.freezeNavButtons=a}function Ga(){return Ka.navButtonClicked}function Ha(a){return void 0!==a&&(Ka.momentumScrollingEnabled=a),Ka.momentumScrollingEnabled}function Ia(a){return void 0!==a&&(Ka.allowVerticalScroll=a),Ka.allowVerticalScroll}function Ja(){return Ka.viewDimensions}b.shellServiceInitComplete=!1;var Ka={showProgressIndicator:!1,progressIndicatorlevel:0,feedbackEnabled:!0,fnOnFeedback:void 0,suspend:!1,disableTheming:!1,includeThemeFile:!0,currentTheme:null,showBrand:!0,brandHTML:"Mobile Access <sup>2.0</sup>",freezeNavButtons:!1,viewSettings:{sidebar:{},small:{animateViewContainer:!0,showLeftSidebar:!1,enableLeftSidebar:!0,autohideSidebar:!1,showLeftToggleButton:!1,showRightToggleButton:!1,showNavbar:!1,showFooter:!1,showHomeButton:!1,showBrand:!1},large:{animateViewContainer:!0,showLeftSidebar:!1,enableLeftSidebar:!0,autohideSidebar:!1,showLeftToggleButton:!1,showRightToggleButton:!1,showNavbar:!1,showFooter:!1,showHomeButton:!1,showBrand:!1}},pageTitle:"",colorScheme:{},mediaMode:j.MEDIA_MODE_SMALL,date:{weekday:"Tuesday",month:"October",day:21},viewDimensions:{offset:{top:0,left:0},size:{width:0,height:0}},infoMessage:"",infoIcon:"fa fa-3x fa-warning",executeButton:function(a){Ka.navButtonClicked=null,a.confirm?a.confirm(a.action):Ka.freezeNavButtons!==!0&&a.action()},buttonMouseDown:function(a){Ka.navButtonClicked=a},momentumScrollingEnabled:!0,allowVerticalScroll:!0,navButtonClicked:null},La={},Ma=[],Na={},Oa=!1;return k(),{__state:Ka,__setCurrentModeFlags:m,__viewSettings:n,init:o,saveState:p,restoreState:q,showProgressIndicator:r,hideProgressIndicator:s,resetProgressIndicator:t,registerViewEvent:x,cleanupViewEvents:y,notifyStateChanged:O,notifyShellButtonsChanged:H,notifySizeChanged:P,setPageTitle:B,getPageTitle:C,toggleBrand:D,showBrand:E,setBrandHTML:F,getBrandHTML:G,setInfo:z,clearInfo:A,suspend:I,resume:J,getMediaMode:u,isMediaModeLarge:v,getViewDimensions:Ja,momentumScrollingEnabled:Ha,allowVerticalScroll:Ia,themingDisabled:w,enableFeedback:L,disableFeedback:M,feedbackCallback:K,toggleFeedback:N,showHomeButton:R,hideHomeButton:Q,hideLeftToggleButton:S,showLeftToggleButton:T,hideRightToggleButton:U,showRightToggleButton:V,toggleLeftSidebar:W,showLeftSidebar:X,hideLeftSidebar:Y,disableLeftSidebar:Z,enableLeftSidebar:aa,clearLeftSidebar:ba,toggleRightSidebar:ca,showRightSidebar:da,hideRightSidebar:ea,enableRightSidebar:ga,disableRightSidebar:fa,clearRightSidebar:ha,getShowLeftSidebar:ia,getShowRightSidebar:ja,setLeftTemplate:ka,setRightTemplate:la,setLeftTemplateUrl:ma,setRightTemplateUrl:na,showNavbar:pa,hideNavbar:oa,toggleNavbar:qa,showFooter:sa,hideFooter:ra,toggleFooter:ta,clearNavbarButtons:va,updateNavbarButtons:wa,addNavbarButtons:xa,deleteNavbarButton:ya,getNavbarButtons:za,getNavbarButton:Aa,showNavbarButton:Ca,hideNavbarButton:Ba,showAllNavbarButtons:Ea,hideAllNavbarButtons:Da,disableNavbarButtons:Fa,navbarButtonClicked:Ga}}]),angular.module("ep.shell").directive("epShellSidebar",["$location","$rootScope","$routeParams","epSidebarService","epShellService","epShellConstants","epFeatureDetectionService",function(a,b,c,d,e,f,g){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"src/components/ep.shell/sidebar/sidebar.html",controller:["$scope",function(a){function h(){a.platform=g.getFeatures().platform,a.shellState=e.__state,a.sidebarState=d.state,$("body").removeClass("cordova-padding"),"Cordova"===a.platform.app&&"mac"===a.platform.os&&$("body").addClass("cordova-padding"),a.menuId=c.menuId,a.dismissRightSidebar=function(){a.shellState.suspend||e.hideRightSidebar()},a.dismissLeftSidebar=function(){e.getMediaMode()!==f.MEDIA_MODE_SMALL||a.shellState.suspend||e.hideLeftSidebar()},a.dismissSidebars=function(){a.dismissRightSidebar(),a.dismissLeftSidebar()}}b.$watch("initComplete",function(a){a&&h()})}]}}]),angular.module("ep.shell").service("epSidebarService",["$compile",function(a){function b(){angular.element("#leftSidebar").empty()}function c(){angular.element("#rightSidebar").empty()}function d(){b(),c()}function e(a){k=a}function f(a){h("<div ng-include='\""+a+"\"'></div>")}function g(a){i("<div ng-include='\""+a+"\"'></div>")}function h(b){l.leftTemplate=b;var c=angular.element("#leftSidebar");c.empty().append(a(b)(k))}function i(b){l.rightTemplate=b;var c=angular.element("#rightSidebar");c.empty().append(a(b)(k))}function j(a){a&&(l.shouldShowMessage=!0),l.message=a}var k=null,l={shouldShowMessage:!1,message:null,leftTemplate:null,rightTemplate:null,leftTemplateUrl:null,rightTemplateUrl:null};return{clear:d,clearLeftSidebar:b,clearRightSidebar:c,state:l,showMessage:j,setScope:e,setLeftTemplateUrl:f,setRightTemplateUrl:g,setLeftTemplate:h,setRightTemplate:i}}]),function(){angular.module("ep.shell").directive("epShellViewContainer",["$rootScope","$timeout","epShellService","epSidebarService","epViewContainerService",function(a,b,c,d,e){function f(a,b){a.left&&(a.left.template?d.setLeftTemplate(a.left.template,b):a.left.templateUrl&&d.setLeftTemplateUrl(a.left.templateUrl,b)),a.right&&(a.right.template?d.setRightTemplate(a.right.template,b):a.right.templateUrl&&d.setRightTemplateUrl(a.right.templateUrl,b))}return{restrict:"E",transclude:!0,replace:!1,templateUrl:"src/components/ep.shell/viewcontainer/viewcontainer.html",scope:{sidebarsettings:"@",smallmodesettings:"@",largemodesettings:"@"},compile:function(){var g="";return{pre:function(h){var i=c.__state;h.state=i,g=c.getMediaMode(),d.setScope(h);var j={sidebar:h.sidebarsettings?JSON.parse(h.sidebarsettings):{},small:h.smallmodesettings?JSON.parse(h.smallmodesettings):{},large:h.largemodesettings?JSON.parse(h.largemodesettings):{}};j=c.__viewSettings(j),j[g]&&c.__setCurrentModeFlags(),j.sidebar&&f(j.sidebar,h),e.state.cleanup&&e.state.cleanup(),e.state.cleanup=a.$on("shellStateChanged",function(){g!==c.getMediaMode()&&(g=c.getMediaMode(),j[g]&&c.__setCurrentModeFlags(),j.sidebar&&f(j.sidebar,h),b(function(){h.$apply()}))})},post:function(){}}}}}])}(),angular.module("ep.shell").service("epViewContainerService",["$rootScope","$timeout","epShellService","epShellConstants",function(a,b,c,d){function e(a){var b=$(a);return{width:b.width(),height:b.height()}}function f(a){var b=[];return $(a).each(function(a,c){b.push(e(c))}),{width:(b.map(function(a){return a.width}).reduce(function(a,b){return a+b},0)||0)+11,height:Math.max(b.map(function(a){return a.height}))||0}}function g(b){var g=c.__state,h=$(window),i={top:g.showNavbar?d.NAVBARHEIGHT:0,left:g.showLeftSidebar&&c.isMediaModeLarge()?d.SIDEBARWIDTH:0},j=g.showFooter?d.FOOTERHEIGHT:0,k={width:h.width(),height:h.height()},l={width:k.width-i.left,height:k.height-i.top-j},m={offset:i,size:l,navbar:{height:i.top,width:k.width,buttonGroup:{left:{width:$(".navbar-brand").offset().left,height:i.top},right:f(".right-button")},brand:e(".navbar-brand")},footer:{height:j,width:k.width}},n=k.width-(m.navbar.buttonGroup.left.width+m.navbar.buttonGroup.right.width);$(".navbar-brand").css("max-width",n+"px"),m.navbar.brand.width>n&&(m.navbar.brand.width=n);var o=g.viewDimensions,p=o.size.width!==m.size.width||o.size.height!==m.size.height||o.offset.top!==m.offset.top||o.offset.left!==m.offset.left;g.viewDimensions=m,p&&a.$emit("viewSizeChanged",m,b)}var h={cleanup:null};return a.$on("shellSizeChanged",function(){g("size")}),{state:h,calculateDimensions:g}}]),angular.module("ep.sysconfig").provider("epSysConfig",function(){var a,b={};this.$get=["$log",function(c){function d(a){return b.hasOwnProperty(a)?b[a]:void 0}var e=$.ajax({type:"GET",url:"sysconfig.json",cache:!1,async:!1,contentType:"application/json"});if(a=e.status,200===e.status)try{b=angular.fromJson(e.responseText)}catch(f){c.warn("Error parsing sysconfig: "+f.message)}return{sysconfig:b,section:d}}]}),angular.module("ep.theme").provider("epThemeConfig",function(){var a={defaultPath:"",themes:[{name:"bootstrap",cssFilename:"bootstrap.min.css"},{name:"flatly",cssFilename:"flatly.min.css"}],theme:{name:"bootstrap",cssFilename:"bootstrap.min.css"}};this.$get=["epSysConfig",function(b){var c=b.section("epThemeConfig");return c&&angular.extend(a,c),a}]}),angular.module("ep.theme").service("epThemeService",["$rootScope","epThemeConfig","epLocalStorageService",function(a,b,c){function d(){return b.themes}function e(a){return _.find(d(),function(b){return b.name===a})}function f(b){return b&&(i=_.find(d(),function(a){return a.name===b}),i||(i=_.find(d(),function(a){return"bootstrap"===a.name})),a.$emit("epThemeChangedEvent",i),c.update(h,i)),i}function g(a){var c=a?_.find(d(),function(b){return b.name===a}):i,e=b.defaultPath;if(c&&e&&c.cssFilename){var f=angular.extend({},c);return e=e.trim(),e.lastIndexOf("/")===e.length-1&&(e=e.substr(0,e.length-1)),f.cssFilename=e+"/"+f.cssFilename,f}return c}var h="currentTheme",i=c.getOrAdd(h,b.theme);return{getThemes:d,getTheme:e,theme:f,getThemeWithFullPath:g}}]),angular.module("ep.token").provider("tokenConfig",function(){var a={restUri:"https://localhost/ICE3/TokenResource.svc/",tokenId:"epicor.token.auth"};this.$get=["epSysConfig",function(b){var c=b.section("epTokenConfig");return c&&angular.extend(a,c),a}]}),angular.module("ep.token").factory("tokenFactory",["$cookieStore","$http","tokenConfig","utilsConfig","$q",function(a,b,c,d,e){function f(b){return d.debug&&"manager"===b.username&&"Epicor123"===b.password?l(b):j(b).success(function(d){k(d),a.put(c.tokenId,b)}).error(function(){})}function g(){a.remove(c.tokenId)}function h(){return a.get(c.tokenId)}function i(){var a=h();return void 0!==a&&!angular.equals({},a)}function j(a){return b.defaults.headers.post=a,b.post(c.restUri,{})}function k(b){b&&b.hasOwnProperty("bearer")&&a.put(c.tokenId,b)}function l(a){var b=e.defer(),c=b.promise;return c.success=function(a){return c.then(a),c},c.error=function(a){return c.then(null,a),c},k({username:a.username,bearer:"mySampleTokenDataValue"}),b.resolve(""),c}return{login:f,logout:g,getToken:h,hasToken:i}}]),angular.module("ep.utils").provider("utilsConfig",function(){var a={debug:!1};this.$get=["epSysConfig",function(b){var c=b.section("epUtilsConfig");return c&&angular.extend(a,c),a}]}),angular.module("ep.utils").service("epUtilsService",["$document","$log","$q","$timeout",function(a,b,c,d){function e(a){if(!a||arguments.length<1)return"";var b=a;if(arguments.length>1){var c=arguments;b=b.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),d=null;return b+1<c.length&&(d=c[b+1]),d})}return b}function f(a,b){var c={};return a.forEach(function(a){var d,e;if(angular.isString(b))e=a[b];else{if(!angular.isFunction(b))throw new Error("mapArray called with an invalid idAccessor.");e=b(a)}d=angular.isFunction(e)?e():e,c[d]=a}),c}function g(a,b){a&&b&&angular.forEach(a,function(c,d){null!==a[d]&&(angular.isArray(a[d])?b[d]=a[d]:angular.isObject(a[d])?(angular.isObject(b[d])||(b[d]={}),g(a[d],b[d])):b[d]=a[d])})}function h(a,b){return b&&0!==b.indexOf(a)?a+b:b||""}function i(a,b){return a&&a.lastIndexOf(b)!==a.length-b.length?a+b:a||""}function j(){var a="",b=_.flatten(arguments,!0);return b&&1===b.length&&angular.isObject(b[0])&&0===b[0].length?a:(angular.forEach(b,function(b){
a+="/"+b}),a)}function k(d,e){var f,g=c.defer(),h="script:"+d;return d&&e.get(h)?g.resolve(h+" from cache"):(f=a[0].createElement("script"),f.src=d,f.onload=function(){g.resolve(h)},f.onerror=function(a){b.error("Error loading url: ["+d+"]"),g.reject(a,h)},a[0].documentElement.appendChild(f),e.put(h,1)),g.promise}function l(a,b){var c=a;return angular.isObject(a)&&angular.isString(b)&&b?!_.find(b.split("."),function(a){var b=c.hasOwnProperty(a);return b&&(c=c[a]),!b}):!1}function m(a,b,c,e){b--,b>=0&&(a()?e():d(function(){m(a,b,c,e)},c))}return{strFormat:e,mapArray:f,ensureStartsWith:h,ensureEndsWith:i,copyProperties:g,makePath:j,loadScript:k,hasProperty:l,wait:m}}]),angular.module("ep.templates").run(["$templateCache",function(a){a.put("src/components/ep.action.set/action-menu/action-menu.html",'<div id=ep-actions-menu-ctr ng-show=actionMenuCtrl.actions><ul class="dropdown-menu ep-actions-menu list-unstyled noselect" role=menu><li ng-repeat="action in actionMenuCtrl.actions" ng-if="!action.switch || action.switch(action.switchParams) == action.switchResult" ng-switch=action.type ng-class="{\'hidden\': action.switch != null && action.switch == false}"><a ng-switch-when=action class=ep-actions-menu-item ng-click="actionMenuCtrl.invokeAction($event, action)"><span class="icon {{action.icon}}"></span><span>{{::action.title}}</span></a><div ng-switch-when=separator class=ep-actions-menu-item-separator></div></li><li class=ep-actions-menu-item-mobile><a class="ep-actions-menu-item edd-red separate" ng-click=actionMenuCtrl.close()><span class="icon icon-clear"></span><span>Close</span></a></li></ul></div>'),a.put("src/components/ep.datagrid/datagrid-filter/datagrid-filter-row.html",'<tr id=rowFilter class=ep-datagrid-filter-row ng-show="state.filterShowFlag === true"><th ng-repeat="ctx in state.filterEditors" class=ep-datagrid-filter-header ng-class=ctx.className><div ng-if="ctx.hidden !== true"><div class="ep-datagrid-filter-group input-group"><span class="ep-datagrid-filter-op input-group-addon fa-stack fa-lg" ng-click=fnFilterOpChange(ctx)><i class="ep-datagrid-filter-op-icon fa fa-circle-thin fa-stack-2x"></i> <i class="ep-datagrid-filter-text fa-stack-1x fa" ng-class="{\'fa-asterisk\': ctx.operator === \'*\', \'\': ctx.operator !== \'*\' }" operator={{ctx.operator}} col={{ctx.columnIndex}} id=filterOp_{{ctx.columnIndex}}>{{ctx.operatorText}}</i></span> <input class="col-md-8 form-control editor" style="color: black" ng-model=ctx.value type={{ctx.type}} col={{ctx.columnIndex}} colname={{ctx.columnName}} operator={{ctx.operator}} id=filterInput_{{ctx.columnIndex}} ng-blur=fnFilterBlur(ctx) ng-keyup="fnFilterKeyUp(ctx, $event)" name="filterInput_{{ctx.columnIndex}}"></div></div></th></tr>'),a.put("src/components/ep.datagrid/datagrid.html",'<div class=ep-data-grid id={{state.dataGridId}}><form class="ep-dg-grid-search navbar-inverse" ng-show=state.allowSearchInput><!-- This needs to be a form or the "search" input type doesn\'t work on iOS --><input class="ep-dg-search-input form-control input-sm" name=search type=search placeholder=Search ng-class=searchInputClass ng-model=state.searchValue ng-init=fnOnSearchBlur() ng-blur=fnOnSearchBlur($event) ng-focus=fnOnSearchFocus($event) ng-keyup=fnOnSearchKeyUp($event) ng-change="fnOnSearchChange($event)"></form><div id=tblArea_{{state.dataGridId}} class=ep-dg-grid-table-area><table id=tbl_{{state.dataGridId}} cellpadding=0 cellspacing=0 border=0 class="ep-dg-grid-table table table-bordered table-hover" fixed-header></table><div class=ep-dg-progressIndicator ng-show=showProgress><span class="fa fa-spinner fa-pulse fa-5x"></span></div></div></div>'),a.put("src/components/ep.embedded.apps/embedded-apps.html",'<div id=appHost><div id=splash ng-if=appConfig.splash ng-show=showSplash ep-animation options=appConfig.splash.transition><div id=splashContainer ng-include="getEmbeddedAppPath(appConfig.id, appConfig.splash.templateUrl)"></div></div><div id=appContent ng-show=showApp ep-animation options=currentView.transition><ep-embedded-apps-loader config=appConfig on-complete=onLoaderComplete()></ep-embedded-apps-loader></div></div>'),a.put("src/components/ep.login/login.html",'<div class=thumbnail><div class=caption><h3 ng-hide=hasToken><span class="icon icon-enter"></span> Login</h3><h3 ng-show=hasToken><span class="icon icon-exit"></span> Logout</h3><hr></div><form role=form><div class=form-group><label for=user-name class="col-sm-2 control-label">User:</label><div><input class=form-control id=user-name value={{::user.username}} ng-model=user.username placeholder=username required></div></div><div class=form-group><label for=user-password class="col-sm-2 control-label">Password:</label><div><input type=password class=form-control id=user-password value={{::user.password}} ng-model=user.password placeholder=password required></div></div></form><hr><p></p><div class="alert alert-danger" id=validationSummary role=alert ng-show=hasError>{{status}}</div><div><a class="btn btn-default" ui-sref={{::cancelPath}}>Cancel</a> <button type=button class="btn btn-primary" ng-hide=hasToken ng-click=login()>Login</button> <button type=button class="btn btn-primary" ng-show=hasToken ng-click=logout()>Logout</button></div></div>'),a.put("src/components/ep.modaldialog/modals/modaldialog-custom.html",'<div class="ep-modaldialog ep-modaldialog-custom"><div class=modal-header><span class=close ng-show=config.closeButton><button type=button data-dismiss=modal aria-label=Close ng-click="btnclick({isCancel: true})"><span aria-hidden=true>&times;</span></button></span><h4 id=dialogTitle class="bg-primary modal-title"><span class="ep-dlg-title-icon {{config.icon}}"></span> <span class=ep-dlg-title ng-bind=config.fnGetTitle()></span></h4></div><div class=modal-body><form id=dialogForm name=dialogForm><div ng-include=config.templateUrl></div><div class="ep-dlg-rememberMe col-md-10" ng-show=config.rememberMe><div class=form-group><div class="row col-md-1"><input tabindex=1 id=cbxRemember class=form-control type=checkbox ng-model=config.rememberMeValue></div><label class="col-md-10 control-label">Do not show this message again</label></div></div></form></div><div class=modal-footer><div class=ep-dlg-buttons><button ng-repeat="btn in config.buttons" id=btn.id tabindex="$index + 100" data-dismiss=modal ng-hide=btn.hidden ng-disabled="btn.isPrimary && !dialogForm.$valid" class="btn btn-{{btn.type}}" ng-click=btnclick(btn)><i ng-if=btn.icon ng-class=btn.icon></i> &nbsp;{{btn.text}}</button></div></div><div class=ep-dlg-status ng-show=config.statusBar><h4 class="bg-primary modal-title"><span>{{config.statusBarText}}</span></h4></div></div>'),a.put("src/components/ep.modaldialog/modals/modaldialog-error.html",'<!--Custom Dialog Error Template--><div class=ep-modaldialog-error ng-controller=epModalDialogErrorCtrl><section ng-if=config.callFnHideModalError ng-hide=config.fnHideModalError()></section><div class="alert clearfix" ng-class=config.statusClass><table class=ep-dlg-bodytable><tr><td><span ng-if=config.showSpinner class="ep-dlg-icon fa-stack fa-2x"><i class="ep-dlg-spinner-icon fa fa-spin fa-stack-2x" ng-class=config.spinnerIconClass></i> <i ng-if=config.showTimer class="ep-dlg-spinner-text fa fa-stack-1x {{config.spinnerTextClass}}" ng-class=config.spinnerTextClass>{{config.countDown}}</i></span> <span ng-if=!config.showSpinner class=ep-dlg-icon><i class="fa fa-3x" ng-class=config.statusIcon></i></span></td><td><span class=ep-dlg-message ng-class=config.messageClass ng-bind=config.fnGetMessage()></span></td></tr></table></div><div class=ep-message-details ng-show=config.messageDetails><a href="" ng-click="config.showDetails = !config.showDetails;">{{config.showDetails ? \'Hide details\': \'Show details\'}}</a><div ng-show=config.showDetails><textarea ng-model=config.messageDetails ng-readonly=true disabled></textarea></div></div></div>'),a.put("src/components/ep.modaldialog/modals/modaldialog-pane.html",'<div class="ep-modaldialog ep-modaldialog-pane ep-ease-animation ep-hide-fade" ng-hide=!dialogState.isVisible><div class=ep-dlg-container ng-class=config.containerClass><div class="ep-dlg-center clearfix"><span class="ep-dlg-icon pull-left" ng-class=config.iconClass style="margin-right: 10px; margin-top: 5px"><span ng-if=config.showSpinner class="ep-dlg-icon fa-stack fa-2x"><i class="ep-dlg-spinner-icon fa fa-spin fa-stack-2x" ng-class=config.spinnerIconClass></i> <i ng-if=config.showTimer class="ep-dlg-spinner-text fa fa-stack-1x" ng-class=config.spinnerTextClass>{{config.countDown}}</i></span> <i ng-if=!config.showSpinner ng-class=config.icon></i></span><div class=pull-left><span class=ep-dlg-title ng-class=config.titleClass ng-bind=config.fnGetTitle()></span><p class=ep-dlg-message ng-class=config.messageClass ng-bind=config.fnGetMessage()></p><div class="ep-dlg-rememberMe form-group" ng-show=config.rememberMe><div class=checkbox><input tabindex=1 id=cbxRemember type=checkbox ng-model=config.rememberMeValue><label>Do not show this message again</label></div></div><!--<div class="ep-dlg-progress-indicator" ng-show="config.showProgress"><span class="fa fa-pulse fa-spinner fa-5x" ng-class="config.progressClass"></span></div>--><!--<div class="ep-dlg-progress-indicator" ng-show="config.showProgress && config.showTimer"><span ng-class="config.timerClass">{{config.countDown}}</span></div>--><div class=ep-dlg-buttons><button ng-repeat="btn in config.buttons" id=btn.id tabindex="$index + 100" data-dismiss=modal ng-hide=btn.hidden class="btn btn-{{btn.type}} btn-sm" ng-click=btnclick(btn)><i ng-if=btn.icon ng-class=btn.icon></i> &nbsp;{{btn.text}}</button></div></div></div></div></div>'),a.put("src/components/ep.multi.level.menu/multi-level-menu.html",'<div class=ep-mlm-container ng-class="{\'ep-left-to-right\': !isRightToLeft, \'ep-right-to-left\': isRightToLeft}"><form class=ep-mlm-search ng-hide=searchDisabled><input class="form-control ep-mlm-search-input" placeholder=Search ng-model=state.searchTerm ng-change=search() ng-focus="isRightToLeft = false"></form><div ng-if=data.next class="ep-mlm-content ep-fadein-animation"><div ng-hide=state.searchTerm class=ep-mlm-header ng-class="{ \'pointer\': data.next._parent._id !== \'topmenu\'}" ng-click="navigate(data.next._parent, true, $event)"><span ng-if="data.next._parent._id !== \'topmenu\'" class="ep-mlm-back-button pull-left fa fa-lg fa-caret-left"></span> <span>{{data.next.caption}}</span></div><div ng-show=state.searchTerm class=ep-mlm-header><span>Search Results</span></div><ul><li ng-repeat="mi in currentItems | orderBy:\'caption\'" class="ep-mlm-item clearfix ep-repeat-animation"><div class="pull-left clearfix ep-mlm-item-div" ng-click=navigate(mi)><div class="ep-mlm-item-text pull-left" title={{mi.caption}}>{{mi.caption}}</div></div><i ng-if="mi._type === \'item\'" class="ep-mlm-favorite fa fa-lg pull-right" ng-click=toggleFavorite(mi) ng-class="{ \'fa-star-o\': !mi.favorite, \'fa-star text-warning\': mi.favorite}"></i> <i ng-if="mi._type === \'menu\'" class="ep-mlm-submenu fa fa-lg fa-caret-right pull-right" ng-click=navigate(mi)></i></li></ul><alert class="ep-mlm-alert ep-fadein-animation" ng-show="state.searchTerm && (!currentItems || currentItems.length === 0)" type=warning>The term "{{state.searchTerm}}" did not match any menu items.</alert></div></div>'),a.put("src/components/ep.search/search.html",'<div><header class=reverse><div class=searchControl><form role=form ng-submit=runSearch(searchText)><input type=search placeholder="Enter your search terms..." ng-model=searchText ng-change="changeSearch()"> <span class=input-group-btn><button class="btn btn-default" type=button><span class="icon icon-search"></span></button></span> <button ng-click=runSearch(searchText) ng-disabled=!searchText>search</button></form><div class="alert alert-danger" id=validationSummary role=alert ng-show=hasError>{{status}}</div></div></header><section><div ng-show=enterpriseSearch.searchText><p ng-show=enterpriseSearch.searching>Searching for the following terms: \'{{enterpriseSearch.searchText}}\' ...</p><p ng-show=enterpriseSearch.searchError>{{enterpriseSearch.searchError}}</p></div><ul ng-if=enterpriseSearch.searchResults class=searchResults><li ng-repeat="searchResult in enterpriseSearch.searchResults track by $index" class=searchResultCategory><b>Category: {{searchResult.label | uppercase}}</b><br><ul ng-if=searchResult.results><li ng-repeat="result in searchResult.results" class=searchResult><span class=searchResultHeader ng-class=searchResult.label>{{result.label | uppercase}} - {{result.companyContext}} - {{result.keyTag}}</span><br><div ng-if=result.fields><span ng-repeat="field in result.fields" class=searchResultField>{{field.alias}}: {{field.FieldValue}},</span></div></li></ul></li></ul></section></div>'),a.put("src/components/ep.shell/feedback/feedback_dialog.html",'<div class=form-group><label>{{config.summaryLabel}} <span class="required-indicator text-danger fa fa-asterisk"></span></label><input class=form-control ng-model=config.feedback.summary ng-required="true"></div><div class=form-group><label>{{config.descriptionLabel}} <span class="required-indicator text-danger fa fa-asterisk"></span></label><textarea class=form-control ng-model=config.feedback.description ng-required=true></textarea></div><div class=form-group><label>{{config.customerNameLabel}}</label><input class=form-control ng-model="config.feedback.customerName"></div><div class=form-group><label>{{config.customerEmailLabel}}</label><input class=form-control ng-model="config.feedback.customerEmail"></div>'),a.put("src/components/ep.shell/shell.html",'<div><section ng-controller=epShellCtrl class=ep-shell><section ng-if="state.disableTheming !== true && state.includeThemeFile === true"><link rel=stylesheet ng-href={{state.currentTheme.cssFilename}}></section><div ng-show=state.showProgressIndicator class=ep-progress-idicator><span class="fa fa-spin fa-spinner fa-pulse fa-5x"></span></div><nav class="ep-main-navbar navbar-sm navbar-default navbar-fixed-top" ng-class="{hidden: !state.showNavbar, \'cordova-padding\': platform.app === \'Cordova\'}" ng-style="{border: \'none\', \'padding-left\': \'4px\' }"><div class="container-fluid clearfix"><ul class="navbar-nav nav" style="float: none"><!--Left hand side buttons--><li><a id=leftMenuToggle class="pull-left fa fa-bars fa-2x ep-navbar-button left-button" ng-click=toggleLeftSidebar() ng-class="{\'hidden\': !state.showLeftToggleButton}"></a></li><li><a id=homebutton href=#/home class="pull-left fa fa-home fa-2x ep-navbar-button left-button" ng-class="{\'hidden\': !state.showHomeButton}"></a></li><li><a id=apptitle ng-class="{hidden: !state.showBrand}" class=navbar-brand href=#/home ng-bind-html=state.brandHTML></a></li><li class=right-button ng-class="{\'hidden\': !state.showRightToggleButton }"><a id=rightMenuToggle class="pull-left fa fa-bars fa-2x ep-navbar-button" ng-click=toggleRightSidebar() ng-class="{\'hidden\': !state.showRightToggleButton }"></a></li><!--Right hand side buttons--><li ng-repeat="button in navButtons | orderBy:\'index\':true" ng-class="{\'hidden\': button.hidden, \'disabled\': state.freezeNavButtons  || button.disabled}" class=right-button index={{button.index}}><a id=navbtn_{{button.id}} ng-if="button.type === \'button\'" title={{button.title}} class="fa {{button.icon}} fa-2x ep-navbar-button" ng-click=state.executeButton(button) ng-mousedown=state.buttonMouseDown(button)></a> <a id=navbtn_{{button.id}} ng-if="button.type === \'select\'" title={{button.title}} class="fa {{button.icon}} fa-2x ep-navbar-button dropdown-toggle" data-toggle=dropdown aria-expanded=false></a><ul ng-if="button.type === \'select\'" class=dropdown-menu ng-class="{ \'align-right\': button.right, \'disabled\': state.freezeNavButtons || button.disabled }" role=menu><li ng-repeat="opt in button.options"><a ng-click=opt.action() ng-mousedown=state.buttonMouseDown(button)><span class=ep-navmenu-item><i class="ep-navmenu-item-icon fa {{opt.icon}}"></i><span class=ep-navmenu-item-text>{{opt.title}}</span></span></a></li></ul></li></ul></div></nav><!--SIDE NAVIGATION--><ep-shell-sidebar><!--<div ng-transclude></div>--><div ng-view class=ep-fullscreen></div></ep-shell-sidebar><div class="navbar navbar-xsm navbar-default navbar-fixed-bottom" ng-class="{hidden: !state.showFooter}" role=navigation id=mainfooter style="color: white; padding-top: 4px; padding-left: 5px"><a class=pull-left style="color: white" href=#/whatsnew><sup>Version {{uiVersion}}</sup></a></div><span class=ep-shell-feedback-btn id=feedbackbutton ng-if=state.feedbackEnabled ng-click=sendFeedback()><i class="fa fa-bullhorn"></i> Give Feedback</span></section></div>'),a.put("src/components/ep.shell/sidebar/sidebar.html","<div class=ep-shell-container ng-class=\"{ 'nav-padding': shellState.showNavbar, 'footer-padding': shellState.showFooter, 'ep-disable-left-sidebar': !shellState.enableLeftSidebar, 'ep-hide-left-sidebar': (!shellState.showLeftSidebar) || (!shellState.enableLeftSidebar), 'ep-hide-right-sidebar': (!shellState.showRightSidebar) || !(shellState.enableRightSidebar)}\"><!-- Left Sidebar --><div id=leftSidebar class=\"ep-sidebar-nav ep-sidebar-nav-left well ep-ease-animation\" ng-class=\"{'ep-with-navbar': shellState.showNavbar, 'ep-with-footer': shellState.showFooter, 'cordova-ios': platform.app==='Cordova' && platform.os=='mac'}\" ng-click=dismissRightSidebar()></div><div id=viewPlaceholder class=\"ep-view-placeholder ep-fullscreen\" ng-transclude ng-click=dismissSidebars()><!--VIEW CONTENT HERE--></div><!-- Right Sidebar --><div id=rightSidebar class=\"ep-sidebar-nav ep-sidebar-nav-right well ep-ease-animation\"></div></div>"),a.put("src/components/ep.shell/viewcontainer/viewcontainer.html","<div id=viewContainer class=ep-view-container ng-class=\"{ 'ep-with-navbar': !!state.showNavbar,\r\n                                    'ep-with-footer': !!state.showFooter,\r\n                                    'ep-ease-animation': !!state.animateViewContainer,\r\n                                    'ep-scroll-y': !!state.allowVerticalScroll,\r\n                                    'ep-momentum-scrolling-enabled': !!state.momentumScrollingEnabled }\"><div id=viewMessage class=ep-container-message ng-if=state.infoMessage ng-style=\"{'width': state.viewDimensions.size.width + 'px', 'height': state.viewDimensions.size.height + 'px'}\"><p class=\"ep-container-message-text ep-center-item\"><i class={{state.infoIcon}}></i><br>{{state.infoMessage}}</p></div><div class=ep-fullscreen ng-transclude></div></div>"),a.put("src/components/ep.shell/views/ep-shell-embedded-apps-container.html",'<ep-shell-view-container smallmodesettings="{ &quot;showNavbar&quot;: true, &quot;showFooter&quot;: false, &quot;enableLeftSidebar&quot;: true, &quot;enableRightSidebar&quot;: false, &quot;showHomeButton&quot;: false, &quot;showBrand&quot;: true,  &quot;animateViewContainer&quot;: false, &quot;allowVerticalScroll&quot;: true }" largemodesettings="{ &quot;showNavbar&quot;: true, &quot;showFooter&quot;: false, &quot;enableLeftSidebar&quot;: true, &quot;enableRightSidebar&quot;: false, &quot;showHomeButton&quot;: false, &quot;showBrand&quot;: true,  &quot;animateViewContainer&quot;: false, &quot;allowVerticalScroll&quot;: true }"><ep-embedded-apps></ep-embedded-apps></ep-shell-view-container>')}]);