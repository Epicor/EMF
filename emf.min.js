"use strict";function searchController(a,b){a.enterpriseSearch={},a.enterpriseSearch.searching=!1,a.enterpriseSearch.searchResults=null,a.enterpriseSearch.status="",a.enterpriseSearch.changeSearch=function(){var b=a.enterpriseSearch.searchText;""===b&&(a.enterpriseSearch.searchResults=null,a.enterpriseSearch.status="")},a.enterpriseSearch.runSearch=function(c){""!==c&&(a.enterpriseSearch.searching=!0,a.enterpriseSearch.searchResults=[],a.enterpriseSearch.status="",a.enterpriseSearch.hasError=!1,b.search(c,0,100).then(function(b){a.enterpriseSearch.searching=!1,a.enterpriseSearch.searchResults=b},function(b){a.enterpriseSearch.status="An error occurred: "+b.status,a.enterpriseSearch.searching=!1,a.enterpriseSearch.hasError=!0}))}}angular.module("ep.action.set",["ep.feature.detection","ep.templates"]),angular.module("ep.drag.drop",[]),angular.module("ep.embedded.apps",["ep.templates","ep.sysconfig"]),angular.module("ep.feature.detection",["ep.templates"]),angular.module("ep.local.storage",["ep.sysconfig"]),angular.module("ep.login",["ui.router","ep.token","ep.templates"]),angular.module("ep.modaldialog",["ep.templates"]),angular.module("ep.multi.level.menu",["ep.templates","ep.local.storage","ep.token"]),angular.module("ep.odata",[]),angular.module("ep.search",["ep.token","ep.templates"]),angular.module("ep.shell",["ngRoute","ui.bootstrap","ep.templates","ep.feature.detection","ep.local.storage","ep.theme","ep.utils","ep.sysconfig"]),angular.module("ep.sysconfig",[]),angular.module("ep.templates",[]),angular.module("ep.theme",["ep.templates","ep.local.storage","ep.sysconfig"]),angular.module("ep.token",["ep.utils","ngCookies"]),angular.module("ep.utils",["ep.sysconfig"]),angular.module("ep.action.set").directive("epActionItem",["$document","actionSetFactory",function(a,b){return{restrict:"E",scope:{handler:"=",title:"@",trigger:"@",type:"@",params:"=",actionSwitch:"=switch",actionSwitchParams:"=switchParams",actionSwitchResult:"=switchResult",icon:"@"},link:function(a,c,d){var e={handler:a.handler,title:a.title,trigger:a.trigger,type:a.type,params:a.params,actionSwitch:a.actionSwitch,actionSwitchParams:a.actionSwitchParams,actionSwitchResult:a.actionSwitchResult};a.$destroy(),a=null,b.registerAction(c,e,"default"in d),c.remove()}}}]),angular.module("ep.action.set").controller("epActionMenuCtrl",["$scope","$document",function(a,b){function c(){e.actions=null,a.$root.$$phase||a.$apply(),b.off("click.actionMenu")}function d(a,b){b.handler.call(e,b.callback),c(),a.stopPropagation(),a.preventDefault()}var e=this;e.closeMenu=c,e.invokeAction=d,a.$on("actionMenuCall",function(d,f){e.actions=f.actions,"fixed"!==e.menu.css("position")&&e.menu.css({left:f.event.clientX+"px",top:f.event.clientY+"px"}),b.on("click.actionMenu",function(){c()}),a.$root.$$phase||a.$apply()})}]),angular.module("ep.action.set").directive("epActionMenu",function(){return{restrict:"E",replace:!0,controller:"epActionMenuCtrl",controllerAs:"actionMenuCtrl",templateUrl:"src/components/ep.action.set/action-menu/action-menu.html",link:function(a,b){a.actionMenuCtrl.menu=b}}}),angular.module("ep.action.set").directive("epActionSeparator",["$document",function(){return{restrict:"E",require:"^epActionSet",link:function(a,b){var c=$(b).parent(),d=c.data("actions")||[];d.push({type:"separator"}),b.remove()}}}]),angular.module("ep.action.set").controller("epActionSetCtrl",["$scope",function(a){a.onActionCallerClick=function(b){var c=$(b.target).closest(".ep-interactivity-sign"),d=c.parent().data("actions");a.$root.$broadcast("actionMenuCall",{event:b,actions:d}),b.preventDefault(),b.stopPropagation()}}]),angular.module("ep.action.set").directive("epActionSet",["$compile","epFeatureDetectionService",function(a,b){return{restrict:"E",scope:{position:"=",bindTo:"=",insertTo:"="},controller:"epActionSetCtrl",compile:function(a,c){var d="";if(a.parent().addClass("ep-relative").addClass("ep-action-owner"),d="ep-actionset-right-down",b.browserIsMobile()===!1&&c.position)switch(c.position){case"absolute-right-bottom":d="ep-actionset-right-bottom";break;case"right-bottom":d="ep-actionset-right-down";break;case"right-center":d="ep-actionset-right-center"}return a.addClass("ep-actionset"),a.addClass(d),a.append($('<div class="ep-interactivity-sign" ng-controller="epActionSetCtrl" ng-click="onActionCallerClick($event)"><span class="fa fa-ellipsis-h"></span></div></div>')),{pre:function(){},post:function(b){b.bindTo&&(b.bindTo.append(a),b.bindTo.addClass("ep-relative").addClass("ep-action-owner")),b.$destroy(),b=null}}}}}]),angular.module("ep.action.set").factory("actionSetFactory",[function(){function a(a,b){if(null!==b.handler){var c=$(a).parent(),d=c.data("actions")||[],e={title:b.title,type:"action",icon:b.icon};if(b.actionSwitch&&(e["switch"]=b.actionSwitch,e.switchParams=b.actionSwitchParams,e.switchResult=b.actionSwitchResult),Array.isArray(b.params)){var f=function(){b.handler.apply(a,arguments[0])};e.handler=f.bind(c,b.params)}else b.handler&&(e.handler=b.handler.bind(c,b.params));d.push(e),c.data("actions",d)}}return{registerAction:a}}]),angular.module("ep.action.set").directive("epDynamicActionSet",["$compile","$rootScope",function(a,b){return{restrict:"EA",scope:{provider:"=epDynamicActionSetProvider",actionParams:"=epDynamicActionSetParams",bindTo:"=epDynamicActionSetBindTo",insertTo:"=epDynamicActionSetInsrtTo",injections:"=epDynamicActionSetInjections"},link:function(c,d){var e="undefined"==typeof c.bindTo||null===c.bindTo;c.provider&&(c.provider.actionSet.apply(e,d,b,c,a),c.$destroy(),c=null)}}}]),angular.module("ep.action.set").factory("dynamicActionSetFactory",[function(){function a(a,c){return new b(a,c)}function b(a,b){function d(a,b,d){var f=new c(a,b,d);e(f),m.push(f)}function e(a){if(!(a.title&&a.title.length>0))throw new Error("Title for the action is required!")}function f(a,b){for(var c=!1,d=0;d<m.length;d++)if(m[d].title===a){m.splice(d,b?m.length-d:1),c=!0;break}c&&(l&&l.remove(),this.apply.apply(this,k))}function g(a,b,d,f){for(var g=0;g<m.length;g++)if(m[g].title===a)return;var h=new c(a,b,d,f);e(h),m.push(h),l&&l.remove(),this.apply.apply(this,k)}function h(a,c,d,e,f){var g=[];if(k=arguments,j=f,a&&(!angular.isFunction(b)||b(c,e))){g.push('<ep-action-set position="right-bottom" bind-to="bindTo" insert-to="insertTo">'),i=d.$new(!0);for(var h=0;h<m.length;h++)g.push(m[h].build(h,i));g.push("</ep-action-set>"),i.bindTo=e.bindTo||c,i.params=e.actionParams,i.bindTo.data("actions",null),l=f(g.join(""))(i)}}this.name=a,this.onCreateActionSet=b;var i,j,k,l,m=[];return{addAction:d,apply:h,removeAction:f,appendAction:g}}function c(a,b,c,d){this.title=a,this.handler=b;var e,f=[];if(c)for(e in c)c.hasOwnProperty(e)&&f.push(e+'="'+c[e]+'"');this.apply=function(a,b,c,e){var g=b.$new(!0),h='<ep-action-item title="'+this.title+'icon="'+d+'" " handler="handler" params="params" bind-to="bindTo" insert-to="insertTo" '+f.join(" ")+"></ep-action-item>";g.handler="function"==typeof this.handler?this.handler:c[this.handler],g.params=c.actionParams,g.bindTo=c.bindTo||a,g.insertTo=c.provider.insertTo,g.injections=c.injections,e(h)(g)},this.build=function(a,b){return b["fnc"+a]=this.handler,'<ep-action-item title="'+this.title+'" icon="'+d+'" " handler="fnc'+a+'" params="params" bind-to="bindTo" insert-to="insertTo" '+f.join(" ")+"></ep-action-item>"}}return{getDynamicActionSet:a}}]),angular.module("ep.drag.drop").factory("dragOperationFactory",[function(){function a(a){var b={};return b.dropCallback=a.dropCallback,b.dropCallbackParams=a.dropCallbackParams,b.dragItem=a.dragItem,b.dragItemType=a.dragItemType,b}return{getDragOperation:a}}]),angular.module("ep.drag.drop").directive("epDraggable",["dragOperationFactory",function(a){return{restrict:"A",scope:{dropCallback:"=dropCallback",dropCallbackParams:"=dropCallbackParams",dragItem:"=dragItem",dragItemType:"=dragItemType"},compile:function(b,c){return c.draggable||b.attr("draggable","true"),function(b,c){if(!b.dragItemType)throw new Error("Dragged item type is not specified!");c.on("dragstart",function(c){var d=a.getDragOperation(b),e=function(){return d};b.$root.$broadcast("startDraging",e),c.stopPropagation()})}}}}]),angular.module("ep.drag.drop").controller("epDropAreaCtrl",["$scope",function(a){function b(a,b){f=b}function c(b){var c=f(),d=e.dropItemTypes.split(",");if(Array.isArray(d)&&d.length>1){if(-1===d.indexOf(c.dragItemType))return}else if(e.dropItemTypes!==c.dragItemType)return;a[e.dropHandler]&&a[e.dropHandler].call(c.dragItem||this,c),b.stopPropagation()}function d(a){return a.preventDefault(),!1}var e=this;e.onDragStart=b,e.onDrop=c,e.onDragOver=d;var f}]),angular.module("ep.drag.drop").directive("epDropArea",[function(){return{restrict:"A",controller:"epDropAreaCtrl",controllerAs:"dropCtrl",compile:function(){return function(a,b,c){a.dropCtrl.dropItemTypes=c.dropItemTypes,a.dropCtrl.dropHandler=c.dropHandler,a.$on("startDraging",a.dropCtrl.onDragStart),b.on("drop",a.dropCtrl.onDrop),b.on("dragover",a.dropCtrl.onDragOver)}}}}]),angular.module("ep.embedded.apps").directive("epEmbeddedAppsLoader",["$http","$log","$compile","$timeout","epEmbeddedAppsCacheService","epEmbeddedAppsProvider",function(a,b,c,d,e,f){return{scope:{config:"=",onComplete:"&"},link:function(g,h){function i(){k&&(k.$destroy(),k=null),h.html("")}function j(c,f){var g,h="view:"+c;e.scriptCache.get(h)?(g=e.scriptCache.get(h),d(function(){f(g)},0)):a.get(c).success(function(a){e.scriptCache.put(h,a),f(a)}).error(function(a){b.error('Error loading template "'+c+"': "+a)})}var k;g.$watch(function(){return g.config&&g.config.id},function(){var a=g.config;a&&a.id?f.load(a,function(){var b=a.activeViewId||a.startViewId,d=f.getAppPath(a.id,a.views[b].templateUrl);j(d,function(a){k=g.$new(),h.html(a);var b=h.contents(),d=c(b);d(k),g.onComplete&&g.onComplete()})}):i()})}}}]),angular.module("ep.embedded.apps").controller("epEmbeddedAppShellConfigCtrl",["$scope","$location","epShellService","epSidebarService",function(a,b,c,d){function e(e,g){if(c.saveState(),f||(f=a.$on("$locationChangeStart",function(){0!==b.url().indexOf("/app/")&&(a.$on("$destroy",f),f=null,c.restoreState())})),g.sidebarOptions){if(c.disableLeftSidebar(),g.sidebarOptions.left)if(g.sidebarOptions.left.enabled&&c.enableLeftSidebar(),g.sidebarOptions.left.templateUrl){var h='"'+i+'"',i=a.getEmbbededAppPath(e.id,g.sidebarOptions.left.templateUrl);d.setLeftTemplate("<div ng-include="+h+"></div>")}else g.sidebarOptions.left.template&&d.setLeftTemplate(g.sidebarOptions.left.template);if(c.disableRightSidebar(),g.sidebarOptions.right)if(g.sidebarOptions.right.enabled&&c.enableRightSidebar(),g.sidebarOptions.right.templateUrl){var j='"'+k+'"',k=a.getEmbbededAppPath(e.id,g.sidebarOptions.right.templateUrl);d.setRightTemplate("<div ng-include="+j+"></div>")}else g.sidebarOptions.right.template&&d.setRightTemplate(g.sidebarOptions.right.template)}else c.disableLeftSidebar(),c.disableRightSidebar()}var f=null;a.$on("setupShellEvent",function(b,d){var f=a.appConfig;f.name&&c.setPageTitle(f.name);var g=f.views[d.viewId];g&&e(f,g)})}]),angular.module("ep.embedded.apps").service("epEmbeddedAppsShellService",["$rootScope","$location","$log","epEmbeddedAppsConstants",function(a,b,c,d){function e(){try{i=angular.element("html").injector().get("epShellService")}catch(b){c.warning("epShellService is not found for embedded applications")}i&&(a.$on(d.CONFIG_LOADED_EVENT,function(a,b){g(b.configs)}),a.$on(d.APPLICATION_LOADED_EVENT,function(a,b){var c=b.scope,d=c.appConfig;d.name&&i.setPageTitle(d.name);var e=d.views[b.viewId];e&&f(c,d,e)}))}function f(c,d,e){if(i.saveState(),j||(j=a.$on("$locationChangeStart",function(){0!==b.url().indexOf("/app/")&&(c.$on("$destroy",j),j=null,i.restoreState())})),e.sidebarOptions){if(i.disableLeftSidebar(),e.sidebarOptions.left)if(e.sidebarOptions.left.enabled&&i.enableLeftSidebar(),e.sidebarOptions.left.templateUrl){var f='"'+g+'"',g=c.getEmbbededAppPath(d.id,e.sidebarOptions.left.templateUrl);i.setLeftTemplate("<div ng-include="+f+"></div>")}else e.sidebarOptions.left.template&&i.setLeftTemplate(e.sidebarOptions.left.template);if(i.disableRightSidebar(),e.sidebarOptions.right)if(e.sidebarOptions.right.enabled&&i.enableRightSidebar(),e.sidebarOptions.right.templateUrl){var h='"'+k+'"',k=c.getEmbbededAppPath(d.id,e.sidebarOptions.right.templateUrl);i.setRightTemplate("<div ng-include="+h+"></div>")}else e.sidebarOptions.right.template&&i.setRightTemplate(e.sidebarOptions.right.template)}else i.disableLeftSidebar(),i.disableRightSidebar();if(d.epShellNavBar&&(d.epShellNavBar.hideHostButtons&&i.updateNavbarButtons([]),d.epShellNavBar.closeButton)){var l=d.epShellNavBar.closeButton;i.addNavbarButtons([{id:l.id||"ep.embedded.app_closeApp",title:l.title||"Close application and return home.",icon:l.icon||"fa-times",action:function(){b.url("/home")}}])}}function g(a){var c;a&&angular.forEach(a,function(a){if(a.epShellNavBar&&a.epShellNavBar.applicationButton){var d=a.epShellNavBar.applicationButton;i.addNavbarButtons([{id:"ep.embedded.app_"+a.id,title:d.title||a.name,icon:d.icon||a.icon,action:function(){b.url("/app/"+a.id+"/"+a.startViewId)}}])}a.startupInShell&&(c=a)}),c&&b.url("/app/"+c.id+"/"+c.startViewId)}function h(){}var i,j;return e(),{initialize:h,setupShellConfigs:g}}]),angular.module("ep.embedded.apps").constant("epEmbeddedAppsConstants",{CONFIG_LOADED_EVENT:"CONFIG_LOADED_EVENT",APPLICATION_LOADED_EVENT:"APPLICATION_LOADED_EVENT"}),angular.module("ep.embedded.apps").directive("epEmbeddedApps",["$log","$routeParams","$timeout","epEmbeddedAppsService","epEmbeddedAppsConstants",function(a,b,c,d,e){return{restrict:"E",templateUrl:"src/components/ep.embedded.apps/embedded-apps.html",link:function(a){function f(b){var f=d.configs[b];if(f){var h;if(h=g.viewId?f.views[g.viewId]:f.views[f.startViewId],h&&(h.parent=f,f.activeViewId=g.viewId,a.currentView=h),f.initialized)a.showApp=!0,f.onComplete=null;else{c(function(){a.showSplash=!0}),a.showApp=!1;var i=new Date;a.onLoaderComplete=function(){var b=Math.max(2e3-(new Date-i),0);f.initialized=!0,c(function(){a.showSplash=!1,a.showApp=!0,a.$apply()},b)}}a.appConfig=f,a.getEmbbededAppPath=d.getAppPath,c(function(){a.$emit(e.APPLICATION_LOADED_EVENT,{scope:a,viewId:g.viewId}),a.$apply()})}}var g=d.state;a.showSplash=!1,d.loadConfigurations().then(function(){g.appId=b.appId,b.viewId&&(g.viewId=b.viewId),f(g.appId)})}}}]),angular.module("ep.embedded.apps").service("epEmbeddedAppsCacheService",["$cacheFactory",function(a){var b=a("scriptCache",{capacity:10}),c=a("linkCache",{capacity:10});return{scriptCache:b,linkCache:c}}]).provider("epEmbeddedAppsProvider",["$controllerProvider","$provide","$compileProvider","$filterProvider","$routeProvider",function(a,b,c,d,e){function f(a){try{angular.module(a)}catch(b){if(/No module/.test(b))return!1}return!0}function g(a){return a&&0!==a.indexOf("/")?"/"+a:a||""}function h(a){return a&&a.indexOf("/")!==a.length-1?a+"/":a||""}function i(a){var b=[];return angular.forEach(a.requires,function(a){-1===m.indexOf(a)&&b.push(a)}),b}function j(a,b,c,d){var e,f,g,h,i,j,k,l;if(d){var n=[],o=[];for(g=d.length-1;g>=0;g--){i=d[g],m.push(i),j=angular.module(i),o=o.concat(j._configBlocks),n=n.concat(j._runBlocks);try{for(h=j._invokeQueue,e=0,f=h.length;f>e;e++){if(k=h[e],!c.hasOwnProperty(k[0]))return a.error("unsupported provider "+k[0]);l=c[k[0]],l[k[1]].apply(l,k[2])}}catch(p){throw p.message&&(p.message+=" from "+i),a.error(p.message),p}d.pop()}angular.forEach(n,function(a){b.invoke(a)})}return null}function k(a,b){return function(c){function d(b){c.url("/app/"+a.id+"/"+b)}function e(a,c,d,e,g){return void 0!==e&&null!==e&&!g&&f[e]?b(function(){return f[e]}):void 0}var f={},g={get:function(a,b,c){return e("get",a,"",b,c)},post:function(a,b,c,d){return e("post",a,b,c,d)},put:function(a,b,c,d){return e("put",a,b,c,d)},"delete":function(a,b,c,d){return e("delete",a,"",c,d)}};return{config:a,resource:g,data:f,goTo:d}}}function l(a){var b=angular.isObject(a)&&a.length?a:arguments,c=n.path;return angular.forEach(b,function(a){c+="/"+a}),c}var m=["ng"],n={path:"apps",provider:"sysconfig",applications:[]},o={},p={$controllerProvider:a,$compileProvider:c,$filterProvider:d,$provide:b},q=[];q.push=function(a){-1===this.indexOf(a)&&Array.prototype.push.apply(this,arguments)},this.$get=function(a,b,c,d,r,s,t){function u(n,t){function u(c,d,e){function f(d){if(d.length){var g,h=_.first(d),i="script:"+h;h&&s.scriptCache.get(i)?f(_.rest(d)):h?(g=b[0].createElement("script"),g.src=h,g.onload=function(){c(i),f(_.rest(d))},g.onerror=function(){r.error("Error loading url: ["+h+"]"),s.scriptCache.remove(i),f(_.rest(d))},b[0].documentElement.appendChild(g),s.scriptCache.put(i,1)):f(_.rest(d))}else a(e)}f(n.resources.scripts.map(function(a){return l(n.id,a)})),n.resources.links.map(function(a){return l(n.id,a)}).forEach(function(c){var e,f="link: "+c;c&&!s.linkCache.get(f)&&(e=b[0].createElement("link"),e.rel="stylesheet",e.href=c,e.type="text/css",b[0].head.appendChild(e),s.linkCache.put(f,1),a(function(){d(f)}))})}function v(b,c){function d(d){if(d){var e=g.indexOf(d);e>-1&&g.splice(e,1)}0===g.length&&a(function(){c(b)})}if(m.indexOf(b)>-1)return c();var e=angular.module(b),g=i(e),h=i(e);return angular.forEach(h,function(a){if(q.push(a),f(a))return d(a);var b=o[a];return b?u(function(){},function(){},function(){v(a,function(a){d(a)})}):(r.warn("module ["+a+"] not loaded and not configured"),d(a)),null}),0===h.length&&d(),null}var w="module: "+n.id;if(o[n.id]=n,!n){var x="Module not configured";throw r.error(x),x}s.scriptCache.get(w)?a(function(){t(n.id)}):(u(function(a){r.debug("Loaded "+a)},function(a){r.debug("Loaded "+a)},function(){q.push(n.id),v(n.id,function(){angular.module(n.id).factory("appPackageService",k(n,a,c)),j(r,d,p,angular.copy(q)),s.scriptCache.put(w,n),a(function(){t(n.id)})})}),angular.forEach(n.views,function(a){var b=g(n.id)+g(a.id)+g(h(a.routeParams)),c=l(n.id,a.id,g(h(a.routeParams)));e.when(b,{redirectTo:c})}),n.notFoundView&&e.otherwise({redirectTo:g(n.notFoundView)}))}function v(){var a=t.section("epEmbeddedApps");return a&&angular.extend(n,a),n.path||(n.path="apps"),n}return n=v(),{settings:n,load:u,modules:o,getAppPath:l}}}]),angular.module("ep.embedded.apps").service("epEmbeddedAppsService",["$rootScope","$http","$q","$log","epUtilsService","epEmbeddedAppsProvider","epEmbeddedAppsConstants","epEmbeddedAppsShellService",function(a,b,c,d,e,f,g,h){function i(a){return j(a)}function j(a){var b=c.defer();return s=[],t=0,r.loadComplete?(a===!0&&p(),b.resolve(!0)):m(b),b.promise}function k(){var a={Success:!0,apps:f.settings.applications},b=c.defer();return b.resolve(a),b.promise}function l(){var a=f.settings.provider;if(a&&"sysconfig"!==a)try{var b=angular.element("html").injector().get(a);return b.getApps()}catch(c){d.warning("Custom embedded application provider not found or failed: "+a)}return k()}function m(a){l("config").then(function(c){try{c&&c.Success?(s=c.apps,s.forEach(function(c){var g=f.getAppPath(c,"AppPackage.json");b.get(g).then(function(b){var c=b.data;d.debug("Parsing AppPackage.config file: "+g),q[c.id]=c,d.debug("AppPackage name: "+c.name);var f=c.tileSize?c.tileSize.split("x"):["2","1"];if(f&&2===f.length)try{c.tileSize={width:parseInt(f[0]),height:parseInt(f[1])}}catch(h){d.warning("Invalid value in tileSize property: "+c.tileSize)}c.views=e.mapArray(c.views,"id"),c.initialized=!1,n(a)},function(b){n(a),d.debug("Failed retrieving AppPackage.config file: "+g),d.error("Failed retrieving AppPackage.config file."),d.error(b)})})):d.warn("Unable to load app package definition files.")}catch(g){d.error(g),a.reject(g)}})}function n(b){++t===s.length&&(a.$emit(g.CONFIG_LOADED_EVENT,{configs:q}),r.loadComplete=!0,b.resolve(!0))}function o(){return f.getAppPath(arguments)}function p(){h.setupShellConfigs(q)}var q={},r={appId:"",viewId:"",loaded:!1},s=[],t=0;return{initialize:i,state:r,loadConfigurations:j,configs:q,getAppPath:o,setupShellOnStartup:p}}]),angular.module("ep.feature.detection").service("epFeatureDetectionService",[function(){function a(){return void 0===m.browserIsMobile&&(m.browserIsMobile=function(b){if("undefined"!=typeof a.result)return a.result;var c=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4)))&&(c=!0),a.result=c,c}(navigator.userAgent||navigator.vendor||window.opera)),m.browserIsMobile}function b(){return void 0===m.supportsDragAndDrop&&(m.supportsDragAndDrop="draggable"in document.createElement("span")),m.supportsDragAndDrop}function c(){return m.animationEvent}function d(){return m.transitionEvent}function e(){return m}function f(){return m.touchEvents}function g(a,b,c,d){l="screen and (min-width: "+a+"px)",enquire.register(l,{match:b,unmatch:c,setup:d,deferSetup:!0})}function h(a){var b=a?"screen and (min-width: "+a+"px)":l;enquire.unregister(b)}function i(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a];return null}function j(){var a,b=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oanimationend",MSAnimation:"MSAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b.style[a])return c[a];return null}function k(){m.browserIsMobile=a(),m.supportsDragAndDrop=b(),m.transitionEvent=i(),m.animationEvent=j(),m.touchEvents="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;try{if(window.device&&window.cordova)m.platform={app:"Cordova",os:window.device.platform};else if(void 0!==window.require&&require("nw.gui")&&process)m.platform={app:"NWJS",os:process.platform};else{var c=navigator.userAgent,d=navigator.appName,e=""+parseFloat(navigator.appVersion),f=parseInt(navigator.appVersion,10),g=-1,h=-1,k=-1;-1!==(h=c.indexOf("Opera"))?(d="Opera",e=c.substring(h+6),-1!==(h=c.indexOf("Version"))&&(e=c.substring(h+8))):-1!==(h=c.indexOf("MSIE"))?(d="Microsoft Internet Explorer",e=c.substring(h+5)):-1!==(h=c.indexOf("Chrome"))?(d="Chrome",e=c.substring(h+7)):-1!==(h=c.indexOf("Safari"))?(d="Safari",e=c.substring(h+7),-1!==(h=c.indexOf("Version"))&&(e=c.substring(h+8))):-1!==(h=c.indexOf("Firefox"))?(d="Firefox",e=c.substring(h+8)):(g=c.lastIndexOf(" ")+1)<(h=c.lastIndexOf("/"))&&(d=c.substring(g,h),e=c.substring(h+1),d.toLowerCase()===d.toUpperCase()&&(d=navigator.appName)),-1!==(k=e.indexOf(";"))&&(e=e.substring(0,k)),-1!==(k=e.indexOf(" "))&&(e=e.substring(0,k)),f=parseInt(""+e,10),isNaN(f)&&(e=""+parseFloat(navigator.appVersion),f=parseInt(navigator.appVersion,10));var l="Unknown OS";-1!==navigator.appVersion.indexOf("Win")&&(l="Windows"),-1!==navigator.appVersion.indexOf("Mac")&&(l="MacOS"),-1!==navigator.appVersion.indexOf("X11")&&(l="UNIX"),-1!==navigator.appVersion.indexOf("Linux")&&(l="Linux"),m.platform={app:"Web",os:l,browser:{name:d,fullVersion:e,majorVersion:f,appName:navigator.appName,userAgent:navigator.userAgent}}}}catch(n){console.log(n.message)}}var l,m={browserIsMobile:void 0,supportsDragAndDrop:void 0,transitionEvent:null,touchEvents:!1,platform:{}};return k(),{browserIsMobile:a,supportsDragAndDrop:b,getAnimationEvent:c,getTransitionEvent:d,hasTouchEvents:f,getFeatures:e,registerMediaQuery:g,unregisterMediaQuery:h}}]),angular.module("ep.local.storage").provider("epLocalStorageConfig",function(){var a={settings:{},settingsID:"emfSettings"};this.$get=function(b){var c=b.section("epLocalStorage");return c&&angular.extend(a,c),a}}),angular.module("ep.local.storage").service("epLocalStorageService",["epLocalStorageConfig",function(a){function b(a,c,d){var e=_.first(c),f=_.rest(c);f.length?(a[e]=a[e]||{},b(a[e],f,d)):void 0===d?delete a[e]:a[e]=d}function c(a,b){var d=_.first(b),e=_.rest(b);return e.length?(a[d]=a[d]||{},c(a[d],e)):a[d]}function d(){localStorage.setItem(a.settingsID,JSON.stringify(j))}function e(e){if(e){var f=e.split("."),g=c(a.settings,f);b(j,f,g)}else localStorage.removeItem(a.settingsID),j=angular.extend({},a.settings);d()}function f(a){return a?c(j,a.split(".")):void 0}function g(){var b=localStorage.getItem(a.settingsID);b&&(j=JSON.parse(b))}function h(a,c){b(j,a.split("."),c),d()}function i(a,b){var c=f(a);return void 0===c&&(h(a,b),c=b),c}var j=angular.extend({},a.settings);return g(),{get:f,update:h,getOrAdd:i,clear:e}}]),angular.module("ep.login").controller("epLoginCtrl",["$scope","$stateParams","$state","tokenFactory",function(a,b,c,d){a.cancelPath=b.cancelPath||"home",a.user=d.getToken(),a.status="",a.$watch(function(a){return a.hasToken=d.hasToken(),d.hasToken()}),a.login=function(){return a.hasError=!1,a.status="",a.user&&a.user.hasOwnProperty("username")&&a.user.hasOwnProperty("password")&&a.user.username&&a.user.password?void d.login(a.user).success(function(){a.hasToken=!0,c.go("home")}).error(function(b,c,d,e){var f=void 0!==e&&null!==e?e.url:"";a.status="Login Failure at: "+f,a.hasError=!0}):(a.hasError=!0,void(a.status="Please fill required fields."))},a.logout=function(){d.logout(),a.user={},a.hasToken=!1}}]),angular.module("ep.login").directive("epLogin",function(){return{restrict:"E",controller:"epLoginCtrl",templateUrl:"src/components/ep.login/login.html"}}),angular.module("ep.modaldialog").directive("epmodaldialog",[function(){return{restrict:"E",templateUrl:"src/components/ep.modaldialog/modals/modaldialog-pane.html",replace:!0,compile:function(){return{pre:function(){},post:function(a){a.config=a.dialogState?a.dialogState.config:{}}}}}}]),angular.module("ep.modaldialog").service("epModalDialogService",["$modal","$compile","$rootScope","$timeout","$interval","$injector","epLocalStorageService",function(a,b,c,d,e,f,g){function h(a){var b={showProgress:!1,icon:"fa fa-info-circle fa-4x"};u(a,b),p(a,b),q(b)}function i(a){var b={showProgress:!1,icon:"fa  fa-question-circle fa-4x",buttons:[{text:"Yes",isDefault:!0,action:a?a.fnDefaultAction:null},{text:"No",isCancel:!0,action:a?a.fnCancelAction:null}]};u(a,b),p(a,b),q(b)}function j(a){var b={showProgress:!0,icon:"fa fa-clock-o fa-4x",buttons:[]};p(a,b),q(b)}function k(a,b){var c={templateUrl:"src/components/ep.modaldialog/modals/modaldialog-error.html",title:"Exception",icon:"",status:"error",statusClass:"alert-danger",statusIcon:"fa fa-3x fa-warning",message:"",messageDetails:"",buttons:[{id:"btnOk",text:"Ok",isDefault:!0,type:"primary",action:a?a.fnDefaultAction:null}]};if(b&&b instanceof Error&&(c.message=b.message,c.messageDetails=b.stack),a&&a.status){var d=a.status.toLowerCase();switch(d){case"warning":c.statusClass="alert-warning",c.statusIcon="fa fa-3x fa-warning";break;case"error":c.statusClass="alert-danger",c.statusIcon="fa fa-3x fa-warning";break;case"information":case"info":c.statusClass="alert-info",c.statusIcon="fa fa-3x fa-info"}}p(a,c),m(c)}function l(a){var b={templateUrl:"src/components/ep.modaldialog/modals/modaldialog-error.html",title:"",icon:"",status:"information",statusClass:"alert-info",statusIcon:"fa fa-3x fa-info",message:"",messageDetails:"",buttons:[{id:"btnOk",text:"Ok",isDefault:!0,type:"primary",action:a?a.fnDefaultAction:null}]};if(a&&a.status){var c=a.status.toLowerCase();switch(c){case"warning":b.statusClass="alert-warning",b.statusIcon="fa fa-3x fa-warning";break;case"error":b.statusClass="alert-danger",b.statusIcon="fa fa-3x fa-warning";break;case"information":case"info":b.statusClass="alert-info",b.statusIcon="fa fa-3x fa-info"}}p(a,b),m(b)}function m(b){var c=b;return n(),1!==t(c)?(c._isModalDialog=!0,r(c),a.open({size:"small"===c.size?"sm":"large"===c.size?"lg":"",backdrop:c.backdrop===!1?!1:c.backdrop||!1,templateUrl:"src/components/ep.modaldialog/modals/modaldialog-custom.html",controller:["$scope","$modalInstance",function(a,b){y=b,a.config=c,c.controller&&f.invoke(c.controller,y,{$scope:a,$modalInstance:b}),a.btnclick=function(c){var d=s(a.config,c);-1!==d&&(v(),c.isCancel?b.dismiss("cancel"):b.close(d?d:0))}}]})):void 0}function n(){v(),x.isVisible=!1,y&&(y.close(0),y=null)}function o(a){a?g.clear(z+a):g.clear(z.substr(0,z.length-1))}function p(a,b){a&&b&&angular.forEach(a,function(c,d){null!==a[d]&&(angular.isArray(a[d])?b[d]=a[d]:angular.isObject(a[d])?p(a[d],b[d]):b[d]=a[d])})}function q(a){v();var d={};return p(w,d),p(a,d),t(d)?void n():(x.isVisible=!0,angular.element("body .ep-modaldialog.ep-modaldialog-pane").length||(x.paneScope=c.$new(),x.paneScope.dialogState=x,x.paneScope.btnclick=function(a){n(),s(x.config,a)},angular.element(document.body).append(b("<epmodaldialog></epmodaldialog>")(x.paneScope))),d._isModalDialog=!1,r(d),x.config=d,void(x.paneScope&&(x.paneScope.config=d)))}function r(a){a.buttons&&a.buttons.length&&angular.forEach(a.buttons,function(b){b.type||(a._isModalDialog&&b.isDefault===!0?b.type="primary":a._isModalDialog&&b.isCancel===!0?b.type="warning":b.type="default")}),a.autoClose&&(a.messageHasTimer=a.message.indexOf("{timer}")>=0,a.titleHasTimer=a.title.indexOf("{timer}")>=0,x.autoClosePromise=d(function(){null!==x.autoClosePromise&&a.fnDefaultAction&&a.fnDefaultAction(),n()},1e3*a.autoClose),a.countDown=a.autoClose,(a.messageHasTimer||a.titleHasTimer||a.showTimer)&&(x.timerPromise=e(function(){a.countDown--,a.countDown<=0&&(e.cancel(x.timerPromise),x.timerPromise=null)},1e3,0)),a.spinnerTextClass=a.countDown<100?"ep-timer-large-font":"ep-timer-small-font"),a.showSpinner=a.showTimer||a.showProgress,a.showSpinner&&(a.spinnerIconClass=a.showTimer?"fa-circle-o-notch":"fa-spinner"),a.fnGetMessage=function(){if(a.messageHasTimer){var b=void 0!==a.countDown&&null!==a.countDown?a.countDown:"";return a.message.replace("{timer}",b)}return a.message},a.fnGetTitle=function(){if(a.titleHasTimer){var b=void 0!==a.countDown&&null!==a.countDown?a.countDown:"";return a.title.replace("{timer}",b)}return a.title}}function s(a,b){var c=0,d="";return b.action?(c=b.action(a,b),d=b.text):b.isDefault===!0&&a.fnDefaultAction?(c=a.fnDefaultAction(a,b),d="fnDefaultAction"):b.isCancel===!0&&a.fnCancelAction?(c=a.fnCancelAction(a,b),d="fnCancelAction"):a.fnButtonAction?(c=a.fnButtonAction(a,b),d=b.text):d=b.text,a.rememberMeValue&&a.dialogId&&d&&g.update(z+a.dialogId,d),
c}function t(a){if(a.rememberMeValue=!1,a.rememberMe&&!a.dialogId&&(a.rememberMe=!1),a.rememberMe&&a.dialogId&&g.get(z+a.dialogId)){var b=!1,c=g.get(z+a.dialogId);if("fnDefaultAction"===c&&a.fnDefaultAction)b=!0,a.fnDefaultAction(a);else if("fnCancelAction"===c&&a.fnCancelAction)b=!0,a.fnCancelAction(a);else{var d=null;angular.forEach(a.buttons,function(a){a.text===c&&(d=a)}),d&&(d.action?(b=!0,d.action(a,d)):d.fnButtonAction&&(b=!0,d.fnButtonAction(a,d)))}return b?1:-1}return 0}function u(a,b){if(a&&a.status){var c=a.status.toLowerCase();b.titleClass="warning"===c?"text-warning":"error"===c?"text-danger":"text-success",b.icon="warning"===c||"error"===c?"fa fa-4x fa-warning":"fa fa-4x fa-check"}}function v(){x.autoClosePromise&&(d.cancel(x.autoClosePromise),x.autoClosePromise=null),x.timerPromise&&(e.cancel(x.timerPromise),x.timerPromise=null)}var w={containerClass:"bg-primary",title:"Title",titleClass:"text-warning",message:"Message",messageClass:"",icon:"fa fa-info-circle fa-4x",iconClass:"",showProgress:!1,autoClose:0,fnDefaultAction:null,fnCancelAction:null,fnButtonAction:null,buttons:[{text:"Ok",isDefault:!0}]},x={isVisible:!1,config:{},timerPromise:null,autoClosePromise:null,paneScope:null};angular.copy(w,x.config);var y=null,z="emf.dialogs.dialogId.";return{showMessage:h,showConfirm:i,showProgress:j,showException:k,showMessageBox:l,showCustomDialog:m,hide:n,clearRememberMe:o}}]),angular.module("ep.multi.level.menu").controller("epMultiLevelMenuCtrl",["$scope","$location","$routeParams","$timeout","epMultiLevelMenuService",function(a,b,c,d,e){function f(){var b=[],c=a.state.searchTerm.toLowerCase(),d=a.state.searchType.toLowerCase();_.each(a.data.menu.levels,function(a){a.forEach(function(a){a&&a.type===d&&-1!==a.caption.toLowerCase().indexOf(c)&&b.push(a)})}),a.searchResults=b}function g(c){$(".mlm-content").addClass("ep-ease-animation"),"modules"!==c.id&&(a.menuId=c.id,a.data.next=c,a.state.slidingIn=a.data.current.depth<c.depth,a.state.slidingIn||(a.state.slidingOut=!0),"Menu"===c.type?b.url("/home/"+a.menuId):b.url("/dashboard/"+c.id+"/none?mode=grid"))}function h(a){e.toggleFavorite(a)}a.state={slidingIn:!1,slidingOut:!1,searchTerm:""},a.data=e.data,a.menuId=c.menuId,a.searchResults=[],a.navigate=g,a.toggleFavorite=h,a.search=f}]),angular.module("ep.multi.level.menu").directive("epMultiLevelMenu",["$timeout","epFeatureDetectionService","epMultiLevelMenuService",function(a,b,c){return{restrict:"E",replace:!0,controller:"epMultiLevelMenuCtrl",templateUrl:"src/components/ep.multi.level.menu/multi-level-menu.html",scope:!0,compile:function(){return{pre:function(){},post:function(d){a(function(){var e=b.getTransitionEvent();e&&$(".mlm-content-current").on(e,function(){$(".mlm-content").removeClass("ep-ease-animation"),d.state.slidingOut=d.state.slidingIn=!1,c.setCurrentMenuParent(d.data.next),d.data.next=null,a(function(){d.$apply()})})},500),d.menuId&&c.data.menu&&c.setCurrentMenuParentById(d.menuId)}}}}}]),angular.module("ep.multi.level.menu").service("epMultiLevelMenuService",["epLocalStorageService","tokenFactory",function(a,b){function c(a){function b(d){_.each(d.children,function(d){a(d)&&c.push(d),b(d)})}var c=[];return b(m.menu.levels.root[0]),c}function d(a){a&&(m.menu=angular.extend({},a)),m.menu&&(n.buildTree("root"),m.favorites=k())}function e(a){a&&(m.current=a)}function f(a){var b=g(a);b&&e(b)}function g(a,b){var c;if(!b)for(var d=0;d<m.menu.levels.root.length;d++)if(c=g(a,m.menu.levels.root[d]))return c;for(var e=0;e<b.children.length;e++){var f=b.children[e];if(c=f.id===a?f:g(a,f))return c}return null}function h(){return i(),d()}function i(){m.menu=null,m.favorites=null,m.current=null,l()}function j(c){c.favorite=!c.favorite,a.update(b.getToken()+"."+c.id+".favorite",c.favorite),m.favorites=k()}function k(){var d=c(function(a){return!!a.favorite}),e=b.getToken(),f=a.get(e)||{};return _.each(f,function(a){a.favorite&&d.push(a)}),d}function l(){m.favorites=null}var m={menu:null,current:{}},n=function(){function c(f){var g=m.menu.levels[f],h="user."+b.getToken(),i=a.get(h)?a.get(h+".dashboard")||{}:{};_.each(g,function(a){a.children=m.menu.levels[a.id]||[],a.favorite=i[a.id]?!!i[a.id].favorite:!1,a.parent=d,a.depth=e,d=a,e++,c(a.id),e--,d=a.parent})}var d=null,e=0;return{buildTree:c}}();return{data:m,populate:d,resetCache:h,clearFavorites:l,setCurrentMenuParent:e,setCurrentMenuParentById:f,findMenuItemById:g,toggleFavorite:j,clear:i}}]),angular.module("ep.odata").factory("odataQueryFactory",function(){function a(a,b){var c="";if("string"==typeof a&&(c=a,a=null),a&&a.constructor.toString().indexOf("Array")>1){var d;for(d=0;d<a.length;d++)c+=(""===c?"":",")+a[d];a=null}if(a)for(var e in a)a.hasOwnProperty(e)&&(c+=(""===c?"":",")+e,b&&a[e]&&(c+=" desc"));return c}function b(a){return"string"==typeof a&&(k.type=a),this}function c(a){return isNaN(a)||parseInt(Number(a))!==a||(k.$top=a),this}function d(a){return isNaN(a)||parseInt(Number(a))!==a||(k.$skip=a),this}function e(b){var c=a(b,!0);return""!==c&&(k.$orderby=c),this}function f(b){var c=a(b);return""!==c&&(k.$select=c),this}function g(b){var c=a(b);return""!==c&&(k.$expand=c),this}function h(a){if(a)for(var b in a)a.hasOwnProperty(b)&&a[b]&&(k.$filter=(k&&k.$filter?k.$filter+" and ":"")+b+" eq '"+a[b]+"'");return this}function i(a,b,c,d){var e={">":"gt",">=":"ge","<":"lt","<=":"le","=":"eq","==":"eq","!=":"ne","<>":"ne"};b=e[b]||b;var f="",g=d&&"or"in d&&d.or?" or ":" and ",h=isNaN(c)?"'":"";if(null!==a&&void 0!==a&&null!==c&&void 0!==c){switch(b){case"math":if(!(d&&"mathOperand"in d&&"mathFunction"in d&&"mathCompareOp"in d))throw"Malformed math operation; params object must contain mathOperand, mathFunction, and mathCompareOp properties";if(isNaN(c)||isNaN(d.mathOperand))throw"The second argument and mathOperand for math functions needs to be a number";b=e[d.mathCompareOp]||d.mathCompareOp,a=a+" "+d.mathFunction+" "+d.mathOperand;break;case"endswith":case"startswith":a=b+"("+a+",'"+c+"')",b="eq",c="true",h="",f=d&&"not"in d&&d.not?"not ":"";break;case"contains":a="indexof("+a+",'"+c+"')",b=d&&"not"in d&&d.not?"lt ":"ge",c="0",h="";break;case"day":case"month":case"year":case"second":case"minute":case"hour":if(isNaN(c)&&parseInt(Number(c))!==c)throw"The second argument for date/time functions needs to be an integer";a=b+"("+a+")",b="eq"}k.$filter=(k&&k.$filter?k.$filter+g:"")+f+a+" "+b+" "+h+c+h}return this}function j(){var a=$.extend({},k);return k={},a}var k={};return{setType:b,setTop:c,setSkip:d,setOrderBy:e,setSelect:f,setExpands:g,setFilter:h,setWhere:i,compose:j}}),angular.module("ep.search").provider("searchConfig",function(){var a={searchUri:"https://localhost/EES/EpicorERP/search.xml"};this.$get=function(b){var c=b.section("epSearchConfig");return c&&angular.extend(a,c),a}}),angular.module("ep.search").controller("epSearchCtrl",["$scope","searchService",searchController]),angular.module("ep.search").directive("epSearch",function(){return{restrict:"E",replace:!0,controller:"epSearchCtrl",templateUrl:"src/components/ep.search/search.html"}}),angular.module("ep.search").factory("searchService",["$http","searchConfig",function(a,b){function c(a,b,c){return d(a,b,c).then(function(a){return e(a)},function(){})}function d(c,d,e){var f=b.searchUri+"?locale="+(navigator.language?navigator.language:navigator.userLanguage)+"&preservenulls="+!1+"&likeLinkFormat=EWAUrl&callback=JSON_CALLBACK",g=(new Date).valueOf(),h="&q="+c+"&start="+d+"&cache="+g.toString()+"&pageSize="+e;return a.get(f+h)}function e(a){var b={};if(a&&a.hasOwnProperty("data")){var c=a.data,d=$.parseXML(c),e=$(d);e.find("[primaryTable]").each(function(){var a=[];$(this).find("[companyName]").each(function(){var b={location:this.getAttribute("location")||"",label:this.getAttribute("label")||"",companyContext:this.getAttribute("companyName"),keyTag:this.getAttribute("keyTag"),fields:[]};$("*",this).each(function(a,c){for(var d={},e=0,f=c.attributes.length;f>e;e++)d[c.attributes[e].nodeName]=c.attributes[e].nodeValue;d.FieldName=c.nodeName,d.FieldValue=c.textContent,b.fields.push(d)}),a.push(b)}),b[this.nodeName]={label:this.getAttribute("label"),primaryTable:this.getAttribute("primaryTable"),results:a}})}return b}return{search:c}}]),angular.module("ep.shell").service("epShellFeedbackService",["epModalDialogService",function(a){function b(){var b={strings:{FeedbackResponse:"We appreciate your feedback! We review these items regularly to help us improve the product.",FeedbackTitle:"Thank You!"}};a.showMessageBox({message:b.strings.FeedbackResponse,title:b.strings.FeedbackTitle,status:"info"})}function c(c){var d={summary:"",description:"",customerName:"",customerEmail:""};a.showCustomDialog({title:"Submit Feedback",templateUrl:"src/components/ep.shell/feedback/feedback_dialog.html",icon:"fa fa-bullhorn fa-2x",feedback:d,summaryLabel:"Summary",descriptionLabel:"Description",customerNameLabel:"Customer Name",customerEmailLabel:"Customer Email",buttons:[{id:"btnSubmit",isPrimary:!0,text:"Submit",action:function(){if(c){var a=c(d);a.then?a.then(function(a){a.Success&&b()}):b()}}},{id:"btnCancel",isCancel:!0,text:"Cancel"}]})}return{showForm:c}}]),angular.module("ep.shell").constant("epShellConstants",{SIDEBARWIDTH:250,NAVBARHEIGHT:40,FOOTERHEIGHT:25,MEDIA_MODE_LARGE:"large",MEDIA_MODE_SMALL:"small",MEDIA_SIZE_BREAKPOINT:800}),angular.module("ep.shell").controller("epShellCtrl",["$location","$rootScope","$scope","epShellService","epLocalStorageService","epShellFeedbackService",function(a,b,c,d,e,f){function g(){c.state=d.__state,c.toggleLeftSidebar=function(){d.toggleLeftSidebar()},c.toggleRightSidebar=function(){d.toggleRightSidebar()},c.navButtons=d.getNavbarButtons(),b.$on("navbarButtonsChanged",function(){c.navButtons=d.getNavbarButtons()}),b.$on("$routeChangeStart",function(){d.clearInfo(),d.cleanupViewEvents()}),c.launchHelp=function(){a.url("/help")},c.sendFeedback=function(){f.showForm(c.state.fnOnFeedback)}}try{b.$watch("initComplete",function(a){a&&g()})}catch(h){console.log(h)}}]),angular.module("ep.shell").directive("epShell",[function(){return{restrict:"E,A",replace:!0,transclude:!0,templateUrl:"src/components/ep.shell/shell.html"}}]),angular.module("ep.shell").provider("epShellConfig",["$routeProvider",function(a){var b=a,c={options:{pageTitle:"Epicor Mobile",brandHTML:"Epicor Mobile Framework <sup>2.0</sup>",defaultTheme:"flatly",disableTheming:!1,enableFeedback:!0},routes:[]};this.$get=function(a){var d=a.section("epShellConfig");return d&&angular.extend(c,d),angular.forEach(c.routes,function(a){b.when(a.route,{templateUrl:a.url,controller:a.controller,reloadOnSearch:void 0===a.reloadOnSearch?!0:a.reloadOnSearch}),a.isDefault===!0&&b.otherwise({redirectTo:a.route})}),c.options.includeEmbeddedApps&&b.when("/app/:appId/:viewId",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),c}}]),angular.module("ep.shell").service("epShellService",["$q","$rootScope","$timeout","$sce","$document","epFeatureDetectionService","epSidebarService","epThemeService","epShellConfig","epShellConstants",function(a,b,c,d,e,f,g,h,i,j){function k(){function a(){P("size")}f.registerMediaQuery(j.MEDIA_SIZE_BREAKPOINT,function(){Ia.mediaMode=j.MEDIA_MODE_LARGE,O("setMediaMode")},function(){Ia.mediaMode=j.MEDIA_MODE_SMALL,O("setMediaMode")});var d=_.debounce(a,100);angular.element(window).on("resize",d),c(a,100),b.$on("$routeChangeSuccess",a),B(i.options.pageTitle),F(i.options.brandHTML),void 0!==i.options.enableFeedback&&(Ia.feedbackEnabled=i.options.enableFeedback),l()}function l(){Ia.disableTheming=i.options.disableTheming,Ia.disableTheming!==!0&&(Ma=!0,i.options.defaultTheme?h.theme(i.options.defaultTheme):h.theme(),Ia.currentTheme=h.getThemeWithFullPath(),b.$on("epThemeChangedEvent",function(){Ia.currentTheme=h.getThemeWithFullPath()}))}function m(){var a=Ia.viewSettings[Ia.mediaMode];Ia.autohideSidebar=a.autohideSidebar!==!1,Ia.showLeftToggleButton=a.enableLeftSidebar,Ia.enableLeftSidebar=a.enableLeftSidebar,Ia.showRightToggleButton=a.enableRightSidebar,Ia.enableRightSidebar=a.enableRightSidebar,Ia.showNavbar=a.showNavbar,Ia.showFooter=a.showFooter,Ia.showHomeButton=a.showHomeButton,Ia.showBrand=a.showBrand,a.enableLeftSidebar&&(v()||Ia.suspend)?X():Y(),ea(!1),Ia.allowVerticalScroll=!!a.allowVerticalScroll,Ia.animateViewContainer=a.animateViewContainer!==!1,Ia.momentumScrollingEnabled=a.momentumScrollingEnabled!==!1,O()}function n(a){return void 0!==a&&(Ia.viewSettings=a),Ia.viewSettings}function o(){window.addEventListener("load",function(){FastClick.attach(document.body)},!1);var a=$(window).width();Ia.mediaMode=a>=j.MEDIA_SIZE_BREAKPOINT?j.MEDIA_MODE_LARGE:j.MEDIA_MODE_SMALL,Ia.showSidebar=v(),b.initComplete=!0}function p(){return Ja={pageTitle:C(),brandHTML:G(),navbarButtons:angular.extend([],Ka)}}function q(a){var b=a?a:Ja;b&&b!=={}&&(b.navbarButtons&&ua(b.navbarButtons),b.pageTitle&&B(b.pageTitle),b.brandHTML&&F(b.brandHTML))}function r(){Ia.showProgressIndicator=!0,Ia.progressIndicatorlevel++}function s(a){Ia.progressIndicatorlevel--,Ia.progressIndicatorlevel=Math.max(Ia.progressIndicatorlevel,0),0===Ia.progressIndicatorlevel&&(a?Ia.showProgressIndicator=!1:c(function(){Ia.showProgressIndicator=!1}))}function t(){Ia.progressIndicatorlevel=0,s(!0)}function u(){return Ia.mediaMode}function v(){return Ia.mediaMode===j.MEDIA_MODE_LARGE}function w(a){return void 0!==a&&(Ia.disableTheming=!!a,Ia.disableTheming===!1&&(Ma?Ia.currentTheme=h.getThemeWithFullPath():l())),Ia.disableTheming}function x(a,c,d){La[a]&&La[a](),La[a]=b.$on(c,d)}function y(){_.each(La,function(a){a()}),La={}}function z(a,b){Ia.infoIcon=a,Ia.infoMessage=b}function A(){Ia.infoIcon="",Ia.infoMessage=""}function B(a){Ia.pageTitle=a,e[0].title=Ia.pageTitle}function C(){return Ia.pageTitle}function D(){Ia.showBrand=!Ia.showBrand,Ia.viewSettings[Ia.mediaMode].showBrand=Ia.showBrand}function E(a){Ia.showBrand=void 0===a?!0:a,Ia.viewSettings[Ia.mediaMode].showBrand=Ia.showBrand}function F(a){Ia.brandHTML=angular.isString(a)?d.trustAsHtml(a):a}function G(){return Ia.brandHTML}function H(a){Ka=_.sortBy(Ka,function(a){return a.index}),b.$emit("navbarButtonsChanged",a),c(function(){b.$apply()})}function I(){Ia.suspend=!0}function J(){Ia.suspend=!1}function K(a){return void 0!==a&&(Ia.fnOnFeedback=a),Ia.fnOnFeedback}function L(){Ia.feedbackEnabled=!0}function M(){Ia.feedbackEnabled=!1}function N(){Ia.feedbackEnabled=!Ia.feedbackEnabled}function O(a){b.$emit("shellStateChanged",a)}function P(a){c(function(){b.$emit("shellSizeChanged",a)},310)}function Q(){Ia.showHomeButton&&(Ia.showHomeButton=!1,H("hideHomeButton"))}function R(){Ia.showHomeButton||(Ia.showHomeButton=!0,H("showHomeButton"))}function S(){Ia.showLeftToggleButton&&(Ia.showLeftToggleButton=!1,H("hideLeftToggleButton"))}function T(){Ia.showLeftToggleButton||(Ia.showLeftToggleButton=!0,H("showLeftToggleButton"))}function U(){Ia.showRightToggleButton&&(Ia.showRightToggleButton=!1,H("hideRightToggleButton"))}function V(){Ia.showRightToggleButton||(Ia.showRightToggleButton=!0,H("showRightToggleButton"))}function W(){Ia.showLeftSidebar=!Ia.showLeftSidebar,Ia.viewSettings[Ia.mediaMode].showLeftSidebar=Ia.showLeftSidebar,P(Ia.showLeftSidebar?"showLeftSidebar":"hideLeftSidebar")}function X(){Ia.showLeftSidebar||(Ia.showLeftSidebar=!0,Ia.viewSettings[Ia.mediaMode].showLeftSidebar=!0,P("showLeftSidebar"))}function Y(){Ia.showLeftSidebar&&(Ia.showLeftSidebar=!1,Ia.viewSettings[Ia.mediaMode].showLeftSidebar=!1,P("hideLeftSidebar"))}function Z(){Ia.enableLeftSidebar&&(Ia.enableLeftSidebar=!1,Ia.viewSettings.large.enableLeftSidebar=!1,Ia.viewSettings.small.enableLeftSidebar=!1,Y(),S(),O("disableLeftSidebar"))}function aa(){Ia.enableLeftSidebar||(Ia.enableLeftSidebar=!0,Ia.viewSettings.large.enableLeftSidebar=!0,Ia.viewSettings.small.enableLeftSidebar=!0,v()&&X(),T(),O("enableLeftSidebar"))}function ba(){g.clearLeftSidebar()}function ca(){Ia.showRightSidebar=!Ia.showRightSidebar,Ia.viewSettings[Ia.mediaMode].showRightSidebar=Ia.showRightSidebar,P(Ia.showRightSidebar?"showRightSidebar":"hideRightSidebar")}function da(){Ia.showRightSidebar||(Ia.showRightSidebar=!0,Ia.viewSettings[Ia.mediaMode].showRightSidebar=!0,O("showRightSidebar"))}function ea(){Ia.showRightSidebar&&(Ia.showRightSidebar=!1,Ia.viewSettings[Ia.mediaMode].showRightSidebar=!1,O("hideRightSidebar"))}function fa(){Ia.enableRightSidebar&&(Ia.enableRightSidebar=!1,Ia.viewSettings.large.enableRightSidebar=!1,Ia.viewSettings.small.enableRightSidebar=!1,ea(),U(),O("disableRightSidebar"))}function ga(){Ia.enableRightSidebar||(Ia.enableRightSidebar=!0,Ia.viewSettings.large.enableRightSidebar=!0,Ia.viewSettings.small.enableRightSidebar=!0,V(),O("enableRightSidebar"))}function ha(){g.clearRightSidebar()}function ia(){return Ia.showLeftSidebar}function ja(){return Ia.showRightSidebar}function ka(a){g.setLeftTemplate(a)}function la(a){g.setRightTemplate(a)}function ma(){Ia.showNavbar&&(Ia.showNavbar=!1,O("hideNavbar"))}function na(){Ia.showNavbar||(Ia.showNavbar=!0,O("showNavbar"))}function oa(){Ia.showNavbar?(Ia.showNavbar=!1,O("hideNavbar")):(Ia.showNavbar=!0,O("showNavbar"))}function pa(){Ia.showFooter&&(Ia.showFooter=!1,O("hideFooter"))}function qa(){Ia.showFooter||(Ia.showFooter=!0,O("showFooter"))}function ra(){Ia.showFooter?(Ia.showFooter=!1,O("hideFooter")):(Ia.showFooter=!0,O("showFooter"))}function sa(a,b,c){var d=!1;void 0!==a&&_.each(a,function(a){var b=_.findIndex(Ka,function(b){return b.id===a});-1!==b&&c(Ka[b],b)&&(d=!0)}),d&&H(b)}function ta(){Ka=[],H("clearNavbarButtons")}function ua(a){Ka=[],va(a),H("updateNavbarButtons")}function va(a){var b=_.union(Ka,a);_.each(b,function(a){a.type||(a.type="button")}),Ka=_.uniq(b,!1,function(a){return a.id||a.title}),H("addNavbarButtons")}function wa(){var a=_.flatten(arguments,!0);sa(a,"deleteNavbarButton",function(a,b){return Ka.splice(b,1),!0})}function xa(){return Ka}function ya(a){return _.find(Ka,function(b){return b.id===a})}function za(){var a=_.flatten(arguments,!0);sa(a,"hideNavbarButton",function(a){return a.hidden=!0,!0})}function Aa(){var a=_.flatten(arguments,!0);sa(a,"showNavbarButton",function(a){return a.hidden=a.enabled?!a.enabled():!1,!0})}function Ba(){_.each(Ka,function(a){za(a.id)}),H("hideNavbarButton")}function Ca(){_.each(Ka,function(a){Aa(a.id)}),H("hideNavbarButton")}function Da(a){Ia.freezeNavButtons=a}function Ea(){return Ia.navButtonClicked}function Fa(a){return void 0!==a&&(Ia.momentumScrollingEnabled=a),Ia.momentumScrollingEnabled}function Ga(a){return void 0!==a&&(Ia.allowVerticalScroll=a),Ia.allowVerticalScroll}function Ha(){return Ia.viewDimensions}var Ia={showProgressIndicator:!1,progressIndicatorlevel:0,feedbackEnabled:!0,fnOnFeedback:void 0,suspend:!1,disableTheming:!1,includeThemeFile:!0,currentTheme:null,showBrand:!0,brandHTML:"Mobile Access <sup>2.0</sup>",freezeNavButtons:!1,viewSettings:{sidebar:{},small:{animateViewContainer:!0,showLeftSidebar:!1,enableLeftSidebar:!0,autohideSidebar:!1,showLeftToggleButton:!1,showRightToggleButton:!1,showNavbar:!1,showFooter:!1,showHomeButton:!1,showBrand:!1},large:{animateViewContainer:!0,showLeftSidebar:!1,enableLeftSidebar:!0,autohideSidebar:!1,showLeftToggleButton:!1,showRightToggleButton:!1,showNavbar:!1,showFooter:!1,showHomeButton:!1,showBrand:!1}},pageTitle:"",colorScheme:{},mediaMode:j.MEDIA_MODE_SMALL,date:{weekday:"Tuesday",month:"October",day:21},viewDimensions:{offset:{top:0,left:0},size:{width:0,height:0}},infoMessage:"",infoIcon:"fa fa-3x fa-warning",executeButton:function(a){Ia.navButtonClicked=null,a.confirm?a.confirm(a.action):Ia.freezeNavButtons!==!0&&a.action()},buttonMouseDown:function(a){Ia.navButtonClicked=a},momentumScrollingEnabled:!0,allowVerticalScroll:!0,navButtonClicked:null},Ja={},Ka=[],La={},Ma=!1;return k(),{__state:Ia,__setCurrentModeFlags:m,__viewSettings:n,init:o,saveState:p,restoreState:q,showProgressIndicator:r,hideProgressIndicator:s,resetProgressIndicator:t,registerViewEvent:x,cleanupViewEvents:y,notifyStateChanged:O,notifyShellButtonsChanged:H,notifySizeChanged:P,setPageTitle:B,getPageTitle:C,toggleBrand:D,showBrand:E,setBrandHTML:F,getBrandHTML:G,setInfo:z,clearInfo:A,suspend:I,resume:J,getMediaMode:u,isMediaModeLarge:v,getViewDimensions:Ha,momentumScrollingEnabled:Fa,allowVerticalScroll:Ga,themingDisabled:w,enableFeedback:L,disableFeedback:M,feedbackCallback:K,toggleFeedback:N,showHomeButton:R,hideHomeButton:Q,hideLeftToggleButton:S,showLeftToggleButton:T,hideRightToggleButton:U,showRightToggleButton:V,toggleLeftSidebar:W,showLeftSidebar:X,hideLeftSidebar:Y,disableLeftSidebar:Z,enableLeftSidebar:aa,clearLeftSidebar:ba,toggleRightSidebar:ca,showRightSidebar:da,hideRightSidebar:ea,enableRightSidebar:ga,disableRightSidebar:fa,clearRightSidebar:ha,getShowLeftSidebar:ia,getShowRightSidebar:ja,setLeftTemplate:ka,setRightTemplate:la,showNavbar:na,hideNavbar:ma,toggleNavbar:oa,showFooter:qa,hideFooter:pa,toggleFooter:ra,clearNavbarButtons:ta,updateNavbarButtons:ua,addNavbarButtons:va,deleteNavbarButton:wa,getNavbarButtons:xa,getNavbarButton:ya,showNavbarButton:Aa,hideNavbarButton:za,showAllNavbarButtons:Ca,hideAllNavbarButtons:Ba,disableNavbarButtons:Da,navbarButtonClicked:Ea}}]),angular.module("ep.shell").directive("epShellSidebar",["$location","$rootScope","$routeParams","epSidebarService","epShellService","epShellConstants","epFeatureDetectionService",function(a,b,c,d,e,f,g){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"src/components/ep.shell/sidebar/sidebar.html",controller:function(a){function h(){a.platform=g.getFeatures().platform,a.shellState=e.__state,a.sidebarState=d.state,$("body").removeClass("cordova-padding"),"Cordova"===a.platform.app&&"mac"===a.platform.os&&$("body").addClass("cordova-padding"),a.menuId=c.menuId,a.dismissRightSidebar=function(){a.shellState.suspend||e.hideRightSidebar()},a.dismissLeftSidebar=function(){e.getMediaMode()!==f.MEDIA_MODE_SMALL||a.shellState.suspend||e.hideLeftSidebar()},a.dismissSidebars=function(){a.dismissRightSidebar(),a.dismissLeftSidebar()}}b.$watch("initComplete",function(a){a&&h()})}}}]),angular.module("ep.shell").service("epSidebarService",["$compile",function(a){function b(){angular.element("#leftSidebar").empty()}function c(){angular.element("#rightSidebar").empty()}function d(){b(),c()}function e(a){k=a}function f(a){h("<div ng-include='\""+a+"\"'></div>")}function g(a){i("<div ng-include='\""+a+"\"'></div>")}function h(b){l.leftTemplate=b;var c=angular.element("#leftSidebar");c.empty().append(a(b)(k))}function i(b){l.rightTemplate=b;var c=angular.element("#rightSidebar");c.empty().append(a(b)(k))}function j(a){a&&(l.shouldShowMessage=!0),l.message=a}var k=null,l={shouldShowMessage:!1,message:null,leftTemplate:null,rightTemplate:null,leftTemplateUrl:null,rightTemplateUrl:null};return{clear:d,clearLeftSidebar:b,clearRightSidebar:c,state:l,showMessage:j,setScope:e,setLeftTemplateUrl:f,setRightTemplateUrl:g,setLeftTemplate:h,setRightTemplate:i}}]),function(){angular.module("ep.shell").directive("epShellViewContainer",function(a,b,c,d){function e(a,b){a.left&&(a.left.template?c.setLeftTemplate(a.left.template,b):a.left.templateUrl&&c.setLeftTemplateUrl(a.left.templateUrl,b)),a.right&&(a.right.template?c.setRightTemplate(a.right.template,b):a.right.templateUrl&&c.setRightTemplateUrl(a.right.templateUrl,b))}return{restrict:"E",transclude:!0,replace:!1,templateUrl:"src/components/ep.shell/viewcontainer/viewcontainer.html",scope:{sidebarsettings:"@",smallmodesettings:"@",largemodesettings:"@"},compile:function(){var f="";return{pre:function(g){var h=b.__state;g.state=h,f=b.getMediaMode(),c.setScope(g);var i={sidebar:g.sidebarsettings?JSON.parse(g.sidebarsettings):{},small:g.smallmodesettings?JSON.parse(g.smallmodesettings):{},large:g.largemodesettings?JSON.parse(g.largemodesettings):{}};i=b.__viewSettings(i),i[f]&&b.__setCurrentModeFlags(),i.sidebar&&e(i.sidebar,g),d.state.cleanup&&d.state.cleanup(),d.state.cleanup=a.$on("shellStateChanged",function(){f!==b.getMediaMode()&&(f=b.getMediaMode(),i[f]&&b.__setCurrentModeFlags(),i.sidebar&&e(i.sidebar,g),g.$apply())})},post:function(){}}}}})}(),angular.module("ep.shell").service("epViewContainerService",["$rootScope","$timeout","epShellService","epShellConstants",function(a,b,c,d){function e(b){var e=c.__state,f=$(window),g={top:e.showNavbar?d.NAVBARHEIGHT:0,left:e.showLeftSidebar&&c.isMediaModeLarge()?d.SIDEBARWIDTH:0},h={offset:g,size:{width:f.width()-g.left,height:f.height()-g.top-(e.showFooter?d.FOOTERHEIGHT:0)}},i=e.viewDimensions,j=i.size.width!==h.size.width||i.size.height!==h.size.height||i.offset.top!==h.offset.top||i.offset.left!==h.offset.left;e.viewDimensions=h,j&&a.$emit("viewSizeChanged",h,b)}var f={cleanup:null};return a.$on("shellSizeChanged",function(){e("size")}),{state:f,calculateDimensions:e}}]),angular.module("ep.sysconfig").provider("epSysConfig",function(){var a,b={};this.$get=function(c){function d(a){return b.hasOwnProperty(a)?b[a]:void 0}var e=$.ajax({type:"GET",url:"sysconfig.json",cache:!1,async:!1,contentType:"application/json"});if(a=e.status,200===e.status)try{b=angular.fromJson(e.responseText)}catch(f){c.warning("Error parsing sysconfig: "+f.message)}return{sysconfig:b,section:d}}}),angular.module("ep.theme").provider("epThemeConfig",function(){var a={defaultPath:"",themes:[{name:"bootstrap",cssFilename:"bootstrap.min.css"},{name:"flatly",cssFilename:"flatly.min.css"}],theme:{name:"bootstrap",cssFilename:"bootstrap.min.css"}};this.$get=function(b){var c=b.section("epThemeConfig");return c&&angular.extend(a,c),a}}),angular.module("ep.theme").service("epThemeService",["$rootScope","epThemeConfig","epLocalStorageService",function(a,b,c){function d(){return b.themes}function e(a){return _.find(d(),function(b){return b.name===a})}function f(b){return b&&(i=_.find(d(),function(a){return a.name===b}),i||(i=_.find(d(),function(a){return"bootstrap"===a.name})),a.$emit("epThemeChangedEvent",i),c.update(h,i)),i}function g(a){var c=a?_.find(d(),function(b){return b.name===a}):i,e=b.defaultPath;if(c&&e&&c.cssFilename){var f=angular.extend({},c);return e=e.trim(),e.lastIndexOf("/")===e.length-1&&(e=e.substr(0,e.length-1)),f.cssFilename=e+"/"+f.cssFilename,f}return c}var h="currentTheme",i=c.getOrAdd(h,b.theme);return{getThemes:d,getTheme:e,theme:f,getThemeWithFullPath:g}}]),angular.module("ep.token").provider("tokenConfig",function(){var a={restUri:"https://localhost/ICE3/TokenResource.svc/",tokenId:"epicor.token.auth"};this.$get=function(b){var c=b.section("epTokenConfig");return c&&angular.extend(a,c),a}}),angular.module("ep.token").factory("tokenFactory",["$cookieStore","$http","tokenConfig","utilsConfig","$q",function(a,b,c,d,e){function f(b){return d.debug&&"manager"===b.username&&"Epicor123"===b.password?l(b):j(b).success(function(d){k(d),a.put(c.tokenId,b)}).error(function(){})}function g(){a.remove(c.tokenId)}function h(){return a.get(c.tokenId)}function i(){var a=h();return void 0!==a&&!angular.equals({},a)}function j(a){return b.defaults.headers.post=a,b.post(c.restUri,{})}function k(b){b&&b.hasOwnProperty("bearer")&&a.put(c.tokenId,b)}function l(a){var b=e.defer(),c=b.promise;return c.success=function(a){return c.then(a),c},c.error=function(a){return c.then(null,a),c},k({username:a.username,bearer:"mySampleTokenDataValue"}),b.resolve(""),c}return{login:f,logout:g,getToken:h,hasToken:i}}]),angular.module("ep.utils").provider("utilsConfig",function(){var a={debug:!1};this.$get=function(b){var c=b.section("epUtilsConfig");return c&&angular.extend(a,c),a}}),angular.module("ep.utils").service("epUtilsService",[function(){function a(a){if(!a||arguments.length<1)return"";var b=a;if(arguments.length>1){var c=arguments;b=b.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),d=null;return b+1<c.length&&(d=c[b+1]),d})}return b}function b(a,b){var c={};return a.forEach(function(a){var d,e;if(angular.isString(b))e=a[b];else{if(!angular.isFunction(b))throw new Error("mapArray called with an invalid idAccessor.");e=b(a)}d=angular.isFunction(e)?e():e,c[d]=a}),c}function c(a,b){a&&b&&angular.forEach(a,function(d,e){null!==a[e]&&(angular.isArray(a[e])?b[e]=a[e]:angular.isObject(a[e])?(angular.isObject(b[e])||(b[e]={}),c(a[e],b[e])):b[e]=a[e])})}function d(a){var b="",c=angular.isObject(a)&&a.length?a:arguments;return c&&1===c.length&&angular.isObject(c[0])&&0===c[0].length?b:(angular.forEach(c,function(a){b+="/"+a}),b)}return{strFormat:a,mapArray:b,copyProperties:c,makePath:d}}]),angular.module("ep.templates").run(["$templateCache",function(a){a.put("src/components/ep.action.set/action-menu/action-menu.html",'<div id=ep-actions-menu-ctr ng-show=actionMenuCtrl.actions><ul class="dropdown-menu ep-actions-menu list-unstyled noselect" role=menu><li ng-repeat="action in actionMenuCtrl.actions" ng-if="!action.switch || action.switch(action.switchParams) == action.switchResult" ng-switch=action.type ng-class="{\'hidden\': action.switch != null && action.switch == false}"><a ng-switch-when=action class=ep-actions-menu-item ng-click="actionMenuCtrl.invokeAction($event, action)"><span class="icon {{action.icon}}"></span><span>{{::action.title}}</span></a><div ng-switch-when=separator class=ep-actions-menu-item-separator></div></li><li class=ep-actions-menu-item-mobile><a class="ep-actions-menu-item edd-red separate" ng-click=actionMenuCtrl.close()><span class="icon icon-clear"></span><span>Close</span></a></li></ul></div>'),a.put("src/components/ep.embedded.apps/embedded-apps.html","<div id=appHost><div id=splash ng-show=showSplash ema-animation options=appConfig.splash.transition><div id=splashContainer ng-include=\"'apps/' + appConfig.id + '/' + appConfig.splash.templateUrl\"></div></div><div id=appContent ng-show=showApp ema-animation options=currentView.transition><ep-embedded-apps-loader config=appConfig on-complete=onLoaderComplete()></ep-embedded-apps-loader></div></div>"),a.put("src/components/ep.login/login.html",'<div class=thumbnail><div class=caption><h3 ng-hide=hasToken><span class="icon icon-enter"></span> Login</h3><h3 ng-show=hasToken><span class="icon icon-exit"></span> Logout</h3><hr></div><form role=form><div class=form-group><label for=user-name class="col-sm-2 control-label">User:</label><div><input class=form-control id=user-name value={{::user.username}} ng-model=user.username placeholder=username required></div></div><div class=form-group><label for=user-password class="col-sm-2 control-label">Password:</label><div><input type=password class=form-control id=user-password value={{::user.password}} ng-model=user.password placeholder=password required></div></div></form><hr><p></p><div class="alert alert-danger" id=validationSummary role=alert ng-show=hasError>{{status}}</div><div><a class="btn btn-default" ui-sref={{::cancelPath}}>Cancel</a> <button type=button class="btn btn-primary" ng-hide=hasToken ng-click=login()>Login</button> <button type=button class="btn btn-primary" ng-show=hasToken ng-click=logout()>Logout</button></div></div>'),a.put("src/components/ep.modaldialog/modals/modaldialog-custom.html",'<div class="ep-modaldialog ep-modaldialog-custom"><div class=modal-header><span class=close ng-show=config.closeButton><button type=button data-dismiss=modal aria-label=Close ng-click="btnclick({isCancel: true})"><span aria-hidden=true>&times;</span></button></span><h4 id=dialogTitle class="bg-primary modal-title"><span class="ep-dlg-title-icon {{config.icon}}"></span> <span class=ep-dlg-title ng-bind=config.fnGetTitle()></span></h4></div><div class=modal-body><form id=dialogForm name=dialogForm><div ng-include=config.templateUrl></div><div class="ep-dlg-rememberMe col-md-10" ng-show=config.rememberMe><div class=form-group><div class="row col-md-1"><input tabindex=1 id=cbxRemember class=form-control type=checkbox ng-model=config.rememberMeValue></div><label class="col-md-10 control-label">Do not show this message again</label></div></div></form></div><div class=modal-footer><div class=ep-dlg-buttons><button ng-repeat="btn in config.buttons" id=btn.id tabindex="$index + 100" data-dismiss=modal ng-hide=btn.hidden ng-disabled="btn.isPrimary && !dialogForm.$valid" class="btn btn-{{btn.type}}" ng-click=btnclick(btn)><i ng-if=btn.icon ng-class=btn.icon></i> &nbsp;{{btn.text}}</button></div></div><div class=ep-dlg-status ng-show=config.statusBar><h4 class="bg-primary modal-title"><span>{{config.statusBarText}}</span></h4></div></div>'),
a.put("src/components/ep.modaldialog/modals/modaldialog-error.html",'<!--Custom Dialog Error Template--><div class=ep-modaldialog-error><div class="alert clearfix" ng-class=config.statusClass><table class=ep-dlg-bodytable><tr><td><span ng-if=config.showSpinner class="ep-dlg-icon fa-stack fa-2x"><i class="ep-dlg-spinner-icon fa fa-spin fa-stack-2x" ng-class=config.spinnerIconClass></i> <i ng-if=config.showTimer class="ep-dlg-spinner-text fa fa-stack-1x {{config.spinnerTextClass}}" ng-class=config.spinnerTextClass>{{config.countDown}}</i></span> <span ng-if=!config.showSpinner class=ep-dlg-icon><i class="fa fa-3x" ng-class=config.statusIcon></i></span></td><td><span class=ep-dlg-message ng-class=config.messageClass ng-bind=config.fnGetMessage()></span></td></tr></table></div><div class=ep-message-details ng-show=config.messageDetails><a href="" ng-click="config.showDetails = !config.showDetails;">{{config.showDetails ? \'Hide details\': \'Show details\'}}</a><div ng-show=config.showDetails><textarea ng-model=config.messageDetails ng-readonly=true disabled></textarea></div></div></div>'),a.put("src/components/ep.modaldialog/modals/modaldialog-pane.html",'<div class="ep-modaldialog ep-modaldialog-pane ep-ease-animation ep-hide-fade" ng-hide=!dialogState.isVisible><div class=ep-dlg-container ng-class=config.containerClass><div class="ep-dlg-center clearfix"><span class="ep-dlg-icon pull-left" ng-class=config.iconClass style="margin-right: 10px; margin-top: 5px"><span ng-if=config.showSpinner class="ep-dlg-icon fa-stack fa-2x"><i class="ep-dlg-spinner-icon fa fa-spin fa-stack-2x" ng-class=config.spinnerIconClass></i> <i ng-if=config.showTimer class="ep-dlg-spinner-text fa fa-stack-1x" ng-class=config.spinnerTextClass>{{config.countDown}}</i></span> <i ng-if=!config.showSpinner ng-class=config.icon></i></span><div class=pull-left><span class=ep-dlg-title ng-class=config.titleClass ng-bind=config.fnGetTitle()></span><p class=ep-dlg-message ng-class=config.messageClass ng-bind=config.fnGetMessage()></p><div class="ep-dlg-rememberMe form-group" ng-show=config.rememberMe><div class=checkbox><input tabindex=1 id=cbxRemember type=checkbox ng-model=config.rememberMeValue><label>Do not show this message again</label></div></div><!--<div class="ep-dlg-progress-indicator" ng-show="config.showProgress"><span class="fa fa-pulse fa-spinner fa-5x" ng-class="config.progressClass"></span></div>--><!--<div class="ep-dlg-progress-indicator" ng-show="config.showProgress && config.showTimer"><span ng-class="config.timerClass">{{config.countDown}}</span></div>--><div class=ep-dlg-buttons><button ng-repeat="btn in config.buttons" id=btn.id tabindex="$index + 100" data-dismiss=modal ng-hide=btn.hidden class="btn btn-{{btn.type}} btn-sm" ng-click=btnclick(btn)><i ng-if=btn.icon ng-class=btn.icon></i> &nbsp;{{btn.text}}</button></div></div></div></div></div>'),a.put("src/components/ep.multi.level.menu/multi-level-menu.html",'<div class=mlm-container><form class=mlm-search><input class="form-control mlm-search-input" placeholder=Search ng-model=state.searchTerm ng-change=search()></form><div class=mlm-canvas><div ng-if=!state.searchTerm>beh<div class="mlm-content mlm-content-right ep-ease-animation" ng-class="{ \'slide-in\': state.slidingIn, \'slide-out\': state.slidingOut }"><div class=mlm-header ng-class="{ \'pointer\': data.next.parent.id !== \'modules\'}" ng-click=navigate(data.next.parent)><span ng-if="data.next.parent.id !== \'modules\'" class="mlm-back-button pull-left fa fa-lg fa-caret-left"></span><span>{{data.next.caption}}</span></div><ul class=mlm-list><li class="mlm-item clearfix" ng-repeat="mi in data.next.children"><div class="pull-left clearfix" ng-click=navigate(mi)><div class="mlm-item-text pull-left" title={{mi.caption}}>{{mi.caption}}</div></div><i ng-if="mi.type === \'Dashboard\'" class="mlm-favorite fa fa-lg pull-right" ng-click=toggleFavorite(mi) ng-class="{ \'fa-star-o\': !mi.favorite, \'fa-star gold\': mi.favorite}"></i> <i ng-if="mi.type === \'Menu\'" class="mlm-submenu fa fa-lg fa-caret-right pull-right" ng-click=navigate(mi)></i></li></ul></div><div class="mlm-content mlm-content-current ep-ease-animation" ng-class="{ \'slide-in\': state.slidingIn, \'slide-out\': state.slidingOut }"><div class=mlm-header ng-class="{ \'pointer\': data.current.parent.id !== \'modules\'}" ng-click=navigate(data.current.parent)><span ng-if="data.current.parent.id !== \'modules\'" class="mlm-back-button pull-left fa fa-lg fa-caret-left"></span><span>{{data.current.caption}}</span></div><ul class=mlm-list><li class="mlm-item clearfix" ng-repeat="mi in data.current.children"><div class="pull-left clearfix" ng-click=navigate(mi)><div class="mlm-item-text pull-left" title={{mi.caption}}>{{mi.caption}}</div></div><i ng-if="mi.type === \'Dashboard\'" class="mlm-favorite fa fa-lg pull-right" ng-click=toggleFavorite(mi) ng-class="{ \'fa-star-o\': !mi.favorite, \'fa-star gold\': mi.favorite}"></i> <i ng-if="mi.type === \'Menu\'" class="mlm-submenu fa fa-lg fa-caret-right pull-right" ng-click=navigate(mi)></i></li></ul></div><div class="mlm-content mlm-content-left ep-ease-animation" ng-class="{ \'slide-in\': state.slidingIn, \'slide-out\': state.slidingOut }"><div class=mlm-header ng-class="{ \'pointer\': data.next.parent.id !== \'modules\'}" ng-click=navigate(data.next.parent)><span ng-if="data.next.parent.id !== \'modules\'" class="mlm-back-button pull-left fa fa-lg fa-caret-left"></span><span>{{data.next.caption}}</span></div><ul class=mlm-list><li class="mlm-item clearfix" ng-repeat="mi in data.next.children"><div class="pull-left clearfix" ng-click=navigate(mi)><div class="mlm-item-text pull-left" title={{mi.caption}}>{{mi.caption}}</div></div><i ng-if="mi.type === \'Dashboard\'" class="mlm-favorite fa fa-lg pull-right" ng-click=toggleFavorite(mi) ng-class="{ \'fa-star-o\': !mi.favorite, \'fa-star gold\': mi.favorite}"></i> <i ng-if="mi.type === \'Menu\'" class="mlm-submenu fa fa-lg fa-caret-right pull-right" ng-click=navigate(mi)></i></li></ul></div></div><div class="mlm-content mlm-content-search" ng-if=state.searchTerm><div class=mlm-header><span>{{resources.strings.SearchResults}}</span></div><ul class=mlm-list><li class="mlm-item clearfix" ng-repeat="mi in searchResults"><div class="pull-left clearfix" ng-click=navigate(mi)><div class="mlm-item-text pull-left" title={{mi.caption}}>{{mi.caption}}</div><span ng-if="mi.type === \'Menu\'" class="mlm-item-count pull-right">{{mi.children && mi.children.length ? mi.children.length : 0}}</span></div><i ng-if="mi.type === \'Dashboard\'" class="mlm-favorite fa fa-lg pull-right" ng-click=toggleFavorite(mi) ng-class="{ \'fa-star-o\': !mi.favorite, \'fa-star gold\': mi.favorite}"></i> <i ng-if="mi.type === \'Menu\'" class="mlm-submenu fa fa-lg fa-caret-right pull-right" ng-click=navigate(mi)></i></li></ul></div></div></div>'),a.put("src/components/ep.search/search.html",'<div><header class=reverse><div class=searchControl><form role=form ng-submit=runSearch(searchText)><input type=search placeholder="Enter your search terms..." ng-model=searchText ng-change="changeSearch()"> <span class=input-group-btn><button class="btn btn-default" type=button><span class="icon icon-search"></span></button></span> <button ng-click=runSearch(searchText) ng-disabled=!searchText>search</button></form><div class="alert alert-danger" id=validationSummary role=alert ng-show=hasError>{{status}}</div></div></header><section><div ng-show=enterpriseSearch.searchText><p ng-show=enterpriseSearch.searching>Searching for the following terms: \'{{enterpriseSearch.searchText}}\' ...</p><p ng-show=enterpriseSearch.searchError>{{enterpriseSearch.searchError}}</p></div><ul ng-if=enterpriseSearch.searchResults class=searchResults><li ng-repeat="searchResult in enterpriseSearch.searchResults track by $index" class=searchResultCategory><b>Category: {{searchResult.label | uppercase}}</b><br><ul ng-if=searchResult.results><li ng-repeat="result in searchResult.results" class=searchResult><span class=searchResultHeader ng-class=searchResult.label>{{result.label | uppercase}} - {{result.companyContext}} - {{result.keyTag}}</span><br><div ng-if=result.fields><span ng-repeat="field in result.fields" class=searchResultField>{{field.alias}}: {{field.FieldValue}},</span></div></li></ul></li></ul></section></div>'),a.put("src/components/ep.shell/feedback/feedback_dialog.html",'<div class=form-group><label>{{config.summaryLabel}} <span class="required-indicator text-danger fa fa-asterisk"></span></label><input class=form-control ng-model=config.feedback.summary ng-required="true"></div><div class=form-group><label>{{config.descriptionLabel}} <span class="required-indicator text-danger fa fa-asterisk"></span></label><textarea class=form-control ng-model=config.feedback.description ng-required=true></textarea></div><div class=form-group><label>{{config.customerNameLabel}}</label><input class=form-control ng-model="config.feedback.customerName"></div><div class=form-group><label>{{config.customerEmailLabel}}</label><input class=form-control ng-model="config.feedback.customerEmail"></div>'),a.put("src/components/ep.shell/shell.html",'<div><section ng-controller=epShellCtrl class=ep-shell><section ng-if="state.disableTheming !== true && state.includeThemeFile === true"><link rel=stylesheet ng-href={{state.currentTheme.cssFilename}}></section><div ng-show=state.showProgressIndicator class=ep-progress-idicator><span class="fa fa-spin fa-spinner fa-pulse fa-5x"></span></div><nav class="ep-main-navbar navbar-sm navbar-default navbar-fixed-top" ng-class="{hidden: !state.showNavbar, \'cordova-padding\': platform.app === \'Cordova\'}" ng-style="{border: \'none\', \'padding-left\': \'4px\' }"><div class="container-fluid clearfix"><ul class="navbar-nav nav" style="float: none"><!--Left hand side buttons--><li><a id=leftMenuToggle class="pull-left fa fa-bars fa-2x ep-navbar-button" ng-click=toggleLeftSidebar() ng-class="{\'hidden\': !state.showLeftToggleButton}"></a></li><li><a id=homebutton href=#/home class="pull-left fa fa-home fa-2x ep-navbar-button" ng-class="{\'hidden\': !state.showHomeButton}"></a></li><li><a id=apptitle ng-class="{hidden: !state.showBrand}" class=navbar-brand href=#/home><p ng-bind-html=state.brandHTML></p></a></li><li class=right-button ng-class="{\'hidden\': !state.showRightToggleButton }"><a id=rightMenuToggle class="pull-left fa fa-bars fa-2x ep-navbar-button" ng-click=toggleRightSidebar() ng-class="{\'hidden\': !state.showRightToggleButton }"></a></li><!--Right hand side buttons--><li ng-repeat="button in navButtons | orderBy:\'index\':true" ng-class="{\'hidden\': button.hidden, \'disabled\': state.freezeNavButtons  || button.disabled}" class=right-button index={{button.index}}><a id=navbtn_{{button.id}} ng-if="button.type === \'button\'" title={{button.title}} class="fa {{button.icon}} fa-2x ep-navbar-button" ng-click=state.executeButton(button) ng-mousedown=state.buttonMouseDown(button)></a> <a id=navbtn_{{button.id}} ng-if="button.type === \'select\'" title={{button.title}} class="fa {{button.icon}} fa-2x ep-navbar-button dropdown-toggle" data-toggle=dropdown aria-expanded=false></a><ul ng-if="button.type === \'select\'" class=dropdown-menu ng-class="{ \'align-right\': button.right, \'disabled\': state.freezeNavButtons || button.disabled }" role=menu><li ng-repeat="opt in button.options"><a ng-click=opt.action() ng-mousedown=state.buttonMouseDown(button)><span class=ep-navmenu-item><i class="ep-navmenu-item-icon fa {{opt.icon}}"></i><span class=ep-navmenu-item-text>{{opt.title}}</span></span></a></li></ul></li></ul></div></nav><!--SIDE NAVIGATION--><ep-shell-sidebar><!--<div ng-transclude></div>--><div ng-view class=ep-fullscreen></div></ep-shell-sidebar><div class="navbar navbar-xsm navbar-default navbar-fixed-bottom" ng-class="{hidden: !state.showFooter}" role=navigation id=mainfooter style="color: white; padding-top: 4px; padding-left: 5px"><a class=pull-left style="color: white" href=#/whatsnew><sup>Version {{uiVersion}}</sup></a></div><span class=ep-shell-feedback-btn id=feedbackbutton ng-if=state.feedbackEnabled ng-click=sendFeedback()><i class="fa fa-bullhorn"></i> Give Feedback</span></section></div>'),a.put("src/components/ep.shell/sidebar/sidebar.html","<div class=ep-shell-container ng-class=\"{ 'nav-padding': shellState.showNavbar, 'footer-padding': shellState.showFooter, 'ep-disable-left-sidebar': !shellState.enableLeftSidebar, 'ep-hide-left-sidebar': (!shellState.showLeftSidebar) || (!shellState.enableLeftSidebar), 'ep-hide-right-sidebar': (!shellState.showRightSidebar) || !(shellState.enableRightSidebar)}\"><!-- Left Sidebar --><div id=leftSidebar class=\"ep-sidebar-nav ep-sidebar-nav-left well ep-ease-animation\" ng-class=\"{'ep-with-navbar': shellState.showNavbar, 'ep-with-footer': shellState.showFooter, 'cordova-ios': platform.app==='Cordova' && platform.os=='mac'}\" ng-click=dismissRightSidebar()></div><div id=viewPlaceholder class=\"ep-view-placeholder ep-fullscreen\" ng-transclude ng-click=dismissSidebars()><!--VIEW CONTENT HERE--></div><!-- Right Sidebar --><div id=rightSidebar class=\"ep-sidebar-nav ep-sidebar-nav-right well ep-ease-animation\"></div></div>"),a.put("src/components/ep.shell/viewcontainer/viewcontainer.html","<div id=viewContainer class=ep-view-container ng-class=\"{ 'ep-with-navbar': !!state.showNavbar,\r\n                                    'ep-with-footer': !!state.showFooter,\r\n                                    'ep-ease-animation': !!state.animateViewContainer,\r\n                                    'ep-scroll-y': !!state.allowVerticalScroll,\r\n                                    'ep-momentum-scrolling-enabled': !!state.momentumScrollingEnabled }\"><div id=viewMessage class=ep-container-message ng-if=state.infoMessage ng-style=\"{'width': state.viewDimensions.size.width + 'px', 'height': state.viewDimensions.size.height + 'px'}\"><p class=\"ep-container-message-text ep-center-item\"><i class={{state.infoIcon}}></i><br>{{state.infoMessage}}</p></div><div class=ep-fullscreen ng-transclude></div></div>"),a.put("src/components/ep.shell/views/ep-shell-embedded-apps-container.html",'<ep-shell-view-container smallmodesettings="{ &quot;showNavbar&quot;: true, &quot;showFooter&quot;: false, &quot;enableLeftSidebar&quot;: true, &quot;enableRightSidebar&quot;: false, &quot;showHomeButton&quot;: true, &quot;showBrand&quot;: false,  &quot;animateViewContainer&quot;: false, &quot;allowVerticalScroll&quot;: true }" largemodesettings="{ &quot;showNavbar&quot;: true, &quot;showFooter&quot;: false, &quot;enableLeftSidebar&quot;: true, &quot;enableRightSidebar&quot;: false, &quot;showHomeButton&quot;: true, &quot;showBrand&quot;: true,  &quot;animateViewContainer&quot;: false, &quot;allowVerticalScroll&quot;: true }"><ep-embedded-apps></ep-embedded-apps></ep-shell-view-container>')}]);