/*
 * emf (Epicor Mobile Framework) 
 * version:1.1.0-dev.8 built: 15-06-2018
*/
var __ep_build_info={emf:{libName:"emf",version:"1.1.0-dev.8",built:"2018-06-15"}};if(!epEmfGlobal){var epEmfGlobal={epModules:[],initialize:function(){!function(a){angular.module=function(){return arguments.length>1&&0===arguments[0].indexOf("ep.")&&epEmfGlobal.epModules.push(arguments[0]),a.apply(null,arguments)}}(angular.module)}};epEmfGlobal.initialize()}!function(){"use strict";angular.module("ep.accordion.menu",["ngAnimate","ep.templates","ep.local.storage"])}(),function(){"use strict";angular.module("ep.action.set",["ep.feature.detection","ep.templates"])}(),function(){"use strict";angular.module("ep.animation",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.application",["ep.templates","ep.sysconfig"])}(),angular.module("ep.azure",[]),angular.module("ep.binding",["ep.templates","ep.sysconfig"]),function(){"use strict";angular.module("ep.cache",["ep.indexeddb","ep.sysconfig"])}(),angular.module("ep.card",["ep.templates","ep.sysconfig"]),function(){"use strict";angular.module("ep.chart",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.color.selector",["ep.templates"])}(),function(){"use strict";angular.module("ep.color.tile",[])}(),function(){"use strict";angular.module("ep.console",["ep.templates","ep.sysconfig"])}(),angular.module("ep.customization",["ep.templates","ep.sysconfig","ep.local.storage","ep.binding"]),function(){"use strict";angular.module("ep.data.model",["ep.utils"])}(),angular.module("ep.datagrid",["ep.templates","ep.dropdown"]),function(){"use strict";angular.module("ep.dock.panel",[])}(),function(){"use strict";angular.module("ep.drag.drop",["ep.templates"])}(),function(){"use strict";angular.module("ep.dropdown",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.dynamic.directive",["ep.templates","ep.sysconfig"])}(),angular.module("ep.embedded.apps",["ep.templates","ep.sysconfig","ep.utils"]),angular.module("ep.erp",["ep.templates","ep.modaldialog","ep.utils","ep.odata","ep.binding"]),function(){"use strict";angular.module("ep.feature.detection",["ep.templates"])}(),function(){"use strict";angular.module("ep.file",[])}(),function(){"use strict";angular.module("ep.filter.list",[])}(),function(){"use strict";angular.module("ep.globalization",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.hybrid",["ep.templates"])}(),function(){"use strict";angular.module("ep.icon.selector",[])}(),function(){"use strict";angular.module("ep.include",["ep.templates"])}(),function(){"use strict";angular.module("ep.indexeddb",[])}(),function(){"use strict";angular.module("ep.list",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.local.storage",["ep.sysconfig"])}(),angular.module("ep.menu.builder",["ep.templates"]),function(){"use strict";angular.module("ep.modaldialog",["ep.templates","ep.local.storage","ep.globalization"])}(),function(){"use strict";angular.module("ep.multi.level.menu",["ngAnimate","ep.templates","ep.local.storage"])}(),function(){"use strict";angular.module("ep.odata",[])}(),angular.module("ep.photo.browser",["ep.templates","ep.sysconfig"]),angular.module("ep.record.editor",["ep.feature.detection","ep.templates","ep.sysconfig","ep.include"]),function(){"use strict";angular.module("ep.search",["ep.token","ep.templates"])}(),function(){"use strict";angular.module("ep.shell",["ngRoute","ngAnimate","ui.bootstrap","ep.templates","ep.feature.detection","ep.local.storage","ep.include","ep.theme","ep.utils","ep.sysconfig","ep.application","ep.modaldialog","ep.console","ep.globalization"])}(),angular.module("ep.signature",["ep.templates","ep.sysconfig"]),function(){"use strict";angular.module("ep.sliding.panel",["ngAnimate"])}(),function(){"use strict";angular.module("ep.switch",["ep.templates"])}(),function(){"use strict";angular.module("ep.sysconfig",[])}(),function(){"use strict";angular.module("ep.tabbar",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.table",["ep.templates"])}(),function(){"use strict";angular.module("ep.telemetry",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.templates",[])}(),function(){"use strict";angular.module("ep.theme",["ep.templates","ep.local.storage","ep.sysconfig","ep.application"])}(),function(){"use strict";angular.module("ep.tile",["ep.templates","ep.sysconfig","ep.application","ep.utils","ep.include"])}(),function(){"use strict";angular.module("ep.tiles.panel",["ep.templates","ep.sysconfig","ep.tile"])}(),function(){"use strict";angular.module("ep.token",["ep.sysconfig","ep.utils"])}(),function(){"use strict";angular.module("ep.ui.range.slider",["ep.templates","ep.sysconfig","ngTouch"])}(),function(){"use strict";angular.module("ep.utils",[])}(),function(){"use strict";angular.module("ep.viewmodal",["ep.templates","ep.sysconfig"])}(),function(){"use strict";angular.module("ep.accordion.menu").directive("epAccordionMenu",["$timeout",function(a){return{restrict:"E",replace:!0,controller:"epMultiLevelMenuCtrl",templateUrl:"src/components/ep.accordion.menu/ep-accordion-menu_template.html",scope:{menuId:"=",searchType:"=",searchDisabled:"=",sortDisabled:"=",iconDisabled:"=",initFavorites:"=",menu:"=",onMenuInit:"&",onFavoriteChange:"&",onExpand:"=",onTopMenuClick:"=",searchResultsHeader:"=",favoritesHeader:"=",mainHeader:"=",commitMenuState:"=",navigateAlternateIcon:"=",alternateSearch:"&",alternateSearchEnabled:"="},link:{pre:function(){},post:function(b){b.searchResultsHeader=b.searchResultsHeader||"Search Results",b.favoritesHeader=b.favoritesHeader||"Favorites",b.mainHeader=b.mainHeader||"",a(function(){b.initializeMenus("epAccordionMenu")}),b.onKeydown=function(a){var b=a.keyCode,c=$(a.target);40===b&&c.parents().nextAll().filter(":visible").not(".ep-menu-header").find(".container-fluid").first().focus()}}}}}]).directive("epAccordionMenuItem",function(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.accordion.menu/ep-accordion-menu-item_template.html",scope:{item:"=",navigate:"=",navigateAlternate:"=",navigateAlternateIcon:"=",toggleFavorite:"=",hideDescription:"=",onExpand:"=",commitMenuState:"="},controller:["$rootScope","$scope","epFeatureDetectionService",function(a,b,c){b.isMobile=!1,c.initialize().then(function(a){"cordova"===a.platform.app.toLowerCase()&&(b.isMobile=!0)}),b.$watch("item.isExpanded",function(a){void 0!==a&&(b.onExpand&&b.onExpand(b.item),b.commitMenuState&&b.commitMenuState())}),b.onKeydown=function(a,b){var c=b.keyCode,d=$(b.target);switch(c){case 13:a.isExpanded=!a.isExpanded;break;case 37:a.isExpanded=!1;break;case 39:a.isExpanded=!0;break;case 38:d.parents().prevAll().filter(":visible").first().parent().hasClass("ep-accordion-expanded")?d.parents().prevAll().filter(":visible").first().focus():d.parents().prevAll().filter(":visible").not(".ep-menu-header").first().find(".container-fluid, .form-control").focus();break;case 40:d.parent().hasClass("ep-accordion-expanded")?d.next().find(".container-fluid").first().focus():d.parents().nextAll().filter(":visible").find(".container-fluid").first().focus()}}}]}})}(),function(){"use strict";angular.module("ep.action.set").directive("epActionItem",["$document","actionSetFactory",function(a,b){return{restrict:"E",scope:{handler:"=",title:"@",trigger:"@",type:"@",params:"=",actionSwitch:"=switch",actionSwitchParams:"=switchParams",actionSwitchResult:"=switchResult",icon:"@"},link:function(a,c,d){var e={handler:a.handler,title:a.title,trigger:a.trigger,type:a.type,params:a.params,actionSwitch:a.actionSwitch,actionSwitchParams:a.actionSwitchParams,actionSwitchResult:a.actionSwitchResult};a.$destroy(),a=null,b.registerAction(c,e,"default"in d),c.remove()}}}])}(),function(){"use strict";angular.module("ep.action.set").controller("epActionMenuCtrl",["$scope","$document",function(a,b){function c(){e.actions=null,a.$root.$$phase||a.$apply(),b.off("click.actionMenu")}function d(a,b){b.handler.call(e,b.callback),c(),a.stopPropagation(),a.preventDefault()}var e=this;e.closeMenu=c,e.invokeAction=d,a.$on("actionMenuCall",function(d,f){e.actions=f.actions,"fixed"!==e.menu.css("position")&&e.menu.css({left:f.event.clientX+"px",top:f.event.clientY+"px"}),b.on("click.actionMenu",function(){c()}),a.$root.$$phase||a.$apply()})}])}(),function(){"use strict";angular.module("ep.action.set").directive("epActionMenu",function(){return{restrict:"E",replace:!0,controller:"epActionMenuCtrl",controllerAs:"actionMenuCtrl",templateUrl:"src/components/ep.action.set/action-menu/action-menu.html",link:function(a,b){a.actionMenuCtrl.menu=b}}})}(),function(){"use strict";angular.module("ep.action.set").directive("epActionSeparator",["$document",function(){return{restrict:"E",require:"^epActionSet",link:function(a,b){var c=$(b).parent(),d=c.data("actions")||[];d.push({type:"separator"}),b.remove()}}}])}(),function(){"use strict";angular.module("ep.action.set").controller("epActionSetCtrl",["$scope",function(a){a.onActionCallerClick=function(b){var c=$(b.target).closest(".ep-interactivity-sign"),d=c.parent().data("actions");a.$root.$broadcast("actionMenuCall",{event:b,actions:d}),b.preventDefault(),b.stopPropagation()}}])}(),function(){"use strict";angular.module("ep.action.set").directive("epActionSet",["$compile","epFeatureDetectionService",function(a,b){return{restrict:"E",scope:{position:"=",bindTo:"=",insertTo:"="},controller:"epActionSetCtrl",compile:function(a,c){var d="";if(a.parent().addClass("ep-relative").addClass("ep-action-owner"),d="ep-actionset-right-down",b.browserIsMobile()===!1&&c.position)switch(c.position){case"absolute-right-bottom":d="ep-actionset-right-bottom";break;case"right-bottom":d="ep-actionset-right-down";break;case"right-center":d="ep-actionset-right-center"}return a.addClass("ep-actionset"),a.addClass(d),a.append($('<div class="ep-interactivity-sign" ng-controller="epActionSetCtrl" ng-click="onActionCallerClick($event)"><span class="fa fa-ellipsis-h"></span></div></div>')),{pre:function(){},post:function(b){b.bindTo&&(b.bindTo.append(a),b.bindTo.addClass("ep-relative").addClass("ep-action-owner")),b.$destroy(),b=null}}}}}])}(),function(){"use strict";angular.module("ep.action.set").factory("actionSetFactory",[function(){function a(a,b){if(null!==b.handler){var c=$(a).parent(),d=c.data("actions")||[],e={title:b.title,type:"action",icon:b.icon};if(b.actionSwitch&&(e["switch"]=b.actionSwitch,e.switchParams=b.actionSwitchParams,e.switchResult=b.actionSwitchResult),Array.isArray(b.params)){var f=function(){b.handler.apply(a,arguments[0])};e.handler=f.bind(c,b.params)}else b.handler&&(e.handler=b.handler.bind(c,b.params));d.push(e),c.data("actions",d)}}return{registerAction:a}}])}(),function(){"use strict";angular.module("ep.action.set").directive("epDynamicActionSet",["$compile","$rootScope",function(a,b){return{restrict:"EA",scope:{provider:"=epDynamicActionSetProvider",actionParams:"=epDynamicActionSetParams",bindTo:"=epDynamicActionSetBindTo",insertTo:"=epDynamicActionSetInsrtTo",injections:"=epDynamicActionSetInjections"},link:function(c,d){var e="undefined"==typeof c.bindTo||null===c.bindTo;c.provider&&(c.provider.actionSet.apply(e,d,b,c,a),c.$destroy(),c=null)}}}])}(),function(){"use strict";angular.module("ep.action.set").factory("dynamicActionSetFactory",[function(){function a(a,c){return new b(a,c)}function b(a,b){function d(a,b,d){var f=new c(a,b,d);e(f),m.push(f)}function e(a){if(!(a.title&&a.title.length>0))throw new Error("Title for the action is required!")}function f(a,b){for(var c=!1,d=0;d<m.length;d++)if(m[d].title===a){m.splice(d,b?m.length-d:1),c=!0;break}c&&(l&&l.remove(),this.apply.apply(this,k))}function g(a,b,d,f){for(var g=0;g<m.length;g++)if(m[g].title===a)return;var h=new c(a,b,d,f);e(h),m.push(h),l&&l.remove(),this.apply.apply(this,k)}function h(a,c,d,e,f){var g=[];if(k=arguments,j=f,a&&(!angular.isFunction(b)||b(c,e))){g.push('<ep-action-set position="right-bottom" bind-to="bindTo" insert-to="insertTo">'),i=d.$new(!0);for(var h=0;h<m.length;h++)g.push(m[h].build(h,i));g.push("</ep-action-set>"),i.bindTo=e.bindTo||c,i.params=e.actionParams,i.bindTo.data("actions",null),l=f(g.join(""))(i)}}this.name=a,this.onCreateActionSet=b;var i,j,k,l,m=[];return{addAction:d,apply:h,removeAction:f,appendAction:g}}function c(a,b,c,d){this.title=a,this.handler=b;var e,f=[];if(c)for(e in c)c.hasOwnProperty(e)&&f.push(e+'="'+c[e]+'"');this.apply=function(a,b,c,e){var g=b.$new(!0),h='<ep-action-item title="'+this.title+'icon="'+d+'" " handler="handler" params="params" bind-to="bindTo" insert-to="insertTo" '+f.join(" ")+"></ep-action-item>";g.handler="function"==typeof this.handler?this.handler:c[this.handler],g.params=c.actionParams,g.bindTo=c.bindTo||a,g.insertTo=c.provider.insertTo,g.injections=c.injections,e(h)(g)},this.build=function(a,b){return b["fnc"+a]=this.handler,'<ep-action-item title="'+this.title+'" icon="'+d+'" " handler="fnc'+a+'" params="params" bind-to="bindTo" insert-to="insertTo" '+f.join(" ")+"></ep-action-item>"}}return{getDynamicActionSet:a}}])}(),function(){"use strict";angular.module("ep.animation").directive("epAnimation",function(){function a(a,b,c){a.$watch(function(){return a.options},function(a){if(a){var d=c.id,e=angular.element("body"),f=angular.element("#animationStyle");if(!f.length){var g=document.createElement("style");e.append(g),f=angular.element(g),f.attr("id","animationStyle")}var h=f.get(0).textContent;d||(d=c.id=_.uniqueId(b[0].nodeName));var i,j="";a.show&&(j="#"+d+".ng-hide-remove {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-hide-remove { animation: "+(a.show.duration||"0.5s")+" "+a.show.animation+" "+(a.show.easing||"ease")+"; }"),a.hide&&(j="#"+d+".ng-hide-add {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-hide-add { animation: "+(a.hide.duration||"0.5s")+" "+a.hide.animation+" "+(a.hide.easing||"ease")+"; }"),a.enter&&(j="#"+d+".ng-enter-active {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-enter-active { animation: "+(a.enter.duration||"0.5s")+" "+a.enter.animation+" "+(a.enter.easing||"ease")+"; }"),a.leave&&(j="#"+d+".ng-leave-active {.*}",i=new RegExp(j,"gim"),h=h.replace(i,""),h+="\r\n#"+d+".ng-leave-active { animation: "+(a.leave.duration||"0.5s")+" "+a.leave.animation+" "+(a.leave.easing||"ease")+"; }"),f.html(h)}})}return{restrict:"A",scope:{options:"="},link:a}})}(),function(){"use strict";angular.module("ep.application").provider("epApplicationConfig",function(){var a={id:"",type:"webapp",generatorEMF:"",libPath:"lib",emfPath:"lib/bower/emf",emfBuildInfo:{}};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.application",a),a.libPath||(a.libPath="lib"),a.emfPath||(a.emfPath=a.libPath+"/bower/emf"),__ep_build_info&&(a.emfBuildInfo=__ep_build_info),a.getEmfLibPath=function(b){var c=a.emfPath;return a.emfBuildInfo[b]&&"emf"!==b&&(c=a.emfPath+"/emf."+a.emfBuildInfo[b].libName),c},a.getAssetsPath=function(b,c){var d=a.getEmfLibPath(b)+"/assets";return c&&(d+="/"+c),d},a}]})}(),function(){"use strict";var a={state:{moduleId:"",contentLoaded:!1,deviceDetected:!1,messages:["Initializing application."],debugMode:!1},initialize:function(){if(this.state.moduleId=document.getElementsByTagName("html")[0].getAttribute("ep-ng-app"),this.state.moduleId){var a=document.getElementsByTagName("html")[0].getAttribute("ep-debug");this.state.debugMode="1"===a||"true"===a,document.addEventListener("deviceready",this.onDeviceReady,!1),window.addEventListener("load",this.onLoad,!1)}},onDeviceReady:function(){a.state.deviceDetected=!0,a.state.messages.push("The device is ready."),a.bootstrapApp()},onLoad:function(){a.state.contentLoaded=!0,a.state.messages.push("onLoad event is triggered."),a.state.deviceDetected&&a.doTheBootstrap(),window.cordova||(a.state.messages.push("No device detected, executing a manual bootstrap."),a.bootstrapApp())},bootstrapApp:function(){a.debugOutput(function(){a.state.contentLoaded?a.doTheBootstrap():(a.state.messages.push("Waiting for DOM to load."),document.addEventListener("DOMContentLoaded",function(){a.doTheBootstrap()}))})},doTheBootstrap:function(){var b=a.state;b.contentLoaded=!0,b.moduleId&&(a.attachFastClick(),b.messages.push("Bootstrapping epApplicationLoader..."),angular.bootstrap(document,[b.moduleId]),b.messages.push("Application successfully bootstrapped."))},attachFastClick:function(){"undefined"==typeof module&&(FastClick.attach(document.body),this.state.messages.push("FastClick attached."))},debugOutput:function(a){if(this.state.debugMode){angular.element("body").append('<div id="messages"></div>');var b=angular.element("#messages");b.append('<button id="continueButton" class="btn btn-default">Continue</button>'),this.state.messages.forEach(function(a){b.append(angular.element("<p>"+a+"</p>"))}),angular.element("#continueButton").on("click",function(){a()})}else a()}};a.initialize()}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i){function j(a){p=new Microsoft.ADAL.AuthenticationContext(q.authority),p.tokenCache.readItems().then(function(b){b.length>0&&(q.authority=b[0].authority,p=new Microsoft.ADAL.AuthenticationContext(q.authority)),p.acquireTokenSilentAsync(q.resourceUri,q.clientId).then(a,function(){p.acquireTokenAsync(q.resourceUri,q.clientId,q.redirectUri).then(a,function(a){c.debug("Failed to authenticate: "+a)})})})}function k(d,e,f,h){var i=a.defer(),j=g.resolveServerUrl(d),k=j.serverUrl+"/api/.configuration?tenantID=";f&&(k+=f);var m={method:"GET",url:k};return b(m).then(function(a){if(a.data&&a.data.TokenAuthentication){var b=a.data.TokenAuthentication;b.AzureBindingEnabled?a.data.AzureADSettings?l(a,e,f,h).then(function(a){i.resolve(a)}):f?i.reject({notFound:!0}):o(k,e,f,h).then(function(a){i.resolve(a)},function(a){i.reject(a)}):i.reject({notEnabled:!0})}else i.reject({notEnabled:!0})},function(a){c.error(a),a.aadConfigAPIError=!0,i.reject(a)}),i.promise}function l(b,f,g,h){var i=a.defer(),k=b.data.AzureADSettings;return q.clientId=k.NativeClientAppID,q.resourceUri=k.WebAppID,q.redirectUri=f,q.postLogoutRedirectUri=f,h&&Microsoft.ADAL.AuthenticationSettings.setLogLevel(3).then(function(){console.log("Successfully set log level"),Microsoft.ADAL.AuthenticationSettings.setLogger(function(a){console.log(JSON.stringify(a,null,2))})},function(a){console.log("Couldn't set log level"),c.error(a)}),j(function(a){var b=a.expiresOn,c=new Date,f=new Date(c),h=(b.getTime()-c.getTime())/1e3;f.setTime(f.getTime()+1e3*h),e.update(d.tokenId,{token:{AccessToken:a.accessToken},createdUTC:c.getTime(),expiresUTC:b.getTime(),expiresInSecs:h}),a.tenantID=g,i.resolve(a)}),i.promise}function m(c,d){var e=a.defer(),f={method:"POST",url:c,headers:{Authorization:"Bearer "+d,"Content-Type":"application/json"}};return b(f).then(function(a){e.resolve(a.data.returnObj.UserFile[0])},function(a){e.reject(a)}),e.promise}function n(){p=new Microsoft.ADAL.AuthenticationContext(q.authority),p.tokenCache.clear();var a=q.authority+"/oauth2/logout?post_logout_redirect_uri="+q.postLogoutRedirectUri,b=cordova.InAppBrowser.open(a,"_blank","location=no");b.addEventListener("loadstop",function(){b.close()})}function o(c,d,e,f){var g=a.defer();return h.showCustomDialog({title:i.getString("emf.ep.azure.azure-erp-tenant-view.tenantTitle"),icon:"",templateUrl:"src/components/ep.azure/azure-erp-tenant-view.html",buttons:[{text:"Ok",type:"primary",action:function(a){h.hide(),b({method:"GET",url:c+a.tenantID}).then(function(b){b.data&&b.data.AzureADSettings?l(b,d,a.tenantID,f).then(function(a){g.resolve(a)}):g.reject({notFound:!0})},function(a){g.reject(a)})}},{text:"Cancel",isCancel:!0,action:function(){g.reject({message:"User Cancelled",cancel:!0})}}]}),g.promise}var p,q={authority:"https://login.microsoftonline.com/common",clientId:"",redirectUri:"",resourceUri:"",postLogoutRedirectUri:""};return{authenticate:j,verifyAADConfigAndLogin:k,getUserFromAADToken:m,logOut:n}}a.$inject=["$q","$http","$log","epTokenConfig","epLocalStorageService","epErpRestService","epTokenService","epModalDialogService","epTranslationService"],angular.module("ep.azure").service("epAzureADService",a)}(),function(){"use strict";function a(a,b,c,d){return{restrict:"E",templateUrl:"src/components/ep.binding/controls/ep-binding-editor.html",scope:{epBinding:"=",column:"=",isRow:"="},link:function(a){var e;a.epBindingInfo={value:void 0,kind:"ep-editor-control"};var f={editor:"auto",updatable:!0};a.state={column:void 0,metaColumn:{},epBinding:{}},a.setBinding=function(f){e?e.changeBinding(f):e=new b(a,f,a.epBindingInfo),a.state.metaColumn={},a.state.epBinding.column===a.epBindingInfo.epBinding.column&&a.state.epBinding.view===a.epBindingInfo.epBinding.view||(a.state.metaColumn.caption=a.epBindingInfo.epBinding.column);var g=d.get(a.epBindingInfo.epBinding.view);if(g&&g.columns&&g.columns[a.epBindingInfo.epBinding.column]){var h=g.columns[a.epBindingInfo.epBinding.column];c.copyProperties(h,a.state.metaColumn)}a.state.epBinding.view=a.epBindingInfo.epBinding.view,a.state.epBinding.column=a.epBindingInfo.epBinding.column},a.setColumn=function(){var b=angular.extend({},f);a.state.metaColumn&&Object.keys(a.state.metaColumn).length&&c.copyProperties(a.state.metaColumn,b),a.column&&c.copyProperties(a.column,b),angular.equals(a.state.column,b)||(a.state.column=b)},a.$watch("epBinding",function(b,c){void 0!==b&&b!==c&&a.setBinding(b)}),a.$watch("column",function(b,c){void 0===b||angular.equals(b,c)||a.setColumn()}),a.epBinding&&a.setBinding(a.epBinding),a.setColumn()}}}a.$inject=["$location","epBindingFactory","epUtilsService","epBindingMetadataService"],angular.module("ep.binding").directive("epBindingEditor",a)}(),function(){"use strict";function a(a,b){return{restrict:"E",templateUrl:"src/components/ep.binding/controls/ep-binding-label.html",require:"?^form",scope:{epBinding:"=",label:"@",labelClass:"@",required:"=",forCtrl:"@"},link:function(c,d,e,f){c.state={epBinding:{},label:c.label||"",requiredFlag:!1,metaColumn:{},isInFormControl:null===f||void 0===f},c.setBinding=function(d){var e=c.state.epBinding=a.parseBinding(d),f=b.get(e.view);f&&f.columns&&f.columns[e.column]&&(c.state.metaColumn=f.columns[e.column]||{})},c.setLabel=function(){c.state.label=c.label||c.state.metaColumn.caption||c.state.epBinding.column||""},c.setRequired=function(){c.state.isInFormControl&&c.required!==!0?c.state.requiredFlag=!1:c.state.epBinding.column?c.state.requiredFlag=c.state.metaColumn.required&&c.state.metaColumn.requiredFlag:c.state.requiredFlag=c.required===!0},c.$watch("epBinding",function(a,b){void 0!==a&&a!==b&&c.setBinding(a)}),c.epBinding&&c.setBinding(c.epBinding),c.setLabel(),c.setRequired()}}}a.$inject=["epBindingService","epBindingMetadataService"],angular.module("ep.binding").directive("epBindingLabel",a)}(),function(){"use strict";function a(a,b,c){return{restrict:"E",templateUrl:"src/components/ep.binding/controls/ep-binding-pagination.html",scope:{epBinding:"=",maxSize:"="},link:function(d){function e(a){a&&a.hasData()?(d.view=a,d.record=a.dataRow(),d.totalItems=a.data().length,d.currentPage=a.row()+1,d.maxSize=d.maxSize||10):(d.view=null,d.totalItems=0,d.currentPage=0)}d.state={},d.view=null,d.totalItems=0,d.currentPage=0,a.$on("EP_BINDING_VIEW_ADDED",function(a,b){d.state.epBinding&&b.viewId===d.state.epBinding.view&&e(c.current().view(d.state.epBinding.view))}),a.$on("EP_BINDING_VIEW_ROW_CHANGED",function(a,b){d.state.epBinding&&b.viewId===d.state.epBinding.view&&(d.currentPage=b.view.row()+1)}),a.$on("EP_BINDING_VIEW_ROW_ADDED",function(a,b){if(d.state.epBinding&&b.viewId===d.state.epBinding.view){var c=d.view;d.record=c.dataRow(),d.totalItems=c.data().length,d.currentPage=c.row()+1}}),d.$watch("epBinding",function(a){if(void 0!==a){d.state.epBinding=b.parseBinding(a);var f=c.current().view(d.state.epBinding.view);f&&e(f)}}),d.onPageChange=function(){d.view&&d.view.row(d.currentPage-1)}}}}a.$inject=["$rootScope","epBindingService","epTransactionFactory"],angular.module("ep.binding").directive("epBindingPagination",a)}(),function(){"use strict";function a(a,b,c,d,e,f){return{restrict:"E",templateUrl:"src/components/ep.binding/controls/ep-binding-record-editor.html",scope:{epBinding:"=",options:"=",isreadonly:"=",onInit:"="},link:function(c,g,h){function i(){if(void 0!==c.options){if(c.options.columnList&&!c.options.columns){var a=[],b=c.options.columnList.split(","),g=f.get(c.epBinding);angular.forEach(b,function(b){var c={columnIndex:b,editor:"auto",updatable:!0};if(g&&g.columns&&g.columns[b]){var d=g.columns[b];e.copyProperties(d,c),c.editor=d.editor||c.editor}a.push(c)}),c.options.columns=a}if(c.options.columns&&c.options.columns.length){var h=d.getCustomization(c.state.id);h&&(angular.forEach(h,function(a,b){var d=_.find(c.options.columns,function(a){return a.columnIndex===b});if(d){var f=a.validation;if(e.copyProperties(a,d),f)try{var g;c.$eval("fff = function(ctx, ev, value) { "+f+"}"),d.fnOnFldValidate=g}catch(h){}}else c.options.columns.push(a)}),c.state.factory&&c.state.factory.draw())}}}return h.id?(c.state={id:h.id},c.epCustomizationInfo={kind:"ep-record-editor",id:c.state.id,scope:c,url:b.url(),data:void 0,index:void 0,ctrl:{epBinding:c.epBinding,factory:void 0},api:{onCustomizeActivate:function(a){c.isCustomizeActive=a===!0,c.activeClass=c.isCustomizeActive?"ep-customize-active":"",c.epCustomizationInfo.ctrl.factory.enableEditorsDrag(a,a)}}},c.onInitThis=function(a){c.state.factory=a,c.epCustomizationInfo.ctrl.factory=a,c.onInit&&c.onInit(a)},void c.$watch("options",function(){i()},!0)):void a.warn("ep-binding-record-editor must have an id for customization")}}}a.$inject=["$log","$location","epBindingFactory","epCustomizationService","epUtilsService","epBindingMetadataService"],angular.module("ep.binding").directive("epBindingRecordEditor",a)}(),function(){"use strict";function a(a,b,c,d){function e(a){var e=[];f.meta.column="",f.meta.preview="",f.config.binding="["+a+"]",f.isAllDataPreview=!1,f.loadingColumns=!0,b(function(){var b=c.current().view(a),g=d.get(a);if(g&&g.columns&&angular.forEach(g.columns,function(a,b){e.push({label:b,value:b})}),b.hasData()){var h=b.dataRow();f.meta.preview=JSON.stringify(h,null,"    "),0===e.length&&angular.forEach(h,function(a,b){e.push({label:b,value:b})})}f.columns=e,f.columnList.list=f.columns,f.loadingColumns=!1})}var f=a;f.config||(f.config={binding:""}),f.isAllDataPreview=!1,f.views=[],f.columns=[],a.meta={view:"",column:"",preview:"",info:""};var g=c.current().views();angular.forEach(g,function(a){f.views.push({label:a,value:a})}),f.views.length&&(a.meta.view=f.views[0].value),f.viewList={caption:"View",name:"View",editor:"select",updatable:!0,list:f.views,sizeClass:"col-lg-12",fnOnChange:function(a,b){f.columns=[];var c=b.fnGetCurrentValue();e(c)}},f.columnList={caption:"Columns",name:"Columns",editor:"select",updatable:!0,list:void 0,sizeClass:"col-lg-12",fnOnChange:function(){f.config.binding="["+f.meta.view+"].["+f.meta.column+"]"}},f.columnBinding={caption:"ep-binding",sizeClass:"col-lg-12",editor:"text",updatable:!0,readonly:!0,placeholder:""},f.showAllData=function(a){f.isAllDataPreview=a;var b=c.current().view(f.meta.view);b.hasData()&&(f.isAllDataPreview?f.meta.preview=JSON.stringify(b.data(),null,"    "):f.meta.preview=JSON.stringify(b.dataRow(),null,"    "))},g.length&&e(g[0])}a.$inject=["$scope","$timeout","epTransactionFactory","epBindingMetadataService"],angular.module("ep.binding").controller("epBindingSelectorCtrl",a)}(),function(){"use strict";function a(a,b,c,d){return{restrict:"E",templateUrl:"src/components/ep.binding/controls/ep-binding-table.html",scope:{epBinding:"=",columns:"=",trackSelectedRow:"=",onSelectRow:"&",onDoubleClickRow:"&"},link:function(e,f,g){function h(){var a=d.getCustomization(e.state.id);angular.forEach(a,function(a,b){if(a.isCustom)e.state.columns.push(a);else if(a.hidden||a.caption){var c=_.find(e.state.columns,function(a){return a.name===b});c&&(a.hidden&&(c.hidden=a.hidden),a.caption&&(c.caption=a.caption))}})}function i(a){var b=[];return angular.forEach(e.state.columns,function(c){c.hidden!==!0&&b.push(a?c.caption:c.name)}),b.join(",")}function j(){e.headers=i(!0),e.dataColumns=i(!1)}e.epBindingInfo={value:void 0},e.state={id:g.id,data:void 0,columns:[]};var k=e.columns.split(",");angular.forEach(k,function(a){e.state.columns.push({name:a,caption:a})}),e.dblClickRow=function(a){e.onDoubleClickRow&&e.onDoubleClickRow({row:a})},e.$watch("epBinding",function(a){if(void 0!==a){var b={onViewReady:function(){e.state.data=e.epBindingInfo.view.data(),e.ready=!0}};e.state.bindingFactory=new c(e,a,e.epBindingInfo,(!0),b),h(),j()}}),e.epCustomizationInfo={kind:"ep-table",id:e.state.id,scope:e,url:a.url(),data:void 0,index:void 0,ctrl:{epBinding:e.epBinding,factory:void 0,columns:e.state.columns},api:{onCustomizeActivate:function(a){e.isCustomizeActive=a===!0,e.activeClass=e.isCustomizeActive?"ep-customize-active":""},onColumnAdd:function(a){e.state.columns.push(a),j(),e.ready=!1,b(function(){e.ready=!0})},onColumnRemove:function(a){e.state.columns=_.without(e.state.columns,a),j(),e.ready=!1,b(function(){e.ready=!0})},onChange:function(){j(),e.ready=!1,b(function(){e.ready=!0})}}}}}}a.$inject=["$location","$timeout","epBindingFactory","epCustomizationService"],angular.module("ep.binding").directive("epBindingTable",a)}(),function(){"use strict";function a(a,b,c){return{restrict:"A",replace:!0,scope:!0,template:function(a,b){var c="epb.view && epb.view.hasData()";b.ngIf&&(c+=" && "+b.ngIf);var d=a.get(0);return angular.forEach(d.attributes,function(a){a.value=""}),b.$set("ng-if",c),d.outerHTML},compile:function(a,b){return{pre:function(a){var d;a.epb=a.epBindingInfo={},a.$watch(b.epBindingIfView,function(b){void 0!==b&&(d?d.changeBinding(b):d=new c(a,b,a.epBindingInfo,(!0),{},(!1)))})}}}}}a.$inject=["$rootScope","$timeout","epBindingFactory"],angular.module("ep.binding").directive("epBindingIfView",a)}(),function(){"use strict";function a(){function a(a,b,c,d){f.meta[a]={id:a,kind:b,columns:c||{},metadata:d||{}}}function b(a){return f.aliases[a]?f.meta[f.aliases[a]]:f.meta[a]}function c(a,b){f.aliases[b]=f.aliases[a]||a}function d(a){return a&&(f=angular.copy(a)),f}function e(){f={meta:{},aliases:{}}}var f={meta:{},aliases:{}};return{add:a,get:b,addAlias:c,data:d,clear:e}}angular.module("ep.binding").service("epBindingMetadataService",a)}(),function(){"use strict";function a(a){return{restrict:"A",require:"?ngModel",scope:!0,link:function(b,c,d,e){var f;e&&(b.epBindingInfo={value:void 0,kind:"ep-binding-model"},b.$watch(d.epBindingModel,function(c){void 0!==c&&(f?f.changeBinding(c):f=new a(b,c,b.epBindingInfo,(!1),{onValueChanged:function(a){b[d.ngModel]=a}}))}),e.$parsers.unshift(function(a){return b.epBindingInfo.value=a,a}))}}}a.$inject=["epBindingFactory"],angular.module("ep.binding").directive("epBindingModel",a)}(),function(){"use strict";function a(a,b,c){return{restrict:"E",replace:!1,scope:!0,compile:function(d,e){return{pre:function(d){d.trackData=[],d.eventWatches={};var f;d.epBindingInfo={};var g=e.aliasView;d.$watch(e.epBinding,function(a){void 0!==a&&(f?f.changeBinding(a):(f=new c(d,a,d.epBindingInfo,(!1),{onRowChanged:function(a){d[g]=a}},(!0)),g=g||d.epBindingInfo.epBinding.view,d.epb=d.epBindingInfo,d["epb_"+g]=d.epBindingInfo,g&&(d[g]=d.epBindingInfo.record)))}),"true"===e.trackData&&(d.onTrackDataChange=function(a){a===d.epb.viewId&&(d.trackData=[],b(function(){d.trackData=d.epb.view.data()}))},d.eventWatches.view=a.$on("EP_BINDING_VIEW_ADDED",function(a,b){d.onTrackDataChange(b.viewId)}),d.eventWatches.added=a.$on("EP_BINDING_VIEW_ROW_DELETED",function(a,b){d.onTrackDataChange(b.viewId)}),d.eventWatches.view=a.$on("EP_BINDING_VIEW_ROW_ADDED",function(a,b){d.onTrackDataChange(b.viewId)}),d.$on("$destroy",function(){angular.forEach(d.eventWatches,function(a){a()})}))}}}}}a.$inject=["$rootScope","$timeout","epBindingFactory"],angular.module("ep.binding").directive("epBindingScope",a)}(),function(){"use strict";function a(a,b,c,d){var e=function(e,f,g,h,i,j){
function k(f){function l(){o.epBinding.column&&(t.value=t.record[o.epBinding.column],s.onValueChanged&&s.onValueChanged(t.value))}function m(a){o.trackBufferRecord&&(t.rec=void 0,b(function(){t.rec=angular.extend({},a),s.onRowChanged&&s.onRowChanged(t.rec)}),p.bufferRecord||(p.bufferRecord=e.$watch("epBindingInfo.rec",function(a,b){if(a&&b&&a!==b)for(var c in a)a.hasOwnProperty(c)&&void 0!==a[c]&&(angular.equals(a[c],b[c])||t.view.columnValue(c,a[c]))},!0)))}function q(a){a&&(t.view=a,t.data=a?a.data():[],s.onViewReady&&s.onViewReady(a),a.hasData()&&r(a))}function r(a){t.record=a.dataRow(),m(t.record),!o.trackBufferRecord&&s.onRowChanged&&s.onRowChanged(t.record),l()}var s=i||{};o={trackBufferRecord:j,scope:e,binding:f,epBinding:c.parseBinding(f),bi:{}};var t=o.bi=g||e.epBindingInfo||{};t.epBinding=o.epBinding,t.columnName=o.epBinding.column,t.viewId=o.epBinding.view,t.view=void 0,t.data=[],t.record=void 0,t.rec=void 0,t.value=void 0,t.rowCount=function(){return t.view&&t.view.hasData()?t.view.data().length:0},t.trx=d.current();var u=d.current().view(o.epBinding.view);p.main||(p.main=a.$on("EP_BINDING_VIEW_ADDED",function(a,c){c.viewId===o.epBinding.view&&("RELOAD"===c.action?(n(),b(function(){k(o.binding)})):q(d.current().view(o.epBinding.view)))})),u&&q(u),p.onViewRowChanged=a.$on("EP_BINDING_VIEW_ROW_CHANGED",function(a,b){b.viewId===o.epBinding.view&&r(b.view)}),o.epBinding.column&&(h!==!0&&(p.bindingValue=e.$watch("epBindingInfo.value",function(a,b){a!==b&&t.record&&o.epBinding.column&&t.view.columnValue(o.epBinding.column,a)})),p.bindingRecord=e.$watch("epBindingInfo.record."+o.epBinding.column,function(a,b){a!==b&&t.record&&o.epBinding.column&&t.record[o.epBinding.column]!==t.value&&l()}))}function l(a){n(),k(a)}function m(){return o.epBinding}function n(){angular.forEach(p,function(a){a()})}var o,p={};return k(f),{epBinding:m,changeBinding:l,freeze:n}};return e}a.$inject=["$rootScope","$timeout","epBindingService","epTransactionFactory"],angular.module("ep.binding").factory("epBindingFactory",a)}(),function(){"use strict";angular.module("ep.binding").filter("epBinding",["epBindingFactory","$log","$rootScope",function(a,b,c){var d="___epBindings",e=function(b,e){e[d]||(e[d]={});var f=e[d][b];return f||(f={column:b,epBindingInfo:{kind:"ep-binding-filter",value:void 0}},e[d][b]=f,f.tempScope=e.$new(!1,e),f.bindingFactory=new a(e,b,f.epBindingInfo,(!0),{onValueChanged:function(a){f.value=a}}),f.eventColumn=c.$on("EP_BINDING_COLUMN_VALUE_CHANGED",function(a,b){b.viewId===f.epBindingInfo.epBinding.view&&(f.epBindingInfo.value=b.newValue)}),f.tempScope.$on("$destroy",function(){f.eventColumn()})),f.epBindingInfo.value};return e}])}(),function(){"use strict";function a(a,b,c,d,e){function f(a){c.showCustomDialog({title:"Data Binding",templateUrl:"src/components/ep.binding/controls/ep-binding-selector.html",icon:"fa fa-cogs fa-2x",binding:"",buttons:[{text:"Ok",action:function(b){a&&a(b.binding)}},{text:"Cancel",isCancel:!0}]})}function g(a){var b;if(!a)return b;if(angular.isString(a)){var c=a.trim();if(b={view:c,column:""},0===c.indexOf("[")&&c.lastIndexOf("]")===c.length-1){var d=c.match(/\[(.*?)\]/g);d.length>1?b={view:d[0].replace("[","").replace("]",""),column:d[1].replace("[","").replace("]","")}:1===d.length&&(b.view=d[0].replace("[","").replace("]",""))}else{var e=c.split(".");e.length&&(b={view:e[0],column:e[1]})}}else b=a;return b}function h(c){c&&!i.onViewRowChanged&&(i.onViewRowChanged=a.$on("EP_BINDING_COMMIT",function(a,c){b.debug("[EP_BINDING_COMMIT] ViewId:"+c.viewId)}),i.onViewRowChanged=a.$on("EP_BINDING_ROLLBACK",function(a,c){b.debug("[EP_BINDING_ROLLBACK] ViewId:"+c.viewId)}),i.onViewRowChanged=a.$on("EP_BINDING_VIEW_ADDED",function(a,c){var d=e.current().view(c.viewId),f="ViewId:"+c.viewId+";Row:"+d.row()+";Count:"+(d.data()?d.data().length:0)+";Action:"+c.action;b.debug("[EP_BINDING_VIEW_ADDED] "+f)}),i.onViewRowDeleted=a.$on("EP_BINDING_VIEW_ROW_ADDED",function(a,c){var d=e.current().view(c.viewId),f="ViewId:"+c.viewId+";Row:"+d.data.row+";Count:"+(d.data()?d.data().length:0);b.debug("[EP_BINDING_VIEW_ROW_ADDED] "+f)}),i.onViewRowDeleted=a.$on("EP_BINDING_VIEW_ROW_DELETED",function(a,c){var d=e.current().view(c.viewId),f="ViewId:"+c.viewId+";Row:"+d.data.row+";Count:"+(d.data()?d.data().length:0);b.debug("[EP_BINDING_VIEW_ROW_DELETED] "+f)}),i.onViewRowChanged=a.$on("EP_BINDING_VIEW_ROW_CHANGED",function(a,c){b.debug("[EP_BINDING_VIEW_ROW_CHANGED] ViewId:"+c.viewId+";Row:"+c.view.row()+";PrevRow:"+c.prevRow)}),i.onViewRowChanged=a.$on("EP_BINDING_COLUMN_VALUE_CHANGED",function(a,c){var d=e.current().view(c.viewId),f=d.__state,g="ViewId:"+c.viewId+";Row:"+c.row+";Orig. Value:"+(c.originalValue||"")+";Old Value:"+c.oldValue+";New value:"+c.newValue+";isDirty:"+d.isDirty()+";hasModified:"+d.hasModified()+";Modified rows:"+Object.keys(f.modifiedRows).length;b.debug("[EP_BINDING_COLUMN_VALUE_CHANGED] "+g),angular.forEach(f.modifiedRows,function(a){b.debug("  row:"+a+";state:"+f.modified[a].state+";columns:"+JSON.stringify(f.modified[a].columns))})})),c||angular.forEach(i,function(a){a()})}var i={};return{selectBinding:f,parseBinding:g,logBindingEvents:h}}a.$inject=["$rootScope","$log","epModalDialogService","epUtilsService","epTransactionFactory"],angular.module("ep.binding").service("epBindingService",a)}(),function(){"use strict";function a(a){var b=function(b,c){function d(a,b){void 0===b&&(b=[]),K.id=a,K.data=b,K.row=K.data&&K.data.length?0:-1,K.original=null,e()}function e(){K.query={},K.isDirty=!1,K.modifiedRows={},K.addedRows={},K.deletedRows=[],K.hasModified=!1,K.hasAdded=!1,K.hasDeleted=!1,K.modified=Array(K.data.length)}function f(){return K.id}function g(){return K.data}function h(a){var b=void 0!==a?a:K.row;if(!(b<0||!K.data||K.data.length<1||b>K.data.length))return K.data[b]}function i(a,b){if(K.original||(K.original=angular.merge([],K.data)),K.data&&!(K.data.length<1))if(angular.isObject(a))for(var c=0;c<K.data.length;c++)K.data[c]===a&&(K.data[c]=b);else a>-1&&a<K.data.length&&(K.data[a]=b)}function j(a){if(K.data&&!(K.data.length<1)){var b=-1;if(angular.isObject(a))for(var c=0;c<K.data.length;c++)K.data[c]===a&&(b=c);else b=a;return b>-1&&b<K.data.length?K.modified[b]:void 0}}function k(){return K.data&&K.data.length}function l(b){if(void 0!==b){var c=K.row;K.row=b;var d=this;a.$emit("EP_BINDING_VIEW_ROW_CHANGED",{viewId:K.id,view:d,prevRow:c})}return K.row}function m(b){var c=J(b);if(c!==-1){K.original||(K.original=angular.merge([],K.data)),void 0!==K.addedRows[c]?(delete K.deletedRows[c],delete K.addedRows[c],K.hasAdded=Object.keys(K.addedRows).length>0):(K.deletedRows[K.deletedRows.length]=K.data[c],n(c)),K.data.splice(c,1),K.isDirty=!0,K.hasDeleted=Object.keys(K.deletedRows).length>0;var d=this;a.$emit("EP_BINDING_VIEW_ROW_DELETED",{viewId:K.id,view:d,row:c})}return c}function n(a){var b=K.addedRows;angular.forEach(Object.keys(b),function(b){b>a&&(K.addedRows[b-1]=K.addedRows[b-1],delete K.addedRows[b])})}function o(b,c){K.original||(K.original=angular.merge([],K.data)),angular.isArray(K.data)||(K.data=[]),K.data.push(b);var d=K.data.length-1;K.addedRows[d]=d,K.hasAdded=!0;var e=this;return a.$emit("EP_BINDING_VIEW_ROW_ADDED",{viewId:K.id,view:e,row:d}),c===!0&&e.row(d),d}function p(a){var b=void 0===a?K.row:a;if(void 0===K.addedRows[b])return angular.forEach(Object.keys(K.addedRows),function(a){a<b&&b++}),angular.forEach(Object.keys(K.deletedRows),function(a){a<b&&b--}),b}function q(b,c){var d=K.row,e=K.data[d];if(arguments.length>1){K.original||(K.original=angular.merge([],K.data));var f=e[b];if(e[b]!==c){e[b]=c,K.isDirty=!0;var g="";if(void 0===K.addedRows[d]&&void 0===K.deletedRows[d]){var h=K.modified[d]||{state:"M",columns:{}},i=p(d);void 0!==i&&(g=K.original[i][b]),Object.keys(h.columns).length>0&&e[b]===g?delete h.columns[b]:h.columns[b]=c,h.state=Object.keys(h.columns).length>0?"M":"",K.modified[d]=""===h.state?void 0:h,K.modifiedRows[d]=d,""===h.state&&delete K.modifiedRows[d],K.hasModified=Object.keys(K.modifiedRows).length>0}a.$emit("EP_BINDING_COLUMN_VALUE_CHANGED",{viewId:K.id,row:K.row,newValue:c,oldValue:f,Value:g})}}return e[b]}function r(a,b){this.columnValue(a,b)}function s(a){return this.columnValue(a)}function t(){K.original&&(K.data=angular.merge([],K.original)),e(),a.$emit("EP_BINDING_ROLLBACK",{viewId:K.id})}function u(){K.original&&(K.original=angular.merge([],K.data)),e(),a.$emit("EP_BINDING_COMMIT",{viewId:K.id})}function v(){return K.hasModified}function w(){return K.isDirty}function x(){var a=[];return angular.forEach(Object.keys(K.modifiedRows),function(b){a.push(K.data[b])}),a}function y(a){var b=void 0===a?K.row:a;return void 0!==K.modified[b]&&"M"===K.modified[b].state}function z(){var a=[];return angular.forEach(Object.keys(K.addedRows),function(b){a.push(K.data[b])}),a}function A(){var a=x().concat(z());return a}function B(){var a=[];return angular.forEach(K.deletedRows,function(b){a.push(b)}),a}function C(){return K.hasAdded}function D(){return K.hasDeleted}function E(){return K.hasAdded||K.hasModified||K.hasDeleted}function F(a,b,c){if(K.data&&K.data.length&&a)for(var d=0;d<K.data.length;d++){var e=K.data[d];if(a(e))return b&&this.row(d),c===!0?d:e}if(c===!0)return-1}function G(a,b){return a&&(b===!0?angular.merge(K.userData,a):K.userData=a),K.userData||{}}function H(a){return a&&(K.query=a),K.query}function I(a){d(this.id(),a||[])}function J(a){var b=-1;if(!K.data||K.data.length<1)return b;if(angular.isObject(a)){for(var c=0;c<K.data.length;c++)if(K.data[c]===a)return c}else b=a;return b>-1&&b<K.data.length?b:-1}var K={userData:{}};return d(b,c),{__state:K,id:f,reload:I,data:g,dataRow:h,row:l,columnValue:q,set:r,get:s,addRow:o,deleteRow:m,isDirty:w,hasData:k,hasModified:v,hasAdded:C,hasDeleted:D,hasChanges:E,modifiedRows:x,modifiedState:j,addedRows:z,deletedRows:B,changedRows:A,rowModified:y,findRow:F,replaceDataRow:i,rollback:t,commit:u,userData:G,query:H}};return b}a.$inject=["$rootScope"],angular.module("ep.binding").factory("epDataViewFactory",a)}(),function(){"use strict";function a(a,b,c){function d(a){return new g(a)}function e(){return f||(f=d("default")),f}var f,g=function(d){function e(){return p}function f(c,d){var e=this,f="CREATE",g=e.view(c);return g?(g.reload(d),f="RELOAD"):g=q[c]=new b(c,d),a.$emit("EP_BINDING_VIEW_ADDED",{viewId:c,action:f}),g.data()&&g.data().length&&a.$emit("EP_BINDING_VIEW_ROW_CHANGED",{viewId:g.id(),view:g}),q[c]}function g(a){return q[a]}function h(){var a=[];return angular.forEach(q,function(b,c){a.push(c)}),a}function i(){var a=[];return angular.forEach(q,function(a){a.rollback()}),a}function j(a,b,d){var e,f=this,g=f.view(a);if(g){if(d||(d={}),"data"===d.data)e=f.add(b,g.data());else if("record"===d.data){var h=g.dataRow();e=f.add(b,h?[h]:[])}else e="none"===d.data?f.add(b,[]):f.add(b,[]);var i=c.get(a);i&&c.addAlias(a,b)}return e}function k(a){this.view(a)&&delete q[a]}function l(){q={}}function m(a,b){var c=[];return angular.forEach(q,function(d){o(d.id(),a,b)&&c.push({id:d.id(),data:d.data(),userData:d.userData(),row:d.row()})}),c}function n(a,b,c){if(a&&angular.isArray(a)){var d=this;angular.forEach(a,function(a){if(o(a.id,b,c)){var e=d.add(a.id,a.data);e.userData(a.userData,!1),a.row&&e.row(a.row)}})}}function o(a,b,c){return!(b&&b.indexOf(a)>=0)&&(!c||c.indexOf(a)>=0)}var p=d,q={};return{id:e,add:f,clone:j,remove:k,clear:l,view:g,views:h,rollback:i,get:m,set:n}};return{current:e,newTransaction:d}}a.$inject=["$rootScope","epDataViewFactory","epBindingMetadataService"],angular.module("ep.binding").factory("epTransactionFactory",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(){return B=!0,d.openDatabase("ep-meta-cache-db").then(function(a){var b=a.getObjectStore("ep-meta-cache");return b.getAll()}).then(function(b){return b.forEach(function(a){var b=j(a.cacheId);b[a.key]=a}),a.debug("Cache service initialization complete."),!0})}function h(a){return angular.isFunction(a)?a.apply(null):a}function i(a){return a=h(a),z[a]=z[a]||{},z[a]}function j(a){return a=h(a),A[a]=A[a]||{},A[a]}function k(a,c,d,e){var f=i(a);c=h(c);var g=b.defer();if(e)l(g,c,null,d);else{var j=f[c];j?g.resolve(j.value):w(a,c).then(function(b){b?(f[c]=b,g.resolve(b.value)):l(g,c,a,d)},function(){l(g,c,a,d)})}return g.promise}function l(b,c,d,e){function f(a){return d&&x(d,c,a),a}var g=e(c);g.then?g.then(function(a){b.resolve(f(a))},function(d){a.warn("An error occurred while invoking service call with key "+c+". "+d),b.reject(d)}):b.resolve(f(g))}function m(){var a=Object.keys(z);if(a.length){var b=a[0];n(b).then(function(){m()})}}function n(b){return b=h(b),z[b]&&delete z[b],A[b]&&delete A[b],d.openDatabase("ep-meta-cache-db",1).then(function(a){return a.getObjectStore("ep-meta-cache").deleteByIndex("cacheId",b)},function(b){a.error(b)}),d.openDatabase("ep-cache-db",1).then(function(a){return a.getObjectStore("ep-cache").deleteByIndex("cacheId",b).then(function(a){return c.$emit(e.SHELL_CACHE_DELETED_EVENT,{cacheId:b}),a})},function(b){a.error(b)})}function o(a,b){a=h(a);var f=i(a);b=h(b),f&&f[b]&&delete f[b];var g=j(a);return g[b]&&delete g[b],d.openDatabase("ep-meta-cache-db",1).then(function(a){return a.getObjectStore("ep-meta-cache")["delete"](b)}),d.openDatabase("ep-cache-db",1).then(function(d){return d.getObjectStore("ep-cache")["delete"](b).then(function(){c.$emit(e.SHELL_CACHE_DATA_DELETED_EVENT,{cacheId:a,key:b})})})}function p(a,b,c){var d=i(a),e=d[b];return angular.isUndefined(e)&&!angular.isUndefined(c)&&(e=d[b]={key:b,cacheId:a,value:c,cacheTimestamp:new Date}),e.value}function q(a){var c=b.defer();return B?c.resolve(r(a)):g().then(function(){c.resolve(r(a))}),c.promise}function r(a){var b=[];if(a){a=h(a);var c=j(a);b=Object.keys(c)}else{var d=Object.keys(A);b=d.reduce(function(a,b){return a.concat(r(b))},b)}return b}function s(a,c){var d=b.defer();return B?d.resolve(t(a,c)):g().then(function(){d.resolve(t(a,c))}),d.promise}function t(a,b){var c={};return a?(c=j(a),b&&c.forEach(function(a){a.userData=b(a)})):(c={},Object.keys(A).forEach(function(a){c[a]=t(a,b)})),c}function u(a,c){var d=i(a),e=d[c];if(e){var f=b.defer();return f.resolve(e),f.promise}return w(a,c)}function v(b,c,e){var f=null;f=e.key&&e.cacheId&&e.cacheTimestamp?e:{key:c,cacheId:b,value:e,cacheTimestamp:new Date};var g=i(b);g[c]=f;var h={key:f.key,cacheId:f.cacheId,cacheTimestamp:f.cacheTimestamp},k=j(b);return k[f.key]=h,d.openDatabase("ep-meta-cache-db",1).then(function(a){var b=a.getObjectStore("ep-meta-cache");return b.put(h)}),d.openDatabase("ep-cache-db",1).then(function(a){var b=a.getObjectStore("ep-cache");return b.put(f)},function(b){a.error(b),a.warn("An error occured that prevented data from being stored in the cache. This is probably caused by two or more open tabs sending contending commands to the underlying database. If this warning occurs frequently, then it could temporarily degrade performance of the application.")})}function w(c,e){var f=b.defer();return d.openDatabase("ep-cache-db",1).then(function(a){var b=a.getObjectStore("ep-cache");return b.get(e).then(function(a){a&&x(c,e,a),f.resolve(a)},f.reject)},function(b){a.warn("An error occured that prevented data from being retreived from the cache. This is probably caused by two or more open tabs sending contending commands to the underlying database. If this warning occurs frequently, then it could temporarily degrade performance of the application."),f.reject(b)}),f.promise}function x(b,d,g){if(b=h(b),f.options.enableCache){var k=i(b);d=h(d);var l=null;l=g.key&&g.cacheId&&g.cacheTimestamp?g:{key:d,cacheId:b,value:g,cacheTimestamp:new Date},k[d]=l;var m=j(b);m[d]={key:l.key,cacheId:l.cacheId,cacheTimestamp:l.cacheTimestamp},v(b,d,g).then(function(){c.$emit(e.SHELL_DATA_CACHED_EVENT,{cacheId:b,key:d,data:l.value})},function(b){a.warn("Unable to open cache database: "+b)})}}function y(a){return o("ep-cache",a)}var z={},A={},B=!1;return d.createSchema("ep-cache-db").defineVersion(1,function(a){var b=a.createObjectStore("ep-cache",{keyPath:"key"});b.createIndex("cacheId","cacheId",{unique:!1})}),d.createSchema("ep-meta-cache-db").defineVersion(1,function(a){var b=a.createObjectStore("ep-meta-cache",{keyPath:"key"});b.createIndex("cacheId","cacheId",{unique:!1})}),{cacheServiceCall:k,deleteAllCaches:m,deleteCache:n,deleteCacheKey:o,deleteKey:y,save:v,load:w,savePersistedCacheValue:v,loadPersistedCacheValue:w,getCacheDataWithFallback:u,get:p,set:x,getCachedData:p,cacheData:x,getExistingMetadata:s,getExistingKeys:q,initialize:g}}a.$inject=["$log","$q","$rootScope","epIndexedDbService","epShellConstants","epShellConfig"],angular.module("ep.cache").service("epCacheService",a)}();var app=angular.module("ep.card");app.directive("epCard",function(){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"src/components/ep.card/ep-card-template.html"}}),app.directive("epCardBlock",function(){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"src/components/ep.card/ep-card-block-template.html",link:function(a,b,c){"true"===c.contrast&&(b[0].className=b[0].className+" card-block-contrast")}}}),app.directive("epCardTitle",function(){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"src/components/ep.card/ep-card-title-template.html"}}),function(){"use strict";function a(a,b,c,d,e,f){function g(a){return q[a]||p}function h(a){return angular.element(a.state.chartElement).width()}function i(a){var b=angular.element(a.state.theElement),c=$(window).height()-b.offset().top,d=a.settings.height;if("view"===d||void 0===d){var e=angular.element("#viewContainer");e.length&&(c=e.height()-b.offset().top)}else if(angular.isNumber(d))c=d;else if(angular.isFunction(d))c=d();else if(angular.isString(d)||d instanceof HTMLElement){var f=$(d);f.length&&(c=f.outerHeight(!0))}var g=a.settings.showOptions!==!1?-25:30;return g=angular.isFunction(a.settings.heightOffset)?a.settings.heightOffset(c):a.settings.heightOffset?a.settings.heightOffset:g,c+=g}function j(a,b){var d=i(a),e=angular.element(a.state.chartElement);e&&e.length&&e.height(d),b&&a.state.chart&&(a.state.chart.resize({height:d}),c.$emit(f.CHART_HAS_RESIZED_EVENT,{settings:a.settings,id:a.state.chartId})),a.state.chartHeight=d,a.state.chartWidth=e.width()}function k(c){var e=function(){$(c.state.theElement).is(":visible")?l(c):b(function(){e(c)},200)};try{e()}catch(f){a.error(f),d.hideProgressIndicator()}}function l(a){function b(a){if(0===a.index)return 0;var b=0;angular.forEach(c.data.yValues,function(c){b+=c[a.index+1]});var d=a.value/b*30;return d<2&&(d=2),Math.round(d)}a.menuLegends=void 0,d.showProgressIndicator();var c=a.settings;j(a,!1);var e=140,f="date"===c.xAxis.type,h=g(c.chartType),i=c.data.yValues&&c.data.yValues.length>1;a.state.chartType=h,a.state.optStackedDisplay=c.stacked!==!1&&i&&h.stackable,a.state.optDataFmtDisplay="pie"===h.category,a.state.optZoomDisplay=c.zoom!==!1&&"pie"!==h.category&&!h.rotated,a.state.legendSupported=c.legend!==!1&&(h.legend===!0||i),a.state.optLegendListDisplay=a.state.optLegendDisplay=a.state.legendSupported;var k="pie"===h.category?a.settings.data.xValues.length:a.settings.data.yValues.length;a.state.criteriaHideLegend=a.settings.autoHideLegends!==!1&&(k>50||a.state.chartHeight<t),a.state.criteriaHideLegend&&(a.state.optLegend=!1,a.state.optLegendDisplay=!1);var l;!i&&h.color&&(l=function(a,b){return r[b.index%r.length]});var n,o=[];if("pie"===h.category){if(o=c.data.xValues,f){var p=!1;c.data.xValues.length<=1?p=!0:(angular.isDate(c.data.xValues[0][0])||angular.isDate(c.data.xValues[1][0]))&&(p=!0),p&&(o=[],angular.forEach(c.data.xValues,function(a){if(angular.isDate(a[0])){var b=moment(a[0]).format("YYYY, MMMM DD");o.push([b,a[1]])}else o.push(a)}))}}else if("LineAndBarChart"===h.value&&c.data.yValues.length>=2){var q=c.data.yValues[0][0];n={},n[q]="line",o.push(c.data.yValues[0]),o.push(c.data.yValues[1])}else angular.forEach(c.data.yValues,function(a){o.push(a)});var u;if(f)e=80,u="%Y-%m-%d","year"===c.dateUnit?u="%Y":"month"===c.dateUnit&&(u="%Y-%m");else{if("pie"!==h.category){var v=_.find(c.data.xValues,function(a){return(a?a.length:0)>15});v||(e=100),a.state.chartHeight<200&&(e=80)}u=function(b){var d=a.state.chartHeight<200?10:20,e=c.data.xValues[b+1];return e&&e.length>d&&(e=e.substring(0,d)+"..."),e}}var w,x=f&&"pie"!==h.category?"timeseries":"category";"timeseries"===x&&(o.push(c.data.xValues),w=c.data.xValues[0]);var y;"BubbleChart"===h.value&&(y={r:i?b:15});var z={bindto:a.state.chartElement[0],data:{x:w,columns:o,type:h.ctype,types:n,color:l},point:y,axis:{rotated:h.rotated===!0,x:{type:x,tick:{rotate:75,multiline:!1,format:u},height:e,label:{text:c.xAxis.label,position:h.rotated!==!0?"outer-center":"outer-middle"}},y:{label:{text:c.yAxis.label,position:h.rotated!==!0?"outer-middle":"outer-center"}}},bar:{width:{ratio:.8}},pie:{label:{format:function(b,c){return"percent"===a.state.optDataFmt?(100*c).toFixed(2)+"%":b}}},donut:{label:{format:function(b,c){return"percent"===a.state.optDataFmt?(100*c).toFixed(2)+"%":b}}},grid:{x:{show:!1},y:{show:!0}},legend:{show:a.state.legendSupported&&a.state.optLegend},zoom:{enabled:a.state.optZoomDisplay&&a.state.optZoom},subchart:{show:a.state.optZoomDisplay&&a.state.optZoom&&a.state.chartHeight>s},onrendered:function(){m(a)}};a.state.chart=c3.generate(z)}function m(a){b(function(){a.state.whenRendered=new Date,d.hideProgressIndicator()})}function n(a){a.state.$chartElement.is(":visible")&&(b.cancel(a.state.timeoutResize),a.state.timeoutResize=b(function(){var b=!1,c=h(a);Math.abs(c-a.state.chartWidth)>20&&(a.state.chartWidth=c,b=!0);var d=i(a);Math.abs(d-a.state.chartHeight)>20&&(b=!0),b&&a.checkShowLegendOption(),j(a,!0)},250))}function o(a,g){a.state={theElement:g,chartElement:angular.element(g).find("#chartc3"),$chartElement:angular.element(angular.element(g).find("#chartc3")),chart:null,chartId:a.settings.id||a.$id,chartHeight:-1,selectAllLegend:!0,optStacked:"grouped",optStackedDisplay:!1,optLegendListDisplay:!1,optLegendDisplay:!1,optLegend:!0,optDataFmtDisplay:!1,optDataFmt:"percent",optZoomDisplay:!1,optZoom:!1},a.$watch("settings",function(b){b&&(a.optZoom=!1,k(a))}),a.fnOptStackedChanged=function(){var b=[];"stacked"===a.state.optStacked&&angular.forEach(a.state.chart.data(),function(a){b.push(a.id)}),a.state.chart.groups([b])},a.fnOptLegendChanged=function(b){a.state.optLegend=!a.state.optLegend,d.showProgressIndicator(),a.state.optLegend?a.state.chart.legend.show():a.state.chart.legend.hide(),b||(a.state.previousOptLegend=!1)},a.fnOnLegendList=function(){if(void 0===a.menuLegends){a.menuLegends=[];var b=[],c=a.state.chart.data.colors();angular.forEach(a.state.chart.data(),function(a){b.push({id:a.id,caption:a.id,checked:!0,color:c[a.id]+"",style:{backgroundColor:c[a.id].toString()}})}),a.menuLegends=b,a.updateMenuLegendState()}else a.state.whenRendered>a.state.whenMenuLegendState&&a.updateMenuLegendState()},a.fnOnLegendChanged=function(b){b.checked=!b.checked,a.state.chart.toggle(b.id)},a.fnLegendSelectAllChanged=function(){var b=[];angular.forEach(a.menuLegends,function(c){b.push(c.id),c.checked=a.state.selectAllLegend}),a.state.selectAllLegend?a.state.chart.show(b):a.state.chart.hide(b)},a.updateMenuLegendState=function(){a.menuLegends&&(angular.forEach(a.menuLegends,function(b){b.checked=a.state.chart.internal.isTargetToShow(b.id)}),a.state.whenMenuLegendState=new Date)},a.fnOptDataFmtChanged=function(){a.state.chart.show()},a.fnOptZoomChanged=function(){a.state.chart.destroy(),k(a),a.state.optZoomTip=a.state.chartHeight>s,a.state.optZoomTip&&b(function(){a.state.optZoomTip=!1},7e3)},a.checkShowLegendOption=function(){if(a.state.legendSupported&&a.settings.autoHideLegends!==!1){var b="pie"===a.state.chartType.category?a.settings.data.xValues.length:a.settings.data.yValues.length;a.state.criteriaHideLegend=b>50||a.state.chartHeight<t,a.state.criteriaHideLegend?(a.state.optLegendDisplay=!1,a.state.optLegend&&(a.state.previousOptLegend=!0,a.fnOptLegendChanged(!0))):(a.state.optLegendDisplay=!0,!a.state.optLegend&&a.state.previousOptLegend&&a.fnOptLegendChanged(!0),a.state.previousOptLegend=!1)}},d.registerViewEvent("ep-resize-chart"+a.$id,e.SHELL_SIZE_CHANGE_EVENT,function(){n(a)}),c.$on(f.CHART_RESIZE_EVENT,function(b){!angular.isString(b)||b&&b!==a.state.chartId||n(a)})}var p={ctype:"bar"},q={LineChart:_.extend(_.clone(p),{name:"Line",value:"LineChart",ctype:"line"}),SplineChart:_.extend(_.clone(p),{name:"Spline",value:"SplineChart",ctype:"spline"}),ScatterChart:_.extend(_.clone(p),{name:"Scatter",value:"ScatterChart",ctype:"scatter"}),BubbleChart:_.extend(_.clone(p),{name:"Bubble",value:"BubbleChart",ctype:"scatter",point:!0,color:!0}),StackedAreaChart:_.extend(_.clone(p),{name:"Stacked Area",value:"StackedAreaChart",ctype:"area-spline",isStacked:!0,isArea:!0,stackable:!0}),ColumnChart:_.extend(_.clone(p),{name:"Column",value:"ColumnChart",ctype:"bar",color:!0,stackable:!0}),HorizontalBarChart:_.extend(_.clone(p),{name:"Horizontal Bar",value:"HorizontalBarChart",ctype:"bar",rotated:!0,color:!0,stackable:!0}),LineAndBarChart:_.extend(_.clone(p),{name:"Line and Bar",value:"LineAndBarChart",ctype:"bar"}),PieChart:_.extend(_.clone(p),{name:"Pie",value:"PieChart",ctype:"pie",legend:!0,category:"pie"}),DoughnutChart:_.extend(_.clone(p),{name:"Doughnut",value:"DoughnutChart",ctype:"donut",legend:!0,category:"pie"})},r=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],s=400,t=350;return{restrict:"E",replace:!0,templateUrl:"src/components/ep.chart/ep-chart-c3.html",scope:{settings:"="},compile:function(){return{pre:angular.noop,post:o}}}}a.$inject=["$log","$timeout","$rootScope","epShellService","epShellConstants","epChartConstants"],angular.module("ep.chart").directive("epChartC3",a)}(),function(){"use strict";angular.module("ep.chart").constant("epChartConstants",{CHART_RESIZE_EVENT:"EP_CHART_RESIZE_EVENT",CHART_HAS_RESIZED_EVENT:"EP_CHART_HAS_RESIZED_EVENT"})}(),function(){"use strict";function a(){return{restrict:"EA",replace:!0,scope:{ngModel:"=",position:"@",size:"@",closeOnSelect:"@",width:"@",applyColorToBtn:"@",icon:"@"},templateUrl:"src/components/ep.color.selector/color_selector.html"}}angular.module("ep.color.selector").directive("epColorSelector",a)}(),function(){"use strict";angular.module("ep.color.tile").directive("epColorTile",function(){return{restrict:"E",scope:{title:"@",description:"@",fineprint:"@",icon:"@",color:"@",colorclass:"@"},templateUrl:"src/components/ep.color.tile/ep-color-tile.html"}})}(),function(){"use strict";angular.module("ep.console").provider("epConsoleConfig",function(){var a={};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.console",a),a}]})}(),function(){"use strict";function a(a,b,c){function d(){a.getInstance=function(b){return{log:e(a.log,b,"info"),info:e(a.info,b,"info"),warn:e(a.warn,b,"warning"),debug:e(a.debug,b,"debug"),error:e(a.error,b,"error")}},a.log=e(a.log,"","info"),a.info=e(a.info,"","info"),a.warn=e(a.warn,"","warning"),a.debug=e(a.debug,"","debug"),a.error=e(a.error,"","error")}function e(a,b,c){return function(){var d=[].slice.call(arguments),e=moment().format();a.apply(null,d),l.length>m+100&&l.splice(0,100),l.push({message:d[0],type:c,timestamp:e,context:b})}}function f(){l.length=0}function g(c){var d;if(angular.module("ep.datagrid")&&(d=b.getService("epDataGridService")),!d)return void a.warn("ep.datagrid module is not available for console. Verify that it is included");var e={size:"fullscreen",windowClass:"ep-console-dialog",title:"Console log output",icon:"fa fa-cogs fa-2x",buttons:[{isCancel:!1,id:"clear_btn",value:"clear",text:"Clear logs",action:function(){f()}},{isDefault:!1,text:"Ok",type:"primary"}]};b.copyProperties(c,e);var g={FormatString:"MM/DD/YY hh:mm:ss"},i={metadata:{columns:[{sName:"icon",sTitle:"",width:10,orderable:!1,align:"center"},{mData:0,sName:"message",sTitle:"Message"},{mData:1,sName:"type",sTitle:"Type",widthFactor:.6},{mData:2,sName:"timestamp",sTitle:"TimeStamp",sDataType:"DateTime",oFormat:g},{mData:3,sName:"context",sTitle:"Context"}]},fnOnRenderGridCell:function(a,b,c,d,e,f){var g=f;return e&&e.userColumnDef&&"icon"===e.sName&&(g="error"===c[1]?"<div class='fa fa-lg fa-exclamation-circle ep-console-error'></div>":"warning"===c[1]?"<div class='fa fa-lg fa-exclamation-circle ep-console-warning'></div>":"<div class='fa fa-lg fa-info ep-console-info'></div>"),g}},j=h().map(function(a){return _.values(a)});d.showGridDialog(e,i,j)}function h(){return l}function i(a){l=a}function j(){return h().length>0}function k(){}var l=[],m=c.maxCount||1e3;return d(),{initialize:k,messages:h,restoreLog:i,hasLog:j,clearLog:f,showLog:g}}a.$inject=["$log","epUtilsService","epConsoleConfig"],angular.module("ep.console").service("epConsoleService",a)}(),function(){"use strict";function a(a,b,c,d,e){return{restrict:"A",scope:{epCustomData:"="},link:function(a,b,f){a.state={scope:a,id:f.id,element:b},a.epCustomizationInfo={kind:"ep-customizable-freeform",element:a.state.element,id:a.state.id,scope:a,parentScope:a.$parent,url:d.url(),data:a.epCustomData,index:a.$parent.$index,isCustomizeActive:!1,api:{onCustomizeActivate:function(b){a.epCustomizationInfo.isCustomizeActive=b===!0,a.activeClass=a.epCustomizationInfo.isCustomizeActive?"ep-customize-active":"",$(a.state.element).removeClass("ep-customize-active").addClass(a.activeClass)}}};var g=e.getCustomization(a.state.id);if(g){var h=angular.element(a.state.element),i=angular.element('<ep-customization-container ep-customization-info="epCustomizationInfo"></ep-customization-container>');angular.element(h).append(c(i)(a))}}}}a.$inject=["$log","$timeout","$compile","$location","epCustomizationService"],angular.module("ep.customization").directive("epCustomizable",a)}(),function(){"use strict";function a(a,b,c){return{replace:!0,restrict:"E",templateUrl:"src/components/ep.customization/ep-customization-container.html",scope:{epCustomizationInfo:"="},link:function(b,d){b.state={element:d,style:"",controls:[]};var e=c.getCustomization(b.epCustomizationInfo.id);if(e){if(e.$container){if(b.state.style=e.$container.style,b.state.style)try{b.$eval("scope.state.style = "+b.state.style)}catch(f){a.error("error during execution of customization style for "+b.epCustomizationInfo.id)}if(b.state.script=e.$container.script,b.state.script){var g;try{g=new Function(b.state.script),g()}catch(f){a.error("error during execution of customization script for "+b.epCustomizationInfo.id+"\nerror:"+f.message)}}}var h=0;angular.forEach(e,function(a,c){if(c&&"$container"!==c){var d={id:"ep-custom_"+a.id,props:a};if("html"===a.controlKind)d.type="html",d["class"]="col-xs-12 col-sm-8 col-md-6 col-lg-3";else if("editor"===a.controlKind&&a.binding)if(0!==a.binding.indexOf("$custom-data."))d.type="binding-editor",d.binding=a.binding;else if(b.epCustomizationInfo.data){d.type="editor-control",d.binding=a.binding.replace("$custom-data.","epCustomizationInfo.data."),d.columnName=a.binding.replace("$custom-data.","");var e=a.binding.replace("$custom-data.","");d.data=b.epCustomizationInfo.data[e]}d.type&&(void 0!==a.seq?d.seq=a.seq:d.seq=h+1,d.seq>h&&(h=d.seq),d.props.sizeClassTarget=".ep-custom-element",b.state.controls.push(d))}}),b.orderByControls=function(a){return a.seq},b.handleDrop1=function(a,c){if(a&&a.dragItem&&c){var d=a.dragItem,e=$(c).attr("id"),f=_.find(b.state.controls,function(a){return a.id===e});f&&(d.seq>=f.seq?(d.seq=f.seq,angular.forEach(b.state.controls,function(a){a.seq>f.seq&&a.seq++}),f.seq++):(angular.forEach(b.state.controls,function(a){a.seq<f.seq&&a.seq--}),d.seq=f.seq-1),angular.forEach(b.state.controls,function(a){a.props.seq=a.seq}))}b.$apply()}}}}}a.$inject=["$log","$timeout","epCustomizationService"],angular.module("ep.customization").directive("epCustomizationContainer",a)}(),function(){"use strict";function a(a,b,c,d,e){return{replace:!1,restrict:"E",scope:{customizationData:"="},templateUrl:"src/components/ep.customization/ep-customization-eptable.html",
link:function(a){function b(){a.customization&&a.customization.api.onCustomizeActivate(!1),h=void 0,a.customization=null,a.column={},a.loadingColumns=!0,c(function(){if(i=[],a.customization=a.customizationData.customization,a.customization.ctrl.epBinding){var b=d.getView(a.customization.ctrl.epBinding);b.api().hasData()&&(h=b.api().dataRow(),angular.forEach(h,function(a,b){i.push({label:b,value:b})}))}a.changes=e.getCustomization(a.customization.id)||{},a.columnList={caption:"Columns",name:"Columns",editor:"select",updatable:!0,list:i,sizeClass:"col-lg-12",fnOnChange:function(b,c){a.column.name=c.fnGetCurrentValue(),a.curColCtx=_.find(a.customization.ctrl.columns,function(b){return b.name===a.column.name}),a.curColCtx?a.curColProps={hidden:a.curColCtx.hidden===!0,caption:a.curColCtx.caption,readonly:!1}:a.curColProps={hidden:!1,caption:a.column.name,readonly:!1}}},f(),a.customization.api.onCustomizeActivate(!0),a.loadingColumns=!1},200)}function f(){a.curColProps={hidden:!1,caption:"",readonly:!1,binding:""}}function g(b,c){a.changes[a.column.name]||(a.changes[a.column.name]={}),a.changes[a.column.name][b]=c}a.changes={};var h,i=[];a.customization=null,a.column={},f(),a.curColCtx={},a.colCaption={caption:"Caption",editor:"text",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(b,c){a.curColCtx&&(a.curColCtx.caption=c.fnGetCurrentValue(),g("caption",a.curColCtx.caption),a.customization.api.onChange("captions"))}},a.colHidden={caption:"Hidden",editor:"checkbox",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(b,c){a.curColCtx&&(a.curColCtx.hidden=c.fnGetCurrentValue(),g("hidden",a.curColCtx.hidden===!0),a.customization.api.onChange("hidden"))}},a.colReadOnly={caption:"Read-only",editor:"checkbox",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(b,c){a.curColCtx&&(a.curColCtx.readonly=c.fnGetCurrentValue(),g("updatable",a.curColCtx.readonly!==!0))}},a.addColumn=function(){var b=a.column.name,c={name:b,caption:b,columnIndex:b,isCustom:!0};a.changes[b]=c,a.customization.api.onColumnAdd(c)},a.removeColumn=function(){a.customization.api.onColumnRemove(a.curColCtx),delete a.changes[a.column.name],a.curColCtx=null},a.$watch("customizationData",function(c){void 0!==c&&(b(),a.customizationData.fnGetChanges=function(){return a.changes})})}}}a.$inject=["$compile","$location","$timeout","epBindingService","epCustomizationService"],angular.module("ep.customization").directive("epCustomizationEptable",a)}(),function(){"use strict";function a(a,b,c,d,e,f){return{replace:!1,restrict:"E",scope:{customizationData:"="},templateUrl:"src/components/ep.customization/ep-customization-freeform.html",link:function(g){function h(){g.customization&&g.customization.api.onCustomizeActivate(!1),g.customization=null,b(function(){g.customization=g.customizationData.customization,i(),g.customization.api.onCustomizeActivate(!0),g.customization.data&&e.addView("$custom-data",[g.customization.data]),g.changes=d.getCustomization(g.customization.id)||{};var a=[{label:"<New Control>",value:"$new"},{label:"<Container>",value:"$container"}];g.changes&&angular.forEach(g.changes,function(b,c){if(c&&"$container"!==c){var d=b.caption||b.binding||"";d?d=" ("+d+")":"html"===b.controlKind&&(d=" (html)"),a.push({label:c+d,value:c})}}),g.state.controls=a,g.controlsList.list=a,g.state.control="$new",g.curColProps.id=l()},200)}function i(){g.curColProps={id:"",hidden:!1,caption:"",updatable:!1,binding:"",style:"",validate:"",html:"",script:""}}function j(a,b,c){g.curColProps[a]=b,k(a,b,c)}function k(a,b,c){c=c||g.curColProps.id,g.changes[c]||(g.changes[c]={}),g.changes[c][a]=b}function l(){return _.uniqueId("Ctrl-")}function m(b,d){var e={};"html"===b&&(e={caption:"Template Samples",name:"Sample",editor:"select",updatable:!0,list:[{label:"None",value:"none"},{label:"Panel",value:"sample-panel.html"},{label:"Color Tile",value:"sample-color-tile.html"},{label:"Button",value:"sample-button.html"}],sizeClass:"col-lg-12",fnOnChange:function(b,c){var d=c.fnGetCurrentValue(),e="";e="none"===d?"":a.get(d),f.editText=e}});var f={title:"Editor",size:"fullscreen",closeButton:!0,editorOptions:{type:b,sampleCol:e,sampleVal:"none"},editText:g.curColProps[b],templateOptions:{templateUrl:"src/components/ep.customization/ep-customization-editor-box.html"},buttons:[{id:"okButton",type:"default",text:"Ok",action:function(a){d?d(a.editText):j(b,a.editText)}}]};c.showCustomDialog(f)}g.changes={},g.customization=null,g.state={ctrlNumber:1,controls:[],control:void 0,controlKind:"editor"},g.controlsList={caption:"Select Control",name:"Controls",editor:"select",updatable:!0,list:g.state.controls,sizeClass:"col-lg-12",fnOnChange:function(a,b){if(g.state.control=b.fnGetCurrentValue(),i(),"$new"===g.state.control)g.curColProps.id=l();else{f.copyProperties(g.changes[g.state.control],g.curColProps),g.state.controlKind=g.curColProps.controlKind;var c="#ep-custom_"+g.state.control;if($(".ep-custom-element").removeClass("ep-customize-control-active"),$(c).length){var d=$(c);d.addClass("ep-customize-control-active")}}}};var n=[{label:"Editor",value:"editor"},{label:"HTML Template",value:"html"}];g.controlKinds={caption:"Kind of Control",name:"ControlKind",editor:"select",updatable:!0,list:n,sizeClass:"col-lg-12",fnOnChange:function(a,b){g.state.controlKind=b.fnGetCurrentValue()}},i(),g.curColProps.id=l(),g.colBinding={caption:"ep-binding",editor:"text",updatable:!0,sizeClass:"col-lg-12",buttons:[{position:"post",type:"btn",style:"fa fa-cog",action:function(){e.selectBinding(function(a){j("binding",a)})}}],fnOnChange:function(a,b){j("binding",b.fnGetCurrentValue())}},g.colCaption={caption:"Caption",editor:"text",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(a,b){j("caption",b.fnGetCurrentValue())}},g.colHidden={caption:"Hidden",editor:"checkbox",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(a,b){j("hidden",b.fnGetCurrentValue()===!0)}},g.colReadOnly={caption:"Updatable",editor:"checkbox",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(a,b){j("updatable",b.fnGetCurrentValue()===!0)}},g.colStyle={caption:"Style",editor:"text",updatable:!0,sizeClass:"col-lg-12",oFormat:{MaxLength:2e4},buttons:[{position:"post",type:"btn",style:"fa fa-edit",action:function(){m("style",function(a){var b="$container"===g.state.control?"$container":void 0;j("style",a,b)})}}],fnOnChange:function(a,b){var c="$container"===g.state.control?"$container":void 0;j("style",b.fnGetCurrentValue(),c)}},g.colValidate={caption:"Validation",editor:"text",updatable:!0,sizeClass:"col-lg-12",oFormat:{MaxLength:1e4},buttons:[{position:"post",type:"btn",style:"fa fa-edit",action:function(){m("validation")}}],fnOnChange:function(a,b){j("validation",b.fnGetCurrentValue())}},g.colId={caption:"ID",editor:"text",updatable:!1,sizeClass:"col-lg-12",fnOnChange:function(a,b){g.curColProps.id=b.fnGetCurrentValue()}},g.colHTML={caption:"HTML Template",editor:"text",updatable:!0,sizeClass:"col-lg-12",oFormat:{MaxLength:1e4},buttons:[{position:"post",type:"btn",style:"fa fa-edit",action:function(){m("html")}}],fnOnChange:function(a,b){j("html",b.fnGetCurrentValue())}},g.colContainerScript={caption:"Container Script",editor:"text",updatable:!0,sizeClass:"col-lg-12",oFormat:{MaxLength:2e4},buttons:[{position:"post",type:"btn",style:"fa fa-edit",action:function(){m("script",function(a){j("script",a,"$container")})}}],fnOnChange:function(a,b){j("script",b.fnGetCurrentValue(),"$container")}},g.addColumn=function(){if(!g.curColProps.id)return void c.showMessage({title:"Missing Id",message:"Id is required for control"});if(g.changes[g.curColProps.id])return void c.showMessage({title:"Duplicate Id",message:"There is already a control with id: "+g.curColProps.id});var a=angular.extend([],g.controlsList.list);a.push({label:g.curColProps.id,value:g.curColProps.id}),g.controlsList.list=a,g.state.control=g.curColProps.id,k("controlKind",g.state.controlKind),k("id",g.curColProps.id)},g.removeColumn=function(){g.changes[g.curColProps.id]&&delete g.changes[g.curColProps.id];var a=angular.extend([],g.controlsList.list),b=_.find(a,function(a){return a.value===g.curColProps.id});if(b){var c=_.without(a,b);g.controlsList.list=c,g.state.control="$new",g.curColProps.id=l()}},g.$watch("customizationData",function(a){void 0!==a&&(h(),g.customizationData.fnGetChanges=function(){return g.changes})})}}}a.$inject=["$templateCache","$timeout","epModalDialogService","epCustomizationService","epBindingService","epUtilsService"],angular.module("ep.customization").directive("epCustomizationFreeform",a)}(),function(){"use strict";function a(a,b,c){return{replace:!1,restrict:"E",scope:{customizationData:"="},templateUrl:"src/components/ep.customization/ep-customization-record-editor.html",link:function(d){function e(){return d.customization.ctrl.factory}function f(){return d.customization.ctrl.factory.getOptions()}function g(){d.customization&&d.customization.api.onCustomizeActivate(!1),k=void 0,d.customization=null,d.column={},a(function(){if(l=[],d.customization=d.customizationData.customization,d.customization.ctrl.epBinding){var a=c.current().view(d.customization.ctrl.epBinding);a&&a.hasData()&&(k=a.dataRow(),angular.forEach(k,function(a,b){l.push({label:b,value:b})}))}d.changes=b.getCustomization(d.customization.id)||{},d.columnList={caption:"Columns",name:"Columns",editor:"select",updatable:!0,list:l,sizeClass:"col-lg-12",fnOnChange:function(a,b){d.column.name=b.fnGetCurrentValue();var c=e();d.curColCtx=c.getColumnContext(d.column.name),d.curColCtx?d.curColProps={hidden:d.curColCtx.hidden===!0,caption:d.curColCtx.label,readonly:d.curColCtx.updatable===!1,style:d.curColCtx.style?JSON.stringify(d.curColCtx.style,null," "):"",validate:d.changes[d.column.name]?d.changes[d.column.name].validation:""}:d.curColProps={hidden:!1,caption:"",readonly:!1}}},h(),d.customization.api.onCustomizeActivate(!0)},200)}function h(){d.curColProps={hidden:!1,caption:"",readonly:!1,binding:"",style:"",validate:""}}function i(a){var b=typeof a;if("number"===b)return"number";if("boolean"===b)return"checkbox";if("date"===b)return"date";if("string"===b){var c=/\d{4}-\d{2}-\d{2}['T']/;if(a&&a.match(c))return"date"}return"text"}function j(a,b,c){var e=c||d.column.name;d.changes[e]||(d.changes[e]={}),d.changes[e][a]=b}d.changes={};var k,l=[];d.customization=null,d.column={},h(),d.curColCtx={},d.colCaption={caption:"Caption",editor:"text",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(a,b){d.curColCtx&&(d.curColCtx.label=b.fnGetCurrentValue(),j("caption",d.curColCtx.label))}},d.colHidden={caption:"Hidden",editor:"checkbox",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(a,b){d.curColCtx&&(d.curColCtx.hidden=b.fnGetCurrentValue(),j("hidden",d.curColCtx.hidden===!0))}},d.colReadOnly={caption:"Read-only",editor:"checkbox",updatable:!0,sizeClass:"col-lg-12",fnOnChange:function(a,b){d.curColCtx&&(d.curColCtx.readonly=b.fnGetCurrentValue(),j("updatable",d.curColCtx.readonly!==!0))}},d.colStyle={caption:"Style",editor:"multiline",updatable:!0,sizeClass:"col-lg-12",oFormat:{MaxLength:200},fnOnChange:function(a,b){d.curColCtx&&(d.curColCtx.style=b.fnGetCurrentValue(),j("style",d.curColCtx.style))}},d.colValidate={caption:"Validation",editor:"multiline",updatable:!0,sizeClass:"col-lg-12",oFormat:{MaxLength:200},fnOnChange:function(a,b){d.curColCtx&&(d.curColCtx.validate=b.fnGetCurrentValue(),j("validation",d.curColCtx.validate))}},d.addColumn=function(){var b=d.column.name,c=e(),g=f(),h=g.columns,j=i(k[b]),l={caption:b,editor:j,columnIndex:b,updatable:!0,isCustom:!0};h.push(l),c.draw(),d.column.name="",a(function(){d.column.name=b,d.curColCtx=c.getColumnContext(d.column.name)},200),d.changes[b]=l},d.removeColumn=function(){var a=e(),b=f(),c=b.columns,g=_.find(c,function(a){return a.columnIndex===d.column.name});g&&(b.columns=_.without(c,g),a.draw(),d.column.name="",d.curColCtx=null,h())},d.$watch("customizationData",function(a){void 0!==a&&(g(),d.customizationData.fnGetChanges=function(){var a=e(),b=a.getState().controls;return angular.forEach(b,function(a){void 0!==a.origSeq&&j("seq",a.seq,a.columnIndex)}),d.changes})})}}}a.$inject=["$timeout","epCustomizationService","epTransactionFactory"],angular.module("ep.customization").directive("epCustomizationRecordEditor",a)}(),function(){"use strict";function a(a,b,c,d,e){return{replace:!1,restrict:"E",scope:{},templateUrl:"src/components/ep.customization/ep-customization.html",link:function(f){function g(a){function b(a){a.epCustomizationInfo&&a.epCustomizationInfo.kind&&a.epCustomizationInfo.id&&(d[a.epCustomizationInfo.id]=a.epCustomizationInfo)}function c(a){b(a),a.$$nextSibling&&c(a.$$nextSibling),a.$$childHead&&c(a.$$childHead)}var d={};return c(a),d}function h(a){f.customization&&f.customization.api.onCustomizeActivate(!1),f.customization=null,c(function(){f.customization=j[a],f.customizationData={customization:f.customization,customizationId:a,customizationKind:f.customization?f.customization.kind:""},f.customization&&f.customization.api.onCustomizeActivate(!0)},200)}function i(){f.customizationData={customizationId:"",customizationKind:""},f.customization=null;var b=[];j=g(a),angular.forEach(j,function(a,c){b.push({label:c,value:c})}),f.customizationsList={caption:"Customizable Objects",name:"Customs",editor:"select",updatable:!0,list:b,sizeClass:"col-lg-12",buttons:[{position:"post",type:"btn",style:"fa fa-refresh",action:function(){i()}}],fnOnChange:function(a,b){h(b.fnGetCurrentValue())}}}var j={};f.btnClickManage=function(){var a={title:"Editor",size:"fullscreen",closeButton:!0,manage:{},editText:"",templateOptions:{templateUrl:"components/ep.customization/ep-customization-manage.html"},buttons:[{id:"cancelButton",type:"cancel",isCance:!0,text:"Close",action:function(){}},{id:"okButton",type:"default",isDefault:!0,text:"Ok",action:function(){b.reload()}}]};e.showCustomDialog(a)},f.btnClickSave=function(){if(f.customization&&f.customizationData.fnGetChanges){var a=f.customizationData.fnGetChanges();d.saveCustomForView(f.customization.id,a),b.reload()}},f.btnClickClearCustomization=function(){f.customization&&(d.clearCustomForView(f.customization.id),b.reload())},c(function(){f.$digest(),i()},1e3)}}}function b(a,b,c,d){function e(a){var b=new FileReader;b.onload=f,b.readAsText(a.target.files[0])}function f(a){var b=JSON.parse(a.target.result);b&&(d.importCustomization(b),alert("customization was imported!"))}document.getElementById("file").addEventListener("change",e),b.btnClickClearAllCustomizations=function(){d.clearAllCustomizations()},b.btnClickExport=function(){var a=d.getAllCustomizations();if(!a)return void alert("There are no customizations to save");var b=angular.toJson(a),c=new Blob([b],{type:"application/json;charset=utf-8;"}),e=window.URL.createObjectURL(c),f=angular.element("<a></a>");f.attr("href",e),f.attr("download","customization.json"),f[0].click()}}a.$inject=["$rootScope","$route","$timeout","epCustomizationService","epModalDialogService"],b.$inject=["$route","$scope","$timeout","epCustomizationService"],angular.module("ep.customization").directive("epCustom",a),angular.module("ep.customization").controller("epCustomManageCtrl",b)}(),function(){"use strict";function a(a,b){function c(a){var c="ep-customization";b.update(c,a)}function d(a,c,d){var e=i(d),f="ep-customization."+e+"."+a;b.update(f,c)}function e(a,c){var d=i(c),e="ep-customization."+d+"."+a;b.update(e,void 0)}function f(){var a="ep-customization";b.update(a,void 0)}function g(a,c){var d=i(c),e="ep-customization."+d+"."+a;return b.get(e)}function h(){var a="ep-customization";return b.get(a)}function i(b){var c=b;c||(c=a.url()||"view");var d=c.indexOf("?"),e=d>0?c.substring(0,d):c;return e}return{importCustomization:c,saveCustomForView:d,clearCustomForView:e,clearAllCustomizations:f,getCustomization:g,getAllCustomizations:h}}a.$inject=["$location","epLocalStorageService"],angular.module("ep.customization").service("epCustomizationService",a)}(),function(){"use strict";angular.module("ep.data.model").service("epDataModelService",["epUtilsService",function(a){function b(b){g[b]=a.merge({},h[b])}function c(a){delete g[a]}function d(b){a.merge(h[b],g[b]),delete g[b]}function e(a){return h[a]=h[a]||{},h[a]}function f(a){return Object.keys(h[a]).forEach(function(b){delete h[a][b]}),h[a]}var g={},h={};return{beginTransaction:b,commitTransaction:c,rollbackTransaction:d,getModel:e,clearModel:f}}])}(),angular.module("ep.datagrid").factory("epDataGridDirectiveFactory",[function(){var a=0,b=function(b){function c(){I.createGrid()}function d(a){I.setGridOptions(a)}function e(){return I.options}function f(){I.state.dataTable&&(I.state.dataTable.fnDestroy(!0),I.state.dataTable=null)}function g(){I.refreshData()}function h(a){I.draw(a)}function i(a,b){I.options[a]=b}function j(a){I.resizeTable(a)}function k(a){a&&I.activateRow(a)}function l(a){I.activateNthRow(a,!1)}function m(a){a?I.updateTableEditStateActiveRow():I.updateTableEditState()}function n(){return!!I.state.dataTable}function o(){return I.state.activeRow}function p(){return I.state.activeRecord}function q(){return I.state.activeCell}function r(a){I.scrollToRow(a)}function s(a){I.appendRow(a)}function t(a){return I.getPrevNextRow(-1,a)}function u(a){return I.getPrevNextRow(1,a)}function v(a){return I.isValidRow(a)}function w(a,b){I.setRowEditMode(a,b)}function x(){I.callPreviousGetData()}function y(a,b,c,d){I.grDataTable().fnUpdate(a,b,c,d)}function z(){return I.grDataTable()}function A(){return I.grApi()}function B(a,b){return I.getRowByColumnValue(a,b)}function C(){I.toggleFilter()}function D(){I.showFilter()}function E(){return I.state.filterShowFlag}function F(a,b){I.setDataSource(a,b)}function G(){I.updateSummaryRow()}function H(a,b){return I.formatNumber(a,b)}var I=b;a++;var J="epdatagrid"+a.toString();return{id:J,setGridOptions:d,getGridOptions:e,createGrid:c,activeRecord:p,activeRow:o,activeCell:q,refreshData:g,draw:h,release:f,updateOption:i,resizeTable:j,activateRow:k,activateNthRow:l,getPrevRow:t,getNextRow:u,isValidRow:v,scrollToRow:r,appendRow:s,updateTableState:m,isTableCreated:n,setRowEditMode:w,callPreviousGetData:x,updateRow:y,dataTable:z,api:A,getRowByColumnValue:B,toggleFilter:C,showFilter:D,isFilterShown:E,setDataSource:F,updateSummaryRow:G,formatNumber:H}};return b}]),angular.module("ep.datagrid").directive("epDataGridFilterRow",[function(){function a(a){var b=!1;return angular.forEach(a.state.filterEditors,function(a){a.hidden||""===a.value||(b=!0,a.value=""),a.operator="*",a.operatorText=""}),b}return{restrict:"E",replace:!0,templateUrl:"src/components/ep.datagrid/datagrid-filter/datagrid-filter-row.html",controller:["$scope",function(b){if(!b.state.filterEditors){var c=[],d=b.grApi().table().header(),e=$("tr",d),f=$(e).find("th"),g=b.state.filterExpressions;$(f).each(function(a,d){var e=$(d),f=null;if(e.width&&e.text()){var h=b.grFindColumnByCellIndex(e.context.cellIndex);if(null!==h){var i="",j="";if(g){var k=_.find(g,function(a){return a.ColName===h.sName});k&&(i=k.Value,j=k.Operator)}j=j||"*";var l="text";"integer"!==h.userColumnDef.sType&&"decimal"!==h.userColumnDef.sType||(l="number"),f={name:h.sName,type:l,value:i,operator:j,operatorText:"*"===j?"":j}}}f||(f={hidden:!0,name:"hidden",className:"fixed sorting_disabled ep-hide-filter-col",value:null}),c.push(f)}),b.state.filterEditors=c,b.state.filterFunctions={},b.state.isFilterOn=!0,b.state.filterCriteria="",b.$watch("state.filterShowFlag",function(c,d){if(c===!1&&d===!0&&b.onHideFilter){var e=a(b);b.onHideFilter(e)}b.resizeTable()}),b.fnFilterOpChange=function(a){for(var c=["*","=","<>",">",">=","<","<="],d=0,e=0;e<c.length;e++)if(c[e]===a.operator){d=e;break}d+1>=c.length?d=0:d+=1,a.operator=c[d],a.operatorText="*"===a.operator?"":a.operator,b.onChangeFilter&&""!==a.value&&b.onChangeFilter(a)},b.fnFilterBlur=function(a){b.onChangeFilter&&""!==a.value&&b.onChangeFilter(a)},b.fnFilterKeyUp=function(a,c){(b.onChangeFilter&&13===c.keyCode||9!==c.keyCode&&""===a.value)&&b.onChangeFilter&&b.onChangeFilter(a)},b.state.filterFunctions.getFilterExpressions=function(){var a=[];return b.state.filterShowFlag&&b.state.filterEditors&&angular.forEach(b.state.filterEditors,function(b){if(!b.hidden&&""!==b.value&&b.name&&b.operator){var c={ColName:b.name,Operator:b.operator,Value:b.value};a.push(c)}}),b.state.filterExpressions=a,a}}}]}}]),angular.module("ep.datagrid").directive("epDataGridFilterToggle",[function(){return{restrict:"E",replace:!0,template:'<div><a class="btn btn-default btn-sm ep-center-item fa fa-filter" ng-click="toggleFilter()" ></a></div>',controller:[function(){}]}}]),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.datagrid/datagrid-summary/datagrid-summary-row.html",link:function(a,b){if(a.state.summaryRow={theElement:b,columns:[{}]},a.state.dataTable){var c=[];a.iterateHeaderColumns(function(a,b){b?c.push({name:b.sName,value:void 0,col:b}):c.push({hidden:!0,name:"hidden",className:"ep-hide-summary-col",value:void 0})}),a.state.summaryRow.columns=c}}}}angular.module("ep.datagrid").directive("epDataGridSummaryRow",a)}(),angular.module("ep.datagrid").directive("epDataGrid",["$timeout","$compile","$sce","$log","$window","$rootScope","epUtilsService","epFeatureDetectionService","epDataGridDirectiveFactory","epDataGridService",function(a,b,c,d,e,f,g,h,i,j){function k(){var a={gridFactory:null,scope:null,tableElement:null,linkElement:null,dataTable:null,filterShowFlag:!1,filterRow:null,filterEditors:null,filterExpressions:[],allowSearchInput:!0,searchValue:"",recordsInfo:"",gridLoadPrms:{},dataRetrieveInProcess:!1,metadata:void 0,ordering:!0,activeRow:null,activeRecord:null,activeCell:null,pageLength:50,tableHeight:null,staticMode:!1,dataSource:null,isChildGrid:!1,headerSection:"",footerSection:""};return a}function l(){return'<i class="drill-icon" onclick="performDrillThrough(event);"></i>'}function m(a,b){var c=angular.element(a),d=c.attr("href"),f=function(){e.open(d,"_blank")};switch(T.platform.app){case"NWJS":f=function(){var a=require("nw.gui");a.Shell.openExternal(d)};break;case"Cordova":f=function(){e.open(d,"_system")}}"_blank"===c.attr("target")&&(f(),b.preventDefault())}function n(a){return a&&_.isString(a)?'<a class="fa fa-phone inline-link" onclick="onExternalLinkClick(this, event)" target="_blank" href="tel:'+a+'">&nbsp;&nbsp;'+a+"</a>":a}function o(a){return a&&_.isString(a)?'<a class="fa fa-map-marker inline-link" onclick="onExternalLinkClick(this, event)" target="_blank" href="http://maps.google.com/maps?q='+a+'">&nbsp;&nbsp;'+a+"</a>":a}function p(a){return a&&_.isString(a)?'<a class="fa fa-envelope inline-link" onclick="onExternalLinkClick(this, event)" target="_blank" href="mailto:'+a+'">&nbsp;&nbsp;'+a+"</a>":a}function q(a,b,c){if(a&&_.isString(a)){var d=a;c.userColumnDef.stringFormat&&(d=g.strFormat(c.userColumnDef.stringFormat,d));var e=a.trim().toLowerCase();return"http"!==e.substr(0,4)&&(d="http://"+e),c.userColumnDef.urlLabel&&(a=c.userColumnDef.urlLabel),'<a class="fa fa-globe inline-link" target="_blank" href="'+d+'">&nbsp;&nbsp;'+a+"</a>"}return a}function r(a,b,c){if(void 0===a)return null;var d=c.userColumnDef.oFormat.FormatString||"M/d/yyyy";if(d&&a){var e=moment(a);if(e.isValid())return d=d.toUpperCase().replace("HH:MM","HH:mm"),e.format(d)}return a}function s(a,b,c,d){var e=c.userColumnDef.sFormatString;if("yes-no"===e){var f=a?"yes":"no";return"<span>"+f+"</span>"}var g=c.userColumnDef.bUpdatable?'mdata="'+c.mData+'"':"",h=a?Q:R;return d?'<span class="checkbox-display fa fa-lg '+h+'"'+g+"></span>":'<div class="inline checkbox-display-container"><span class="ep-center-item checkbox-display fa fa-lg '+h+'"'+g+"></span></div>"}function t(a,b,c,d){var e=parseFloat(a);if(!isNaN(e)){var f=c.userColumnDef;if(f.oFormat&&f.oFormat.NumberFormatInfo&&f.oFormat.NumberFormatInfo.NumeralJSFormat)a=numeral(e).format(f.oFormat.NumberFormatInfo.NumeralJSFormat);else{var g=f.oFormat&&f.oFormat.NumberFormatInfo?f.oFormat.NumberFormatInfo.CurrencyDecimalDigits:2;a=e.toFixed(g)}}return d?"<span>"+a+"</span>":'<div class="right-align"><span>'+a+"</span></div>"}function u(a,b,c,d){return a=B(a,c),d?"<span>"+a+"</span>":'<div class="right-align"><span>'+a+"</span></div>"}function v(a,b,c,d){return a=C(a,c),d?"<span>"+a+"</span>":'<div class="right-align"><span>'+a+"</span></div>"}function w(){return"<span><i class='row-indicator text-primary'></i></span>"}function x(){return"<span><i class='edit-indicator text-danger'></i></span>"}function y(a,b,c,d,e,f){var g=c.userColumnDef,h=f.state.metadata.combos[g.sBaseType]?f.state.metadata.combos[g.sBaseType][a]:"";return void 0!==h?h:a}function z(a,b,c,d,e){var f="",g=c.userColumnDef,h=g.groupWrap&&(void 0===a||null===a||angular.isString(a)&&!a);if(!h)if(g.sRenderSubType&&U[g.sRenderSubType]){var i=U[g.sRenderSubType](a,b,c,!0);null!==i&&void 0!==i||(i=""),f+=i}else f+=null!==a&&void 0!==a?"<span>"+a+"</span>":"<span></span>";return angular.forEach(g.groupMembers,function(a){var c=_.find(e.aoColumns,function(b){return b.mData===a}),d=b[a],g=c.userColumnDef;if(h=g.groupWrap&&(void 0===d||null===d||angular.isString(d)&&!d),!h)if(f&&(f+="<br/>"),c&&g.sRenderType&&U[g.sRenderType]){var i=U[g.sRenderType](d,b,c,!0);null!==i&&void 0!==i||(i=""),f+=i}else f+=null!==d&&void 0!==d?"<span>"+d+"</span>":"<span></span>"}),"<div>"+f+"</div>"}function A(a,b,c,d,e){b=null!==b?b:"";var f=b,g=e.settings.aoColumns[e.col];if(g&&g.userColumnDef){var h=g.userColumnDef;U[h.sRenderType]&&(f=U[h.sRenderType](b,d,g,!1,e.settings,a)),"True"===h.sIsDrillable&&b&&""!==b&&("undefined"==typeof h.sRenderType||V[h.sRenderType])&&(f=l()+f)}return a.options.fnOnRenderGridCell&&(f=a.options.fnOnRenderGridCell(f,c,d,e,g,f)),f}function B(a,b){var c=a,d=parseFloat(c);if(!isNaN(d)){var e=b.userColumnDef,f=e.oFormat&&e.oFormat.NumberFormatInfo;if(f&&e.oFormat.NumberFormatInfo.NumeralJSFormat)c=numeral(d).format(e.oFormat.NumberFormatInfo.NumeralJSFormat);else{var g=f?e.oFormat.NumberFormatInfo.NumberDecimalDigits:2;c=d.toFixed(g)}!isNaN(c)&&f&&e.oFormat.NumberFormatInfo.RemoveTrailingZeros&&(c=parseFloat(c))}return c}function C(a){var b=parseInt(a);return isNaN(b)||(a=b),a}function D(a){a.state&&a.state.$table&&a.state.$table.off("click").off("dblclick");var b=a.grApi();if(b)try{b.destroy(!0)}catch(c){d.error(c,"failed to destroy the grid - exception from DataTables")}a.state&&a.state.tableElement.length&&a.state.tableElement.empty()}function E(b,c,d,e,f,g,h){function i(a){if(b.state.dataRetrieveInProcess=!1,b.findElement("#loadMoreDownRow").addClass("disabled").off("click"),a&&a.Success&&b.state.dataTable){g&&b.hideProgressIndicator(),l=b.state.dataTable.fnSettings();var c=a&&a.aaData?a.aaData.length:0;!f||h?(k.iLoadedRecordLength=c,b.state.dataTable.fnClearTable()):k.iLoadedRecordLength+=c,l._iRecordsTotal=a?a.iTotalRecords:0,k.iTotalRecords=l._iRecordsDisplay=a?a.iTotalDisplayRecords:0,l._iDisplayLength=k.iLoadedRecordLength,j.isLoadingMore=!0,j.isDataLoaded=a.iTotalDisplayRecords>0,j.totalViewRecords=a?a.iTotalDisplayRecords:0,j.hasRecords=j.totalViewRecords>0,j.retrievingData=!1;var d=b.findElement(".dataTables_scrollBody"),e=d.scrollTop();c&&b.state.dataTable.fnAddData(a.aaData),d.scrollTop(e),k.iDisplayStart+=a.aaData.length,k.iDisplayStart=Math.min(a.iTotalDisplayRecords,k.iDisplayStart);var i;j.configureGridActions=function(){if(j.atTheEnd=a.iTotalDisplayRecords-k.iLoadedRecordLength===0,!j.atTheEnd){if(i=b.findElement("#loadMoreDownRow"),!i.length){var c='<table width="100%"><td><hr /></td><td class="load-more-cell"><span class="load-more-indicator fa fa-arrow-down"></span>  Load More  <span class="load-more-indicator fa fa-arrow-down"></span></td><td><hr /></td></table>';i=$("<tr class='loading-row' id='loadMoreDownRow'><td colspan='"+j.visColCount+"'><div class='load-more'><a>"+c+"</a></div></td></tr>"),b.state.dataTable.append(i)}i.off("click").removeClass("disabled").on("click",function(){k.iPageNumber++,b.findElement(".load-more-cell").empty().addClass("fa fa-spinner fa-2x fa-pulse");var a=j.gridLoadPrms.previousPrms;E(b,a.searchTerm,a.sortColIdx,a.sortDir,!0,!1,!1)})}K(b)},j.configureGridActions()}g&&b.hideProgressIndicator()}if(b.state.staticMode!==!0&&b.state.dataRetrieveInProcess!==!0&&b.state.dataTable){b.state.dataRetrieveInProcess=!0;var j=b.state,k=j.gridLoadPrms;(c!==k.previousPrms.searchTerm||h)&&(k.iPageNumber=1),k.previousPrms.searchTerm=c,k.previousPrms.sortColIdx=d,k.previousPrms.sortDir=e,k.previousCall={append:f,showIndicator:g,forceRefresh:h};var l=b.state.dataTable.fnSettings();f&&!h||(k.iDisplayStart=0,k.iDisplayLength=b.state.pageLength*k.iPageNumber,k.iLoadedRecordLength=0,k.iTotalRecords=0),g&&b.showProgressIndicator(),k.previousPrms.iDisplayStart=k.iDisplayStart,k.previousPrms.iDisplayLength=k.iDisplayLength;var m={iDisplayStart:k.iDisplayStart,iDisplayLength:k.iDisplayLength,sSearch:c,iSortCol:d,sSortDir:e,sEcho:"1",bFilterOn:b.state.filterShowFlag,sFilterCriteria:b.state.filterExpressions,bForceRefresh:h||!1,childGridId:b.state.metadata&&b.state.metadata.gridId?b.state.metadata.gridId:"",childGridArgValues:b.options.childGridArgValues,parentKey:b.options.parentKey};a(function(){});var n=b.options.fnGetServerData(m);void 0!==n.then?n.then(i):i(n)}}function F(a,b){if(!b.sRenderType){b.sBizType&&("phone"!==b.sBizType&&"address"!==b.sBizType&&"email"!==b.sBizType&&"url"!==b.sBizType&&"currency"!==b.sBizType||(b.sRenderType=b.sBizType));var c=b.sType;"date"===c?b.sRenderType="date":"bool"===c&&(b.sRenderType="bool"),b.sControlType&&"epicombo"===b.sControlType.toLowerCase()&&(b.sRenderType="select"),"integer"===c&&(b.sRenderType="integer"),"decimal"===c&&(b.sRenderType="decimal"),b.groupMembers&&"group"!==b.sRenderType&&(b.sRenderSubType=b.sRenderType,b.sRenderType="group")}b.mRender=a.renderGridCell}function G(a,b,c){var d=[],e=0,f=function(b){void 0===b.oFormat&&(b.oFormat={}),void 0===b.sDataType&&(b.sDataType="System.String"),b.sType||(b.sType=j.resolveDataType(b.sDataType)),F(a,b);var c=(void 0===b.bVisible||b.bVisible===!0)&&b.bHideInGrid!==!0,f=!1;a.state.ordering&&(f=void 0===b.orderable?void 0===b.bSortable||b.bSortable:b.orderable);var g="120px";"editIndicator"===b.sName||"rowIndicator"===b.sName?g="":b.width&&angular.isNumber(b.width)?g=b.width+"px":b.widthFactor&&angular.isNumber(b.widthFactor)?g=parseInt(120*parseFloat(b.widthFactor))+"px":b.oFormat.MaxLength&&(g=Math.max(Math.min(3*b.oFormat.MaxLength,400),120)+"px");var h=b.sClass?b.sClass+" ":"";h+="data-col-"+e,b.canSelectCells===!0&&(a.state.canSelectCells=!0,h+=" selectable"),!b.align||"right"!==b.align&&"left"!==b.align&&"center"!==b.align||(h+=" dt-"+b.align);var i=b.sTitle;"True"===b.sIsDrillable&&(i='<i class="drill-header"></i>'+i,h+=" drill-cell");var k={iIndex:e,targets:[e],name:b.sName,title:i||"",visible:c,className:h,data:void 0===b.mData?-1:b.mData,orderable:f,render:a.renderGridCell,userWidth:g,userColumnDef:b};d.push(k),e++};return angular.forEach(c,function(a){f(a)}),angular.forEach(b.columns,function(a){f(a)}),d}function H(b){var c=b.options.metadata,d=[{sName:"rowIndicator",sTitle:"",bVisible:!0,sClass:"fixed i-row",orderable:!1,sRenderType:"rowIndicator",align:"center"},{sName:"editIndicator",sTitle:"",bVisible:!!b.options.showEditIndicator,sClass:"fixed i-edit",orderable:!1,sRenderType:"editIndicator",align:"center"}];if(b.state.filterEditors=null,b.state.gridColumns=G(b,c,d),b.state.gridLoadPrms={iPageNumber:1,iDisplayStart:0,iDisplayLength:b.state.pageLength,iLoadedRecordLength:0,iTotalRecords:0,previousPrms:{sortColIdx:-1,sortDir:"",searchTerm:"",iDisplayStart:0,iDisplayLength:b.state.pageLength}},b.options.enableSummaryRow){var e=b.findElement(".ep-dg-grid-table.table");angular.element(e).append("<tfoot><th></th></tfoot>")}if(b.state.staticMode===!0){var f=[];if(b.state.ordering){var g=b.grGetMetaColumn(b.options.orderColumn);if(g)f=[[g.iIndex,"asc"]];else if("$first"===b.options.orderColumn){var i=b.options.showEditIndicator===!0?2:1;f=[[i,"asc"]]}}b.state.options={data:b.state.dataSource,
paging:!0,ordering:b.state.ordering,bDestroy:!0,bServerSide:!1,order:f,bProcessing:!1,pageLength:b.state.pageLength,bAutoWidth:!0,columns:b.state.gridColumns,sScrollY:b.calcTableHeight(),sScrollX:"100%",sScrollXInner:b.options.isChildGrid?"90%":"100%",sDom:"rtip",infoCallback:function(a,c,d,e,f,g){return b.options.disableRecordInfo?"":J(b,a,c,d,e,f,g)},createdRow:function(a,c){b.options.fnOnCreatedRow&&b.options.fnOnCreatedRow(a,c)},initComplete:function(){a(function(){K(b)})},fnFooterCallback:function(a){I(b,a)}}}else b.state.options={bDestroy:!0,bServerSide:!1,ordering:!1,order:[],bProcessing:!1,pageLength:b.state.pageLength,bAutoWidth:!0,columns:b.state.gridColumns,sScrollY:b.calcTableHeight(),sScrollX:"100%",sScrollXInner:b.options.isChildGrid?"90%":"100%",scrollCollapse:!1,sDom:"rti",bDeferRender:!0,infoCallback:function(a,c,d,e,f,g){return b.options.disableRecordInfo?"":J(b,a,c,d,e,f,g)},createdRow:function(a,c){b.options.fnOnCreatedRow&&b.options.fnOnCreatedRow(a,c)},fnFooterCallback:function(a){I(b,a)}};b.state.dataTable=$(b.state.tableElement).dataTable(b.state.options),a(function(){if(angular.forEach(b.state.gridColumns,function(a){a.userWidth&&b.findElement(".data-col-"+a.iIndex).css("min-width",a.userWidth).css("width",a.userWidth)}),b.state.visColCount=_.filter(b.state.gridColumns,function(a){return a.visible}).length,b.setInitialFilters(),b.state.staticMode!==!0){var c="asc",d=-1;if(b.state.ordering){var e=null;if("$first"===b.options.orderColumn){var f=b.options.showEditIndicator===!0?2:1;e=b.grFindColumnByCellIndex(f)}else e=b.grGetColumn(b.options.orderColumn);e&&(d=e.mData)}E(b,"",d,c,!1,!1,!1)}if(b.resizeTable(!1),b.state.$table.on("click",b.tableCellClick),b.state.$table.on("dblclick",b.tableCellDblClick),h.hasTouchEvents()&&b.state.$table.css("touch-action","manipulation"),b.state.allowSearchInput){var g="";b.options.startSearchValue&&(b.state.searchValue=b.options.startSearchValue),b.applySearch=function(a){g!==a&&(a||g)&&(g=a,b.state.staticMode===!0?b.grApi().search(b.state.searchValue).draw():E(b,b.state.searchValue,0,"asc",!1,!0,!1))},b.findElement("#searchInput").each(function(){this.initVal=this.value}),b.fnOnSearchFocus=function(){b.searchInputClass&&(b.searchInputClass="",b.state.searchValue="")},b.fnOnSearchBlur=function(){var c=b.state.searchValue;if(""===c)b.searchInputClass="search_init",b.state.searchValue=b.options.startSearchValue?"":b.state.searchInitVal;else if(b.options.startSearchValue&&!b.startSearchBlur&&b.options.startSearchValue===c)return void(b.startSearchBlur=!0);a(function(){b.applySearch(b.state.searchValue)},200),b.applySearch(b.state.searchValue)},b.clearSearch=function(){b.applySearch(b.state.searchValue="")},b.fnOnSearchKeyUp=function(a){var c=b.state.searchValue;13!==a.keyCode&&""!==c||b.applySearch(c)},b.fnOnSearchChange=function(){var a=b.state.searchValue;""===a&&b.applySearch(a)}}})}function I(c,d){c.options.enableSummaryRow&&(c.state.summaryRow&&c.state.summaryRow.theElement||angular.element(d).empty().append(b("<ep-data-grid-summary-row></ep-data-grid-summary-row>")(c)),a(function(){c.updateSummaryRow(),c.resizeTable(!1)}))}function J(a,b,c,d,e,f,h){var i="";if(a.state.staticMode===!0)i=a.recordsInfo=h;else{var j=b._iDisplayLength,k=b._iRecordsTotal;f>0&&j>a.viewState.gridLoadPrms.iLoadedRecordLength&&(k+=j-a.viewState.gridLoadPrms.iLoadedRecordLength);var l=f?1:0;i=a.recordsInfo=g.strFormat("Showing {0}records {1} to {2} of {3}",a.state.gridLoadPrms.previousPrms.searchTerm?"<strong>filtered</strong> ":"",l,j,k)}return a.options.fnUpdateRecordsInfo&&(a.options.fnUpdateRecordsInfo(a.recordsInfo),i=""),i}function K(c){var d=c.grApi();if(c.state.ordering&&c.state.staticMode!==!0){var e=c.grColumns();d.columns().eq(0).each(function(a){var b=d.column(a),f=_.find(e,function(a){return a.idx===b.index()});f&&f.orderable&&L(c,b.header(),f)})}if(c.options.showToggleFilterButton){var f=c.grGetCellIndexByColumn("rowIndicator");if(f>=0){var g=d.column(f).header();0===$(g).find(".fa-filter").length&&angular.element(g).append(b("<ep-data-grid-filter-toggle></ep-data-grid-filter-toggle>")(c))}}if(a(function(){c.state.dataTable&&c.state.dataTable.fnAdjustColumnSizing(!1)},200),c.state.allowSearchInput){var i=c.state.linkElement.closest(".modal-body");if(i.length){var j=c.findElement(".ep-dg-grid-search");j.width(i.width()-20)}}var k=-1;if(c.options.startRowIndex||0===c.options.startRowIndex)k=c.options.startRowIndex;else if(c.state.allowSearchInput&&c.options.startSearchValue&&!c.state.startSearchCompleted&&c.options.startSearchIndex>=0){c.state.startSearchCompleted=!0;var l=c.grGetCellIndexByColumn(c.options.startSearchIndex);if(l!==-1){var m=c.options.startSearchValue.toString().toLowerCase(),n=_.find(d.rows().eq(0),function(a){var b=d.cell(a,l).data();return c.options.startSearchExactMatch?b===c.options.startSearchValue||(b||0===b?b.toString().toLowerCase()===m:b===c.options.startSearchValue):b||0===b?b.toString().toLowerCase().indexOf(m)>=0:b===c.options.startSearchValue});(n||0===n)&&(k=n)}}c.state.$table.removeClass("table-hover"),c.state.allowSearchInput&&a(function(){h.hasTouchEvents()||c.findElement(".ep-dg-search-input").focus()}),c.options.fnOnTableInitComplete&&c.options.fnOnTableInitComplete(),k>-1?c.activateNthRow(k,!0)||(k=-1):c.state.activeRow||c.activateFirstRow()}function L(a,b,c){var d=a.state,e=$(b);if(e.removeClass("sorting_disabled").addClass("sorting"),e.off("click"),e.on("click",function(){var b=e.hasClass("sorting_asc")?"desc":"asc";E(a,d.gridLoadPrms.previousPrms.searchTerm,c.mData,b,!1,!0,!1)}),c.mData===d.gridLoadPrms.previousPrms.sortColIdx){a.findElement("th").removeClass("sorting_desc").removeClass("sorting_asc");var f=d.gridLoadPrms.previousPrms.sortDir||"asc";e.addClass("sorting_"+f)}}function M(a,b){return void 0===a||a!==!0&&a!==!1?b:a}function N(e,g){e.state=k(),e.state.gridFactory=new i(e),e.state.userGridId=(e.epDataGridOptions?e.epDataGridOptions.dataTableId:"")||"",e.state.dataGridId=e.state.gridFactory.id,e.options={},e.state.scope=e,e.state.linkElement=g,e.state.tableElement=g.find(".ep-dg-grid-table:first-child"),e.state.$table=angular.element(e.state.tableElement),e.state.$table.attr("id","tbl_"+e.state.dataGridId),e.viewState=e.state,e.$on("$destroy",e.onScopeDestroy),e.setGridOptions=function(a){if(e.options=a,e.options.gridFactory=e.state.gridFactory,e.state.userGridId=a.dataTableId||e.state.userGridId,e.state.isChildGrid=a.isChildGrid===!0,e.state.ordering=void 0===e.options.ordering?e.state.ordering:e.options.ordering,e.state.allowSearchInput=void 0===e.options.allowSearchInput?e.state.allowSearchInput:e.options.allowSearchInput,a.allowFiltering!==!1&&a.filterExpressions&&(e.state.filterExpressions=a.filterExpressions),e.state.staticMode=e.options.staticMode===!0,e.state.dataSource=e.options.dataSource,e.options.pageLength&&angular.isNumber(e.options.pageLength)&&(e.state.pageLength=e.options.pageLength),e.options.tableHeight&&angular.isNumber(e.options.tableHeight)&&(e.state.tableHeight=e.options.tableHeight),void 0===a.metadata||angular.equals(a.metadata,e.state.metadata)||(e.state.metadata=a.metadata,e.options.createGridByFactoryOnly||H(e)),a.showHeaderSection)if(a.headerSectionTemplate){var b=a.headerSectionTemplate;e.state.headerSectionTemplate=angular.isString(b)?c.trustAsHtml(b):b}else a.headerSectionTemplateUrl&&(e.state.headerSectionTemplateUrl=a.headerSectionTemplateUrl);if(a.showFooterSection)if(a.footerSectionTemplate){var d=a.footerSectionTemplate;e.state.footerSectionTemplate=angular.isString(d)?c.trustAsHtml(d):d}else a.footerSectionTemplateUrl&&(e.state.footerSectionTemplateUrl=a.footerSectionTemplateUrl);var f=M(a.showHeaderSection,!1),g=M(a.showFooterSection,!1);e.configmenu=[{caption:"Filter",checked:!1,enabled:e.options.allowFiltering,action:function(){e.toggleFilter()}},{caption:"Header",checked:a.showHeaderSection,visible:f,action:function(){e.options.showHeaderSection=!e.options.showHeaderSection,e.resizeTable(!1)}},{caption:"Footer",checked:a.showFooterSection,visible:g,action:function(){e.options.showFooterSection=!e.options.showFooterSection,e.resizeTable(!1)}},{caption:"Summary",checked:a.enableSummaryRow,visible:a.enableSummaryRow===!0,action:function(){if(e.options.enableSummaryRow){e.state.displaySummaryRow=!M(e.state.displaySummaryRow,!0);var a=e.grApi().table().footer();e.state.displaySummaryRow?$(a).show():$(a).hide(),e.resizeTable(!1)}}}],f&&(a.headerSectionController?e.headerSectionController=a.headerSectionController:e.headerSectionController=function(){}),g&&(a.footerSectionController?e.footerSectionController=a.footerSectionController:e.footerSectionController=function(){})},e.onScopeDestroy=function(){e.shellSizeChangeEvent&&e.shellSizeChangeEvent()},e.createGrid=function(){if(e.state.dataTable&&(D(e),e.state.dataTable=null,e.state.$table.length)){var a=e.state.$table.clone();e.state.$table.empty(),e.state.$table.remove(),e.state.summaryRow=void 0,e.state.tableElement=a,e.state.$table=angular.element(e.state.tableElement),e.state.$table.prependTo("#tblArea_"+e.state.dataGridId)}H(e)},e.$watch("epDataGridOptions",function(a){a&&e.setGridOptions(a)}),e.grDataTable=function(){return e.state.dataTable.dataTable()},e.grData=function(){var a=e.grDataTable();return a.fnGetData()},e.grApi=function(){return e.grDataTable().api()},e.grColumns=function(){var a=e.grDataTable();return a.fnSettings().aoColumns},e.grGetRowNodeByIndex=function(a){var b=e.grApi().row(a);return null===b?null:b.node()},e.grGetCellIndexByColumn=function(a){var b=e.grGetColumn(a);return b?b.idx:-1},e.grGetColumn=function(a){if(!a&&0!==a)return null;var b=e.grColumns(),c=angular.isString(a),d=null;return d=c?_.find(b,function(b){return b.sName===a}):_.find(b,function(b){return b.mData===a})},e.grGetMetaColumn=function(a){if(!a&&0!==a)return null;var b=e.state.gridColumns,c=angular.isString(a),d=null;return d=c?_.find(b,function(b){return b.name===a}):_.find(b,function(b){return b.data===a})},e.grFindColumnByCellIndex=function(a){var b=e.grColumns();return _.find(b,function(b){return b.nTh.cellIndex===a})},e.getRowByColumnValue=function(a,b){var c=null,d=e.grGetCellIndexByColumn(a);if(d!==-1){var f=e.grApi(),g=$.inArray(b,f.column(d).data());c=e.state.dataTable.find("tbody tr")[g]}return c},e.iterateHeaderColumns=function(a){var b=e.grApi().table().header(),c=$("tr",b),d=$(c).find("th");$(d).each(function(b,c){var d,f=$(c);f.width&&f.text()&&(d=e.grFindColumnByCellIndex(f.context.cellIndex)),a(f,d)})},e.calcTableHeight=function(){var a=0;if(e.state.$table.length){a=$(e.state.linkElement).height(),0===a&&e.state.linkElement[0].parentNode&&(a=$(e.state.linkElement[0].parentNode).height());var b=e.findElement(".dataTables_scrollBody").offset();if(e.options.fnOnCalcTableHeight)a=e.options.fnOnCalcTableHeight(a,b);else if(e.state.tableHeight&&angular.isNumber(e.state.tableHeight))a=e.state.tableHeight;else if("view"===e.options.tableHeight){var c=angular.element("#viewContainer");c.length&&(e.shellSizeChangeEvent||(e.shellSizeChangeEvent=f.$on("SHELL_SIZE_CHANGE_EVENT",function(){e.resizeTable(!0)})),a=c.height()-(b||{top:130}).top-40,e.options.fnOnCalcTableHeight&&(a=e.options.fnOnCalcTableHeight(a,b)))}if(e.options.showFooterSection){var d=e.findElement(".ep-datagrid-footer-section");d.length&&(a-=$(d).height())}if(e.options.enableSummaryRow&&e.state.dataTable&&e.state.displaySummaryRow!==!1){var g=e.grApi().table().footer();g&&(a-=$(g).height())}}return a},e.findInTable=function(a){return e.state.tableElement.find(a)},e.findElement=function(a){return e.state.linkElement.find(a)},e.renderGridCell=function(a,b,c,d){return A(e,a,b,c,d)},e.tableCellClick=function(a){e.tableCellClicked(a,!1)},e.tableCellDblClick=function(a){e.tableCellClicked(a,!0)},e.tableCellClicked=function(a,b){var c=a.target,d=$(c).closest(".ep-data-grid");if(d.length&&$(d).attr("id")===e.state.dataGridId){for(;c&&c!==this;){if("TR"===c.nodeName&&c.parentNode&&"TBODY"===c.parentNode.nodeName){e.activateCell(a,c),e.activateRow(c),b&&e.options.fnOnGridRowDoubleClick?e.options.fnOnGridRowDoubleClick(c):e.options.fnOnCheckBoxClick&&e.processCheckBoxGridClick(a.target,c);break}c=c.parentNode}e.options.fnExpandCollapseChildGrid&&e.options.fnExpandCollapseChildGrid(a,c,e)}},e.processCheckBoxGridClick=function(a,b){var c=e.state;if(e.options.fnOnCheckBoxClick&&b&&c.activeRow){var d=$(a);if(d.hasClass&&d.hasClass("checkbox-display")&&d.attr("mdata")){c.activeRecord=c.dataTable.fnGetData(c.activeRow);var f=d.closest("td");if(c.activeRecord&&f){var g=parseInt(d.attr("mdata"));if(!isNaN(g)){var h=_.find(e.state.gridColumns,function(a){return a.mData===g});h&&e.options.fnOnCheckBoxClick(c.activeRecord,h)}}}}},e.activateCell=function(a,b){if(a&&a.target&&e.state.canSelectCells===!0){e.findInTable("td.info").removeClass("info").removeClass("activeCell");var c=angular.element($(a.target).closest("td"));if(c&&c.length&&c.hasClass("selectable")){var d=c.closest("tr");if(d.length&&d[0]===b){c.hasClass("fixed")||c.addClass("info activeCell");var f=d.children().index(c);e.state.activeCell={index:f,cell:c}}}}},e.activateFirstRow=function(){e.activateNthRow(0,!1)},e.activateNthRow=function(b,c){var d=e.grGetRowNodeByIndex(b);return d&&(e.activateRow(d),a(function(){if(angular.element(d).trigger("click"),c){var a=e.state.linkElement.find(".dataTables_scrollBody");a.animate({scrollTop:$(d).prop("offsetTop")-a.height()/2},100)}},100)),d},e.getPrevNextRow=function(a,b){if(1!==a&&a!==-1)return null;var c=void 0===b?e.state.activeRow:b,d=1===a?$(c).next():$(c).prev();if(d&&d.length){var f=d.get(0);return angular.element(f).find(".row-alert").length?e.getPrevNextRow(a,f):"loadMoreDownRow"===f.id?null:f}return null},e.activateRow=function(a){var b=e.state;if(b.prevActiveRowSet!==a){if(b.activeRow){var c=angular.element(b.activeRow);c.removeClass("active").find(".row-indicator").removeClass(O)}a&&void 0!==a._DT_RowIndex&&(e.isValidRow(a)?(b.activeRow=a,b.activeRecord=b.dataTable.fnGetData(a),e.options.fnOnActivateRow&&e.options.fnOnActivateRow(b.activeRecord,b.activeRow),e.updateTableEditState(),angular.element(a).addClass("active").find(".row-indicator").addClass(O),e.options.fnSetRowIndicator&&e.options.fnSetRowIndicator(a,e)):(d.debug("scope.activateRow(row) - trying to activate an invalid row"),b.activeRow=null,b.activeRecord=null,e.updateTableEditState()),b.prevActiveRowSet=b.activeRow)}},e.scrollToRow=function(b){var c=angular.element(b?b:e.state.activeRow);c&&a(function(){var a=e.findElement(".dataTables_scrollBody"),b=c.offset().top-a.offset().top;a.scrollTop(b)})},e.updateTableEditState=function(){var a=e.state,b=angular.element(a.activeRow);a.dataTable.find(b).length||(e.activateFirstRow(),b=angular.element(a.activeRow)),e.findInTable(".row-indicator").removeClass(O),a.dataTable.find("tr.active").removeClass("active");var c=a.dataTable.find("tr");c.find("td").removeClass("edit-pending"),c.find(".edit-indicator").removeClass(P).removeClass(S),e.options.fnOnTableEditState&&e.options.fnOnTableEditState(),b.addClass("active").find(".row-indicator").addClass(O)},e.updateTableEditStateActiveRow=function(){if(null!==e.state.activeRow&&null!==e.state.activeRecord){var a=$(e.state.activeRow),b=a.find(".row-indicator");$(b).removeClass(O),a.find("tr.active").removeClass("active"),b.removeClass(P).removeClass(S),e.options.fnOnTableEditState&&e.options.fnOnTableEditState(e.state.activeRecord),b.addClass(O)}},e.setRowEditMode=function(a,b){var c=angular.element(a);"edit"===b&&c.find(".edit-indicator").addClass(P)},e.appendRow=function(a){var b=e.state.dataTable.fnSettings();b._iDisplayLength++;var c=e.state.dataTable.fnAddData(a,!0)[0],d=e.state.dataTable.find("tr"),f=$(d.get(c+1));return f},e.isValidRow=function(a){if(a){var b=angular.element(a);if(b&&b.index&&e.state.dataTable.fnGetData(a))return!0}return!1},e.resizeTable=function(b){e.state.$table&&e.state.$table.is(":visible")&&(a.cancel(e.resizeTimeout),e.resizeTimeout=a(function(){if(e.state.dataTable){var a=e.calcTableHeight(),c=e.state.dataTable.fnSettings(),d=a+"px";c&&c.oScroll&&(b||c.oScroll.sY!==d)&&(c.oScroll.sY=d,e.findElement(".dataTables_scrollBody").height(a))}},300))},e.refreshData=function(){if(e.state.dataTable){var a=e.state.gridLoadPrms.previousPrms;E(e,a.searchTerm,a.sortColIdx,a.sortDir,!1,!1,!0)}},e.draw=function(a){var b=e.grApi();b&&b.draw(a)},e.setDataSource=function(a,b){e.state.staticMode===!0&&(e.state.dataSource=a&&0!==a.length?a:null,b&&e.state.dataTable&&(e.state.dataTable.fnClearTable(),e.state.dataTable.fnAddData(e.state.dataSource)))},e.callPreviousGetData=function(){if(e.state.dataTable){var a=e.state.gridLoadPrms.previousPrms,b=e.state.gridLoadPrms.previousCall;E(e,a.searchTerm,a.sortColIdx,a.sortDir,b.append,b.showEditIndicator,!1)}},e.showProgressIndicator=function(){e.options.fnShowProgressIndicator&&e.options.fnShowProgressIndicator()},e.hideProgressIndicator=function(){e.options.fnHideProgressIndicator&&e.options.fnHideProgressIndicator()},e.sumColumn=function(a){var b=function(a){return"string"==typeof a?1*a.replace(/[\$,]/g,""):"number"==typeof a?a:0};return e.grApi().column(a).data().reduce(function(a,c){return b(a)+b(c)},0)},e.formatNumber=function(a,b){return"decimal"===b.userColumnDef.sType?a=B(a,b):"integer"===b.userColumnDef.sType&&(a=C(a)),a},e.updateSummaryRow=function(){e.options.enableSummaryRow&&angular.forEach(e.state.summaryRow.columns,function(a){if(a.value=void 0,a.col)if(a.col.userColumnDef.summarize)a.value=e.formatNumber(e.sumColumn(a.col.iIndex),a.col);else{var b=a.col.userColumnDef.fnOnSummaryUpdate||e.options.fnOnSummaryUpdate;b&&b(a)}})},e.createFilter=function(){if(0===e.findElement(".ep-datagrid-filter-row").length){var a=e.grApi().table().header();return angular.element(a).append(b("<ep-data-grid-filter-row></ep-data-grid-filter-row>")(e)),!0}return!1},e.showFilter=function(){e.createFilter(),e.state.filterShowFlag=!0},e.hideFilter=function(){e.state.filterShowFlag=!1},e.toggleFilter=function(){e.createFilter()?e.state.filterShowFlag=!0:e.state.filterShowFlag=void 0===e.state.filterShowFlag||!e.state.filterShowFlag,e.configmenu[0].checked=e.state.filterShowFlag},e.getFilterState=function(){e.state.filterFunctions&&e.state.filterFunctions.getFilterExpressions()},e.setInitialFilters=function(){e.getFilterState();var a=!(!e.state.filterExpressions||!e.state.filterExpressions.length);a?e.showFilter():e.getFilterState()},e.onHideFilter=function(a){a&&e.applyFilter()},e.onChangeFilter=function(){e.applyFilter()},e.applyFilter=function(){e.state.filterTimeout&&a.cancel(e.state.filterTimeout),e.state.filterTimeout=a(function(){e.getFilterState();var a=e.state.gridLoadPrms.previousPrms;E(e,a.searchTerm,a.sortColIdx,a.sortDir,!1,!0,!1)},200)},e.epDataGridOnInit&&e.epDataGridOnInit({factory:e.state.gridFactory})}var O="fa fa-play",P="fa fa-square",Q="fa-check-square-o",R="fa-square-o",S="fa fa-edit",T=h.getFeatures();e.performDrillThrough=function(a){var b=angular.element(a.target),c=b.scope();if(c.options.fnOnPerformDrillThrough){var d,e=b.closest("td"),f=c.grApi().cell(e).index(),g=-1;if(f.column>=0&&_.any(c.options.metadata.columns,function(a){a.mData===f.column-2&&(d=a,g=d.mData)}),d&&"True"===d.sIsDrillable&&g>=0){var h=c.grGetRowNodeByIndex(f.row),i=c.state.dataTable.fnGetData(h),j=i[g];c.options.fnOnPerformDrillThrough(j,i,d,g,f.row)}}},e.onExternalLinkClick=m;var U={group:z,bool:s,date:r,phone:n,address:o,email:p,url:q,currency:t,integer:v,decimal:u,select:y,rowIndicator:w,editIndicator:x},V={group:!1,bool:!1,date:!0,phone:!0,address:!0,email:!0,url:!0,currency:!0,integer:!0,decimal:!0,select:!1,rowIndicator:!1,editIndicator:!1};return{restrict:"E",templateUrl:"src/components/ep.datagrid/datagrid.html",scope:{epDataGridOptions:"=",epDataGridOnInit:"&"},link:N}}]),function(){"use strict";function a(a,b){function c(c,d,e){var f={tableHeight:300,pageLength:20,staticMode:!0,fnUpdateRecordsInfo:function(a){g.statusBarText=a}};b.copyProperties(d,f);var g={size:"large",title:"",templateUrl:"src/components/ep.datagrid/datagrid-dialog.html",icon:"fa fa-cogs fa-2x",onDataGrid:function(a){a.setGridOptions(f),a.setDataSource(e,!0)},statusBar:!0,buttons:[{isCancel:!0,id:"cancel_btn",text:"Cancel"}]};b.copyProperties(c,g),a.showCustomDialog(g)}function d(a){var b="string",c=a.toLowerCase();return 0===c.indexOf("system.")&&(c=c.substr(7)),"datetime"===c?b="date":"bool"===c||"boolean"===c?b="bool":"int"!==c&&"integer"!==c&&"int32"!==c&&"int64"!==c&&"long"!==c&&"int16"!==c||(b="integer"),"double"!==c&&"decimal"!==c&&"float"!==c||(b="decimal"),b}return{showGridDialog:c,resolveDataType:d}}a.$inject=["epModalDialogService","epUtilsService"],angular.module("ep.datagrid").service("epDataGridService",a)}(),function(){"use strict";function a(a,b,c){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.datagrid/ep.datagrid.json/ep-datagrid-json.html",scope:{options:"=",columnNames:"=",columnProps:"=",data:"=",onGridInit:"&"},compile:function(){return{pre:function(a){a.state={},a.state.datagridOptions={tableHeight:300,pageLength:20,staticMode:!0,metadata:{}},c.copyProperties(a.options,a.state.datagridOptions),a.detectType=function(b){var c=_.find(a.data,function(a){return void 0!==a[b]&&null!==a[b]}),d=typeof c[b];return"number"===d?"int":"string"},a.setMeta=function(){a.state.columnNames=a.columnNames||"",a.state.columnNames&&angular.isString(a.state.columnNames)?a.state.columnNames=a.state.columnNames.split(","):a.state.columnNames=[];var b=a.data&&angular.isArray(a.data)&&a.data.length;if(0===a.state.columnNames.length&&b){var d=a.data[0];a.state.columnNames=[];for(var e=0;e<d.length;e++)a.state.columnNames.push("Column "+e)}var f=a.options&&a.options.metadata&&a.options.metadata.columns;if(!f){for(var g=[],h=0;h<a.state.columnNames.length;h++){var i=a.state.columnNames[h],j={mData:h,sName:i,sTitle:i};if(a.columnProps){var k=a.columnProps[h];k&&c.copyProperties(k,j)}!j.sDataType&&b&&(j.sDataType=a.detectType(h)),g.push(j)}a.state.datagridOptions.metadata.columns=g}},a.onDataGrid=function(b){a.state.factory=b,a.setMeta(),a.state.factory.setGridOptions(a.state.datagridOptions),a.state.factory.setDataSource(a.data,!0),a.options&&(a.options.factory=b),a.onGridInit&&a.onGridInit(b)},a.$watch("columnNames",function(b,c){b&&b!==c&&(a.setMeta(),a.state.factory.setGridOptions(a.state.datagridOptions),a.state.factory.createGrid())}),a.$watch("data",function(b,c){b&&b!==c&&a.state.factory.setDataSource(a.data,!0)})}}}}}a.$inject=["$compile","$log","epUtilsService"],angular.module("ep.datagrid").directive("epDataGridJson",a)}(),function(){"use strict";angular.module("ep.dock.panel").directive("epDockPanel",["$log","$timeout",function(a,b){function c(a){a.panelId=_.uniqueId("dockPanel_")}function d(){}function e(a){return a.split(",").map(function(a){return a.trim().toLowerCase()})}function f(a,b){i.forEach(function(c){a[c].forEach(function(a){var d=c+"Flow",e=a.epOrientation+(a.epWrap?" wrap":"");b[d]=e})})}function g(b){i.forEach(function(c){b[c].forEach(function(b){var d=b.children();d.each(function(){var b=$(this),d=b.attr("anchors");if(d){var f={top:!1,left:!1,right:!1,bottom:!1};try{var g=e(d);g.forEach(function(a){f[a]=!0})}catch(h){a.warn('An error occurred while parsing the anchor attribute for the zone "'+c+'".'),a(h)}var i=0;f.top&&(i+=50),f.bottom&&(i+=50),i&&b.css("height",i+"%");var j=0;f.left&&(j+=50),f.right&&(j+=50),j&&b.css("width",j+"%"),f.right&&!f.left&&b.css("margin-left","50%"),f.bottom&&!f.top&&b.css("margin-top","50%")}})})})}function h(a,c){function d(b){var c=j.find(".ep-dock-panel-"+b),d=k.find("[dock="+b+"]");c.epPanelMode=d.attr("mode"),c.epOrientation=d.attr("orientation")||"vertical",c.epWrap="true"===(c.attr("wrap")||"false").toLowerCase(),c.hasContent=!!d.length,"static"===c.epPanelMode&&c.css("flex","0 0"),e[b]=c,h[b].push(d),a[b+"Visible"]=d.length,c.append(d)}var e={left:null,right:null,top:null,bottom:null,center:null},h={left:[],right:[],top:[],bottom:[],center:[]},j=$(c),k=j.find("#transclusion"),l=j.find(".ep-dock-panel-cross-axis"),m=k.children(),n=m.attr("dock"),o=!1;"top"===n||"bottom"===n?(o=!0,a.mainFlow="column",j.find(".ep-dock-panel-top").appendTo(j),j.find(".ep-dock-panel-bottom").appendTo(j),a.crossFlow="row",j.find(".ep-dock-panel-left").appendTo(l),j.find(".ep-dock-panel-right").appendTo(l)):(a.mainFlow="row",j.find(".ep-dock-panel-left").appendTo(j),j.find(".ep-dock-panel-right").appendTo(j),a.crossFlow="column",j.find(".ep-dock-panel-top").appendTo(l),j.find(".ep-dock-panel-bottom").appendTo(l)),i.forEach(d);var p,q,r,s=0;o?(s=(e.top.hasContent&&"stretch"===e.top.epPanelMode?1:0)+(e.left.hasContent||e.center.hasContent||e.right.hasContent?1:0)+(e.bottom.hasContent&&"stretch"===e.bottom.epPanelMode?1:0),s&&(p=100/s,e.top.hasContent&&"stretch"===e.top.epPanelMode&&(a.topFlex="1 1 "+p+"%"),(e.left.hasContent||e.center.hasContent||e.right.hasContent)&&(a.crossFlex="1 1 "+p+"%",r=(e.left.hasContent&&"stretch"===e.left.epPanelMode?1:0)+(e.center.hasContent&&"stretch"===e.center.epPanelMode?1:0)+(e.right.hasContent&&"stretch"===e.right.epPanelMode?1:0),q=100/r,e.left.hasContent&&"stretch"===e.left.epPanelMode&&(a.leftFlex="1 1 "+q+"%"),e.center.hasContent&&"stretch"===e.center.epPanelMode&&(a.centerFlex="1 1 "+q+"%"),e.right.hasContent&&"stretch"===e.right.epPanelMode&&(a.rightFlex="1 1 "+q+"%")),e.bottom.hasContent&&"stretch"===e.bottom.epPanelMode&&(a.bottomFlex="1 1 "+p+"%"))):(s=(e.left.hasContent&&"stretch"===e.left.epPanelMode?1:0)+(e.top.hasContent||e.center.hasContent||e.bottom.hasContent?1:0)+(e.right.hasContent&&"stretch"===e.right.epPanelMode?1:0),s&&(p=100/s,e.left.hasContent&&"stretch"===e.left.epPanelMode&&(a.leftFlex="1 1"+p+"%"),(e.top.hasContent||e.center.hasContent||e.bottom.hasContent)&&(a.crossFlex="1 1 "+p+"%",r=(e.top.hasContent&&"stretch"===e.top.epPanelMode?1:0)+(e.center.hasContent&&"stretch"===e.center.epPanelMode?1:0)+(e.bottom.hasContent&&"stretch"===e.bottom.epPanelMode?1:0),q=100/r,e.top.hasContent&&"stretch"===e.top.epPanelMode&&(a.topFlex="1 1 "+q+"%"),e.center.hasContent&&"stretch"===e.center.epPanelMode&&(a.centerFlex="1 1 "+q+"%"),e.bottom.hasContent&&"stretch"===e.bottom.epPanelMode&&(a.bottomFlex="1 1 "+q+"%")),e.right.hasContent&&"stretch"===e.right.epPanelMode&&(a.rightFlex="1 1 "+p+"%"))),b(function(){f(h,a),g(h)})}c.$inject=["$scope"];var i=["top","bottom","left","right","center"];return{restrict:"E",replace:!0,templateUrl:"src/components/ep.dock.panel/epDockPanel.html",controller:c,transclude:!0,link:{pre:d,post:h}}}])}(),function(){"use strict";angular.module("ep.drag.drop").factory("dragOperationFactory",[function(){function a(a){var b={};return b.dropCallback=a.dropCallback,b.dragStart=a.dragStart,b.dropCallbackParams=a.dropCallbackParams,b.dragItem=a.dragItem,b.dragItemType=a.dragItemType,b}return{getDragOperation:a}}])}(),function(){"use strict";angular.module("ep.drag.drop").directive("epDraggable",["dragOperationFactory",function(a){return{restrict:"A",scope:{dropCallback:"=dropCallback",dragStart:"=dragStart",dropCallbackParams:"=dropCallbackParams",dragItem:"=dragItem",dragItemType:"=dragItemType",dragEnabled:"="},compile:function(b,c){return c.draggable||b.attr("draggable","true"),function(b,c){if(!b.dragItemType)throw new Error("Dragged item type is not specified!");b.$watch("dragEnabled",function(a){void 0!==a&&c.attr("draggable",a===!1?"false":"true")}),c.on("dragstart",function(c){c.stopPropagation(),c.originalEvent.dataTransfer.setData("Text",c.target.textContent),c.originalEvent.dataTransfer.dropEffect="move";var d=a.getDragOperation(b),e=function(){return d};angular.isFunction(d.dragStart)&&d.dragStart(c,d.dragItem),$(c.target).addClass("ep-drag-active"),b.$root.$broadcast("startDraging",e)}),c.on("dragend",function(c){c.stopPropagation(),c.preventDefault(),$(c.target).removeClass("ep-drag-active");var d=a.getDragOperation(b);angular.isFunction(d.dropCallback)&&d.dropCallback()})}}}}])}(),function(){"use strict";function a(a){function b(b,c){function d(a,b){j=b}function e(a){var b=c.dropItemTypes.split(",");if(Array.isArray(b)&&b.length>1){if(b.indexOf(a)===-1)return!1}else if(c.dropItemTypes!==a)return!1;return!0}function f(d){d.stopPropagation(),d.preventDefault(),$(b).removeClass("ep-drop-active ep-drop-highlight");var f=j();e(f.dragItemType)&&a[c.dropHandler]&&a[c.dropHandler].call(f.dragItem||this,f,b)}function g(d){d.stopPropagation(),d.preventDefault();var f=j();if(e(f.dragItemType)&&($(b).addClass("ep-drop-active"),m&&$(b).addClass("ep-drop-highlight")),a[c.overHandler]){var g=f.dragItem||this;a[c.overHandler].call(g,f,d)}}function h(d){if(d.stopPropagation(),d.preventDefault(),$(b).removeClass("ep-drop-active ep-drop-highlight"),a[c.leaveHandler]){var e=j(),f=e.dragItem||this;a[c.leaveHandler].call(f,e,d)}}function i(c){l=c,c?(k=a.$on("startDraging",d),b.on("drop",f),b.on("dragover",g),b.on("dragleave",h)):(k&&k(),b.off("drop"),b.off("dragover"),b.off("dragleave"))}var j,k,l,m=!0;a.$watch(c.dropHighlight,function(a){a!==!0&&a!==!1||(m=a)}),void 0===c.dropEnabled?i(!0):a.$watch(c.dropEnabled,function(a){void 0===a&&void 0===l&&i(!0),a!==!0&&a!==!1||a===l||i(a)})}a.register=b}a.$inject=["$scope"],angular.module("ep.drag.drop").controller("epDropAreaCtrl",a)}(),angular.module("ep.drag.drop").directive("epDropArea",[function(){return{restrict:"A",controller:"epDropAreaCtrl",controllerAs:"dropCtrl",scope:!1,compile:function(){return function(a,b,c){a.register(b,c)}}}}]),function(){"use strict";function a(a,b){a.menuClick=function(a,c){void 0===c.target.checked?a.checked=!a.checked:b(function(){$(c.target).prop("checked",a.checked)}),a.action&&a.action(a),c.preventDefault(),c.stopPropagation()}}a.$inject=["$scope","$timeout"],angular.module("ep.dropdown").controller("epDropdownBtnCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",controller:"epDropdownBtnCtrl",scope:{menu:"=",icon:"="},templateUrl:"src/components/ep.dropdown/ep-dropdown-btn/ep-dropdown-btn.html"}}angular.module("ep.dropdown").directive("epDropdownBtn",a)}(),function(){"use strict";angular.module("ep.dynamic.directive").controller("epDynamicDirectiveCtrl",["$scope","epDynamicDirectiveService",function(a,b){function c(){d.compiled=b.build(d.directiveInfo.name,d.directiveInfo.scopeProperties,d.scope),d.element&&d.element.html(d.compiled)}var d=this;d.scope=a,a.$watch(function(){return d.directiveInfo},c),c()}])}(),function(){"use strict";angular.module("ep.dynamic.directive").directive("epDynamicDirective",function(){return{restrict:"E",controller:"epDynamicDirectiveCtrl",controllerAs:"dynamicDirective",bindToController:!0,scope:{directiveInfo:"="},compile:function(){return{pre:function(a,b){a.dynamicDirective.element=b},post:function(a,b){null!==a.dynamicDirective.compiled&&b.append(a.dynamicDirective.compiled)}}}}})}(),function(){"use strict";angular.module("ep.dynamic.directive").service("epDynamicDirectiveService",["$rootScope","$compile",function(a,b){var c={};this.build=function(c,d,e,f){var g=f?e||a:e?e.$new():a.$new();angular.extend(g,d);var h=this.getTemplate(c);return h?b(h)(g):null},this.registerTemplate=function(a){c[a.id]||(c[a.id]=a.value)},this.getTemplate=function(a){return c[a]}}])}(),angular.module("ep.embedded.apps").directive("epEmbeddedAppsHref",["$log","epEmbeddedAppsService",function(a,b){return{restrict:"A",scope:{},link:function(c,d,e){function f(){c.clickHandler=d.bind("click",function(){b.goToView(e.epHrefAppId,e.epHref)}),c.$on("$destroy",function(){d.unbind("click",c.clickHandler)})}if("A"===d[0].tagName||"BUTTON"===d[0].tagName)if("A"===d[0].tagName&&e.$set("href",""),e.epHrefAppId)f();else for(var g=Object.keys(b.configs),h=0;h<g.length;h++){var i=b.configs[g[h]];if(i.isRunning){e.$set("epHrefAppId",i.id),f();break}}else a.warn("ep-embedded-apps-href can only be used on an <a> or <button> tag")}}}]),function(){"use strict";function a(a,b,c,d,e,f,g,h){return{scope:{config:"=",onComplete:"&"},link:function(i,j){function k(){m&&(m.$destroy(),m=null),j.html("");
}function l(d){var h,i=c.defer(),j="view:"+d;return g.scriptCache.get(j)?(h=g.scriptCache.get(j),e(function(){i.resolve(h)},0)):a.get(d,{cache:f}).then(function(a){g.scriptCache.put(j,a.data),i.resolve(a.data)},function(a){b.error('Error loading template "'+d+'": '+a),i.reject(a)}),i.promise}var m;i.$watch("config.id",function(){var a=i.config;a&&a.id?h.load(a).then(function(){var b=a.activeViewId||a.startViewId,c=h.getAppPath(a.id,a.views[b].templateUrl);return l(c)}).then(function(a){m=i.$new(),j.html(a);var b=j.contents(),c=d(b);c(m),i.onComplete&&i.onComplete()}):k()})}}}a.$inject=["$http","$log","$q","$compile","$timeout","$templateCache","epEmbeddedAppsCacheService","epEmbeddedAppsProvider"],angular.module("ep.embedded.apps").directive("epEmbeddedAppsLoader",a)}(),angular.module("ep.embedded.apps").service("epEmbeddedAppsShellService",["$rootScope","$location","$log","$timeout","epEmbeddedAppsConstants","epEmbeddedAppsProvider","epUtilsService",function(a,b,c,d,e,f,g){function h(a){f.state&&f.state.loadComplete?a():d(function(){h(a)},250)}function i(){n=g.getService("epShellService"),n&&(a.$on(e.CONFIG_LOADED_EVENT,function(a,b){o=b.goToView,l(b.configs)}),a.$on(e.APPLICATION_LOADED_EVENT,function(a,b){var c=b.scope,d=c.appConfig;d.name&&n.setPageTitle(d.name),n.saveState(),j(c,d)}),a.$on(e.APPLICATION_EXIT_EVENT,function(){n.restoreState()}),a.$on(e.VIEW_LOADED_EVENT,function(a,b){var c=b.scope,d=c.appConfig,e=d.views[b.viewId];e&&h(function(){k(c,d,e)})}))}function j(a,c){if(c.epShellNavBar&&(c.epShellNavBar.hideHostButtons&&n.updateNavbarButtons([]),c.epShellNavBar.closeButton)){var d=c.epShellNavBar.closeButton;n.addNavbarButtons([{id:d.id||"ep.embedded.app_closeApp",title:d.title||"Close application and return home.",icon:d.icon||"fa-times",action:function(){b.url("/home")}}])}}function k(a,b,c){if(c.sidebarOptions&&!c.sidebarSettings&&(c.sidebarSettings=c.sidebarOptions),c.sidebarSettings){if(n.disableLeftSidebar(),c.sidebarSettings.left)if(n.enableLeftSidebar(),c.sidebarSettings.left.templateUrl){var d=a.embeddedAppsService.getAppPath(b.id,c.sidebarSettings.left.templateUrl);n.setLeftTemplate("<div ng-include=\"'"+d+"'\"></div>")}else c.sidebarSettings.left.template&&n.setLeftTemplate(c.sidebarSettings.left.template);if(n.disableRightSidebar(),c.sidebarSettings.right)if(n.enableRightSidebar(),c.sidebarSettings.right.templateUrl){var e=a.embeddedAppsService.getAppPath(b.id,c.sidebarSettings.right.templateUrl);n.setRightTemplate("<div ng-include=\"'"+e+"'\"></div>")}else c.sidebarSettings.right.template&&n.setRightTemplate(c.sidebarSettings.right.template)}else n.disableLeftSidebar(),n.disableRightSidebar();if(c.viewSettings){var g=c.viewSettings,h=f.getAppRoute(b.id,b.startViewId);g.small&&(b.startupInShell&&!g.small.brandTarget&&(g.small.brandTarget=h),angular.forEach(g.small,function(a,b){n.__state.viewSettings.small[b]=a})),g.large&&(b.startupInShell&&!g.large.brandTarget&&(g.large.brandTarget=h),angular.forEach(g.large,function(a,b){n.__state.viewSettings.large[b]=a})),g.small||g.large||(b.startupInShell&&!g.brandTarget&&(g.brandTarget=h),angular.forEach(g,function(a,b){n.__state.viewSettings.small[b]=a,n.__state.viewSettings.large[b]=a})),n.__setCurrentModeFlags()}}function l(a){var b;n.isHomeLocation()&&(a&&angular.forEach(a,function(a){if(a.epShellNavBar&&a.epShellNavBar.applicationButton){var c=a.epShellNavBar.applicationButton;n.addNavbarButtons([{id:"ep.embedded.app_"+a.id,title:c.title||a.name,icon:c.icon||a.icon,action:function(){o(a.id)}}])}a.startupInShell&&(b=a)}),b&&o(b.id))}function m(){}var n,o;return d(function(){i()}),{initialize:m,setupShellConfigs:l}}]),angular.module("ep.embedded.apps").constant("epEmbeddedAppsConstants",{CONFIG_LOADED_EVENT:"EMBEDDED_CONFIG_LOADED_EVENT",APPLICATION_LOADED_EVENT:"EMBEDDED_APPLICATION_LOADED_EVENT",VIEW_LOADED_EVENT:"EMBEDDED_VIEW_LOADED_EVENT",APPLICATION_EXIT_EVENT:"EMBEDDED_APPLICATION_EXIT_EVENT"}),angular.module("ep.embedded.apps").directive("epEmbeddedApps",["$document","$log","$rootScope","$routeParams","$location","$timeout","epEmbeddedAppsService","epEmbeddedAppsCacheService","epEmbeddedAppsConstants",function(a,b,c,d,e,f,g,h,i){return{restrict:"E",templateUrl:"src/components/ep.embedded.apps/embedded-apps.html",link:function(j){function k(k){var m=g.configs[k];if(m){var n;if(n=l.viewId?m.views[l.viewId]:m.views[m.startViewId],n&&(n.parent=m,m.activeViewId=l.viewId,j.currentView=n,n.routeParams)){var o=n.routeParams.split("/").map(function(a){return a.substring(1,a.length)}),p=0;angular.forEach(o,function(a){a&&(d[a]=d["p"+p],delete d["p"+p],p++)})}if(!m.initialized&&m.splash){f(function(){j.showSplash=!0}),j.showApp=!1;var q=new Date;j.onLoaderComplete=function(){var a=Math.max(2e3-(new Date-q),0);m.initialized=!0,f(function(){j.showSplash=!1,j.showApp=!0,j.$apply()},a)}}else j.showApp=!0,m.onComplete=null,m.initialized=!0;if(j.appConfig=m,j.embeddedAppsService=g,m.isRunning!==!0){m.isRunning=!0;var r=g.getAppRoute("");m.locationHdl||(m.locationHdl=c.$on("$locationChangeStart",function(){m.locationHdl&&0!==e.url().indexOf(r)&&(c.$on("$destroy",m.locationHdl),m.locationHdl=null,m.isRunning=!1,c.$emit(i.APPLICATION_EXIT_EVENT,{scope:j,viewId:l.viewId}),m.resources.links.forEach(function(c,d){var e="link_"+d,f=a[0].getElementById(e);f&&(a[0].getElementsByTagName("head")[0].removeChild(f),b.debug("Unloading link: "+c)),h.linkCache.remove(e)}),f(function(){j.$apply()}))})),f(function(){j.$emit(i.APPLICATION_LOADED_EVENT,{scope:j,viewId:l.viewId}),j.$apply()})}f(function(){j.$emit(i.VIEW_LOADED_EVENT,{scope:j,viewId:l.viewId}),j.$apply()})}}var l=g.state;j.showSplash=!1,c.$watch(function(){return g.state.loadComplete},function(a){a&&(l.appId=d.appId,d.viewId&&(l.viewId=d.viewId),k(l.appId))})}}}]),angular.module("ep.embedded.apps").service("epEmbeddedAppsCacheService",["$cacheFactory",function(a){var b=a("scriptCache",{capacity:200}),c=a("linkCache",{capacity:200});return{scriptCache:b,linkCache:c}}]).provider("epEmbeddedAppsProvider",["$controllerProvider","$provide","$compileProvider","$filterProvider",function(a,b,c,d){function e(a){try{angular.module(a)}catch(b){if(/No module/.test(b))return!1}return!0}function f(a){var b=[];return angular.forEach(a.requires,function(a){l.indexOf(a)===-1&&b.push(a)}),b}function g(a,b,c){var d,e,f;for(f=b,d=0,e=b.length;d<e;d++){var g,h=b[d];if(!c.hasOwnProperty(h[0]))return a.error("unsupported provider "+h[0]);g=c[h[0]];var i=g[h[1]],j=h[2];i.apply(g,j)}}function h(a,b,c,d){var e,h,i;if(d){var j=[],k=[];for(m.hostAppModule&&(k=f(angular.module(m.hostAppModule))),c.$injector=b,e=d.length-1;e>=0;e--){if(h=d[e],angular.moduleRequiresLoading[h]||k.length&&k.indexOf(h)===-1){l.push(h),i=angular.module(h),j=j.concat(i._runBlocks);try{g(a,i._invokeQueue,c),g(a,i._configBlocks,c)}catch(n){throw n.message&&(n.message+=" from "+h),a.error(n.message),n}angular.moduleRequiresLoading[h]=!1}d.pop()}angular.forEach(j,function(c){try{b.invoke(c)}catch(d){a.error(d)}})}return null}function i(){var a=_.flatten(arguments,!0),b=m.path;return angular.forEach(a,function(a){b+="/"+a}),b}function j(){var a=_.flatten(arguments,!0),b="/"+m.rootRoute;return angular.forEach(a,function(a){b+="/"+a}),b}function k(a,b){return q=a,["$location",function(a){function c(){return i(q.id,arguments)}function d(){return j(q.id,arguments)}function e(b){a.url(d(b))}function f(a,c,d,e,f){if(void 0!==e&&null!==e&&!f&&h[e])return b(function(){return h[e]})}function g(){return q}var h={},k={get:function(a,b,c){return f("get",a,"",b,c)},post:function(a,b,c,d){return f("post",a,b,c,d)},put:function(a,b,c,d){return f("put",a,b,c,d)},"delete":function(a,b,c,d){return f("delete",a,"",c,d)}};return{getConfig:g,resource:k,data:h,goToView:e,getAppPath:c,getAppRoute:d}}]}var l=["ng"],m={rootRoute:"app",path:"apps",provider:"sysconfig",applications:[],hostAppModule:""},n={},o={$controllerProvider:a,$compileProvider:c,$filterProvider:d,$provide:b},p=[];p.push=function(a){this.indexOf(a)===-1&&Array.prototype.push.apply(this,arguments)};var q,r={loadComplete:!1};this.$get=["$timeout","$document","$http","$injector","$log","$q","epEmbeddedAppsCacheService","epSysConfig","epUtilsService",function(a,b,c,d,g,s,t,u,v){function w(j){function m(c,d){c.forEach(function(c,e){var f="link_"+e;if(c&&!t.linkCache.get(f)){var g=b[0].createElement("link");g.setAttribute("id",f),g.rel="stylesheet",g.href=c,g.type="text/css",b[0].head.appendChild(g),t.linkCache.put(f,1),a(function(){d("Link: "+c)})}})}function u(a,b,c){function d(b){function c(){e--,e<1&&d.resolve()}var d=s.defer(),e=b.length;return 0===e&&d.resolve(),b.forEach(function(b){v.loadScript(b,t.scriptCache).then(function(b){a(b)}).then(c,c)}),d.promise}r.loadComplete=!1,function(a){angular.moduleRequiresLoading={},angular.module=function(){return arguments.length>1&&(angular.moduleRequiresLoading[arguments[0]]=!0),a.apply(null,arguments)}}(angular.module);var e=(j.resources.scripts.thirdParty||[]).map(function(a){return i(j.id,a)});d(e).then(function(){var b=j.resources.scripts.module;if(b)return v.loadScript(i(j.id,b),t.scriptCache).then(function(b){a(b)})}).then(function(){var a=j.resources.scripts.app.map(function(a){return i(j.id,a)});return d(a)}).then(c);var f=j.resources.links.map(function(a){return i(j.id,a)});m(f,b)}function w(b,c){function d(d){if(d){var e=i.indexOf(d);e>-1&&i.splice(e,1)}0===i.length&&a(function(){c(b)})}if(l.indexOf(b)>-1)return c();var h=angular.module(b),i=f(h),j=f(h);return angular.forEach(j,function(a){if(p.push(a),e(a))return d(a);var b=n[a];return b?u(function(){},function(){},function(){w(a,function(a){d(a)})}):(g.warn("module ["+a+"] not loaded and not configured"),d(a)),null}),0===j.length&&d(),null}var x=s.defer(),y="module: "+j.id;if(n[j.id]=j,!j){var z="Module not configured";throw g.error(z),z}if(t.scriptCache.get(y)){g.debug("AppPackage "+j.id+" already loaded."),q=j,x.resolve(j.id);var A=j.resources.links.map(function(a){return i(j.id,a)});m(A,function(a){g.debug("Loaded "+a)})}else u(function(a){g.debug("Loaded "+a)},function(a){g.debug("Loaded "+a)},function(){p.push(j.id),w(j.id,function(){angular.module(j.id).factory("appPackageService",k(j,a,c)),h(g,d,o,angular.copy(p)),t.scriptCache.put(y,j),a(function(){x.resolve(j.id),r.loadComplete=!0})})});return x.promise}function x(){return u.mergeSection("ep.embedded.apps",m),m.path||(m.path="apps"),m.rootRoute||(m.rootRoute="app"),m}return m=x(),{settings:m,load:w,modules:n,getAppPath:i,getAppRoute:j,state:r}}]}]),angular.module("ep.embedded.apps").service("epEmbeddedAppsService",["$rootScope","$http","$q","$log","$location","$window","epUtilsService","epEmbeddedAppsProvider","epEmbeddedAppsConstants","epEmbeddedAppsShellService","epEmbeddedAppsCacheService",function(a,b,c,d,e,f,g,h,i,j,k){function l(a){var b=c.defer();return g.wait(function(){return C.loading!==!0},30,250,function(){m(a).then(function(a){b.resolve(a)})}),b.promise}function m(a){var b=c.defer();return D=[],E=0,C.loadComplete?(a===!0&&v(),b.resolve(!0)):q(b),b.promise}function n(){var a={Success:!0,apps:h.settings.applications},b=c.defer();return b.resolve(a),b.promise}function o(){var a=h.settings.provider;if(a&&"sysconfig"!==a){var b=g.getService(a);return b?b.getApps():[]}return n()}function p(a){var b=c.defer(),e=null;return g.hasProperty(a,"resources.scripts.startup")&&(e=h.getAppPath(a.id,a.resources.scripts.startup)),e&&a.resources.scripts.startup?g.loadScript(e,k.scriptCache).then(function(){try{var c=angular.injector([a.id+"-startup","ng","ngRoute"]),e=c.get("appStartupService");e&&(a.state.startupService=e)}catch(f){d.warn("startup service [appStartupService] was not executed for embedded application: "+a.id)}b.resolve(!0)},function(){d.warn("startup service [appStartupService] was not loaded for embedded application: "+a.id),b.resolve(!1)}):b.resolve(!0),b.promise}function q(a){C.loading=!0;var c=g.getService("epEmbeddedAppsService");o("config").then(function(e){try{e&&e.Success?(D=e.apps,E=0,D.forEach(function(e){var i=h.getAppPath(e,"AppPackage.json");b.get(i).then(function(b){var e=b.data;d.debug("Parsing AppPackage.config file: "+i),e.state={},B[e.id]=e,d.debug("AppPackage name: "+e.name);var h=e.tileSize?e.tileSize.split("x"):["2","1"];if(h&&2===h.length){var j=["","one","two","three","four","five","six","seven","eight","nine","ten"];try{e.tileSize={width:parseInt(h[0]),height:parseInt(h[1])},e.tileClass=(j[e.tileSize.width]||"two")+"-wide "+(j[e.tileSize.height]||"one")+"-tall"}catch(k){d.warn("Invalid value in tileSize property: "+e.tileSize)}}e.epEmbeddedAppsService=c,e.menu&&e.menu.disabled===!0||(e.state.menu={caption:"root",menuitems:[{caption:e.name,description:e.description||e.name,id:"pkg_"+e.id,_id:"pkg_"+e.id,version:e.version||"",action:function(){if(e.launchInTab){var a="./Index.html#"+t(e.id,e.startViewId,"");f.open(a)}else u(e.id)}}]}),p(e).then(function(){e.views=g.mapArray(e.views,"id"),e.initialized=!1,r(a)})},function(b){r(a),d.error("Failed retrieving AppPackage.config file: "+i),d.error(b)})}),C.loadComplete=!D.length):d.warn("Unable to load app package definition files.")}catch(i){C.loading=!1,d.error(i),a.reject(i)}})}function r(b){++E===D.length&&(a.$emit(i.CONFIG_LOADED_EVENT,{configs:B,goToView:u}),C.loading=!1,C.loadComplete=!0,b.resolve(!0))}function s(){return h.getAppPath(arguments)}function t(){return h.getAppRoute(arguments)}function u(a,b){var c=B[a];c&&e.url(t(c.id,b||c.startViewId))}function v(){j.setupShellConfigs(B)}function w(a,b){a.id&&(a._id=b+a.id),angular.forEach(a,function(a){a.id&&(a._id=b+a.id)}),a.menuitems&&w(a.menuitems,b)}function x(a,b,c,d,e){a.state.menu=b,b&&(w(a.state.menu,"pkg_"+a.id+"_"),c.push(a.state.menu)),e.menuToComplete--,e.menuToComplete<1&&d.resolve(c)}function y(){var a=[],b=[],e=c.defer();if(!C.loadComplete)return g.wait(function(){return C.loadComplete},30,250,function(){y().then(function(a){e.resolve(a)})}),e.promise;if(angular.forEach(B,function(c){c.menu&&c.menu.disabled===!0||(c.state.startupService&&c.state.startupService.getMenu?b.push(c):c.state.menu&&a.push(c.state.menu))}),b&&b.length){var f={menuToComplete:b.length};angular.forEach(b,function(b){var c=b.state.startupService.getMenu(b);c&&(c.then?c.then(function(c){x(b,c,a,e,f),d.debug("Retrieved menu from app package: "+b.id);var g=c&&c.Menu&&c.Menu.menuitems?c.Menu.menuitems.length:0;d.debug("Found "+g+" root menu items")}):x(b,c,a,e,f))})}else e.resolve(a);return e.promise}function z(){var a=[];return angular.forEach(B,function(b){b.state.menu&&a.push(b.state.menu)}),a}function A(a,b){var c=[];if(a&&a.views){var d=[];angular.forEach(a.views,function(c){if(c.caption||b){var e=b?c.caption||c.name||c.id:c.caption;d.push({id:"pkg_"+a.id+"_"+c.id,_id:"pkg_"+a.id+"_"+c.id,caption:e,description:c.description,icon:c.icon||"fa fa-list-alt",color:c.tileColor,action:function(){u(a.id,c.id)}})}});var e={};d.length?e={caption:"root",id:"root",menuitems:[{caption:a.name,id:"pkg_"+a.id,menuitems:d}]}:a.menu&&a.menu.disabled===!0||(e=a.state.menu),c={Menu:e}}return c}var B={},C={appId:"",viewId:"",loaded:!1},D=[],E=0;return{initialize:l,state:C,loadConfigurations:m,configs:B,getAppPath:s,getAppRoute:t,setupShellOnStartup:v,currentAppsMenu:z,retrieveAppsMenu:y,buildAppViewsMenu:A,goToView:u}}]),function(){"use strict";function a(a,b,c,d,e,f){function g(a,d){var f="Ice.BO.BAQDesignerSvc/BAQDesigners",g=e.setSelect(["QueryID","Company","IsShared","Version","Updatable","SysRevID"]);a&&(g=g.setWhereCustom("startswith(QueryID,'"+a+"')")),void 0!==d&&(g=g.setTop(d)),g=g.compose();var h=b.get(f,g).$promise;return h.then(function(){},function(a){var b=a["odata.error"]?a["odata.error"].message.value:a.statusText;c.showException({message:b})}),h}function h(e,g,h,i){i||(i={});var j=i.showProgress!==!1;j&&c.showLoading({title:i.title||"$$.emf.ep.erp.message.pleaseWait",message:i.message||"$$.emf.ep.erp.message.retrievingData"});var l=a.defer(),o=g;g&&g.compose&&(o=g.compose());var p="BaqSvc/"+e;if(i.parameters){var r="";if(angular.forEach(i.parameters,function(a,b){r&&(r+="&"),r+=b+"="+a}),r){var s=p.indexOf("?")<0?"?":"&";p+=s+r}}var t=b.get(p,o,i).$promise;t.then(function(){},function(a){var b=m(a,i.showError!==!1);l.reject(b,a)}),e===h||f.get(h)||f.addAlias(e,h);var u;return f.get(h)||i.retrieveMetaData===!1||(u=k(e,h,i.showError!==!1),u.then(function(a){if(a.data){var b=n(a.data.returnObj);f.add(h,"baq",b)}},function(){})),a.all([t,u]).then(function(a){var b=a[0].value;if(b){if(i.convertToJsonType!==!1){var g=f.get(e);q(g,b)}var k=d.current().add(h,b);k&&k.query({filter:o?o.$filter:""})}j&&c.hide(),l.resolve(a[0])}),l.promise}function i(e,g,h){h||(h={});var i,j=h.showProgress!==!1,k=function(){j&&c.hide()},l=a.defer();try{j&&c.showLoading({title:h.title||"$$.emf.ep.erp.message.pleaseWait",message:h.message||"$$.emf.ep.erp.message.sendingServerData"});var n="BaqSvc/"+e,o=angular.copy(g);h.convertToJsonType!==!1&&(i=f.get(e),r(i,o)),o.hasOwnProperty("$$hashKey")&&delete o.$$hashKey,i=f.get(e);var p,s=o;if(h.updatableOnly!==!1)i&&i.columns&&(s=angular.copy(o),p=_.filter(i.columns,function(a){return a.updatable!==!0&&a.isKeyField!==!0&&"SysRowID"!==a.name&&(a.name.indexOf("_")!==-1||0===a.name.indexOf("_"))}),angular.forEach(p,function(a){delete s[a.name]}),s&&s.length<1&&(s=o));else if(i&&i.columns){s=angular.copy(o);var t=[],u=["RowMod","RowIdent","SysRowID"];angular.forEach(Object.keys(s),function(a){i.columns[a]||u.indexOf(a)!==-1||t.push(a)}),angular.forEach(t,function(a){delete t[a]}),s&&s.length<1&&(s=o)}var v=b.patch(n,s,h);v.then(function(a){if(a&&a.data&&a.data.value&&a.data.value.length>0){var b=a.data.value[0];h.convertToJsonType!==!1&&q(i,b),h.updatableOnly!==!1&&h.mergeAfterUpdate&&p&&angular.forEach(p,function(a){!b[a.name]&&g[a.name]&&(b[a.name]=g[a.name])});var c=h.target||{},e=c.viewId||h.viewId,f=d.current().view(e);if(f){var j=void 0!==c.row?c.row:f.dataRow();void 0!==j&&f.replaceDataRow(j,b)}l.resolve(b)}else l.resolve(g)}),v.error(function(a){k(),m(a,h.showError!==!1),l.reject(a)})}catch(w){m(w,h.showError!==!1),k()}return l.promise}function j(e,g,h){function i(a){if(k&&c.hide(),a){var b=0,i=d.current().view(g);i?b=i.addRow(a[0]):i=d.current().add(g,a),h&&h.setCurrentRow!==!0||i.row(b),e!==g&&f.addAlias(e,g)}}h||(h={});var j=a.defer(),k=h.showProgress!==!1;if(k&&c.showLoading({title:h.title||"$$.emf.ep.erp.message.retrievingData",message:h.message||"$$.emf.ep.erp.message.gettingNewRecord"}),h.data)i(h.data),j.resolve(h.data);else{var l="BaqSvc/"+e+"/GetNew",n=b.get(l,"",h).$promise;n.then(function(a){i(a.value),j.resolve(a.value)},function(a){k&&c.hide(),m(a,h.showError!==!1),j.resolve([])})}return j.promise}function k(c,d,e){var g=a.defer(),h="Ice.BO.BAQDesignerSvc/GetByID",i={queryID:c},j=b.post(h,i);return a.when(j).then(function(a){if(d&&a.data){var b=n(a.data.returnObj);f.add(d,"baq",b),c!==d&&f.addAlias(d,c)}g.resolve(!0)}),j.error(function(a){m(a,e),g.resolve(!1)}),g.promise}function l(a){s=a}function m(a,d){var e=b.getErrorMsg(a,"Unknown exception in erpBaqService"),f={};return a&&(f=angular.extend({},a),f.config&&f.config.headers&&f.config.headers.Authorization&&(f.config.headers.Authorization="***")),d&&c.showException({message:e||"",messageDetails:angular.toJson(f,2)}),e}function n(a){var b={};return angular.forEach(a.QueryFieldDesigner,function(c){var d=_.find(a.QueryUpdateFieldDesigner,function(a){return c.QueryID===a.QueryID&&c.TableID===a.MapTableName&&c.FieldName===a.MapFieldName}),e=!!d,f=e&&d.IsKeyField===!0;if(b[c.Alias]={name:c.Alias,caption:c.FieldLabel||c.Alias,updatable:c.Updatable,required:c.IsRequired,requiredFlag:c.IsRequired,tableId:c.TableID,columnName:c.FieldName,dataType:c.DataType,editor:o(c),hasUpdateMapping:e,isKeyField:f,seq:c.Seq},c.FieldFormat){var g=_.filter(a.QueryFieldAttributeDesigner,function(a){return c.QueryID===a.QueryID&&c.TableID===a.TableID&&c.FieldName===a.FieldName});p(c,b[c.Alias],g)}}),b}function o(a){var b="auto",c=(a.DataType||"").toLowerCase();return"bool"===c||"boolean"===c||"logical"===c||"bit"===c?b="checkbox":"date"===c||"datetime"===c||"system.datetime"===c?b="date":"byte"===c||"int32"===c||"integer"===c||"int"===c||"decimal"===c||"system.decimal"===c||"system.int32"===c?b="number":"nvarchar"===c&&(b="text"),b}function p(a,b,c){if(a.FieldFormat){var d=a.FieldFormat.trim().toLowerCase();if(d&&0===d.indexOf("x(")&&d.endsWith(")")){var e=d.substr(2,d.length-3),f=parseInt(e);if(!isNaN(f)){b.maxLength=f;var g=90;b.maxLength>=g&&(b.editor="multiline")}}else if(d&&"number"===b.editor){var h={Min:-99999999999,Max:99999999999,AllowNegative:!0},i=(b.dataType||"").toLowerCase();if("decimal"===i||"system.decimal"===i){var j=d.split(".");if(2!==j.length)h.Decimals=0;else{var k=(j[1].match(/9/g)||[]).length;h.Decimals=k;var l=(j[0].match(/(9|>)/g)||[]).length;if(l){var m=Math.pow(10,l);m-=k>0?1/Math.pow(10,k):1,h.Max=m,h.AllowNegative=d.indexOf("-")>-1,h.AllowNegative?h.Min=-h.Max:h.Min=0}if(void 0!==s&&h.Decimals>s&&c){var n;n=_.find(c,function(a){var b=a.AttributeName.toLowerCase(),c=a.Value.toLowerCase();return a&&"biztype"===b&&"currency"===c}),n&&(h.Decimals=s)}}}b.oFormat=h}}}function q(a,b){a&&a.columns&&angular.forEach(a.columns,function(a){if(a&&"decimal"===a.dataType)for(var c=0;c<b.length;c++){var d=b[c][a.name];angular.isString(d)&&d.length&&(b[c][a.name]=parseFloat(d))}})}function r(a,b){a&&a.columns&&angular.forEach(Object.keys(b),function(c){var d=a.columns[c];if(d&&"decimal"===d.dataType&&!angular.isString(b[c])){var e=""+b[c];b[c]=e}})}var s;return{getBAQList:g,getBAQ:h,updateBAQ:i,getNewBAQ:j,getBAQDesigner:k,setBaqMaxCurrencyDecimals:l}}a.$inject=["$q","epErpRestService","epModalDialogService","epTransactionFactory","odataQueryFactory","epBindingMetadataService"],angular.module("ep.erp").service("epErpBaqService",a)}(),function(){"use strict";function a(a,b,c,d,e){function f(f,g,i,j){j||(j={});var k=j.showProgress!==!1;k&&c.showLoading({title:j.title||"$$.emf.ep.erp.message.pleaseWait",message:j.message||"$$.emf.ep.erp.message.retrievingData"});var l=a.defer(),m=b.get(f,g,j).$promise;m.then(function(){},function(a){var b=h(a,j);l.reject(b,a)});var n;if(j.retrieveMetadata===!0){var o=f.indexOf("/"),p=f.substr(0,o);e.get(p)||(n=b.get("/api/swagger/v1/odata/"+p,"").$promise,n.then(function(a){a&&e.add(p,"swagger",void 0,a)},function(a){var b=h(a,j);l.reject(b,a)}))}return a.all([m,n]).then(function(a){var b=a[0].value;if(b){if(j.convertToJsonType!==!1){var f=e.get(i);f&&f.columns&&angular.forEach(f.columns,function(a){if(a&&"decimal"===a.dataType)for(var c=0;c<b.length;c++){var d=b[c][a.name];angular.isString(d)&&d.length&&(b[c][a.name]=parseFloat(d))}})}d.current().add(i,b)}k&&c.hide(),l.resolve(a[0])}),l.promise}function g(a,d,f,g){g||(g={});var i=g.showProgress!==!1;i&&c.showLoading({title:g.title||"$$.emf.ep.erp.message.pleaseWait",message:g.message||"$$.emf.ep.erp.message.sendingServerData"});var j=angular.copy(d);if(g.convertToJsonType!==!1){var k=e.get(f);k&&k.columns&&angular.forEach(Object.keys(j),function(a){var b=k.columns[a];if(b&&"decimal"===b.dataType&&!angular.isString(j[a])){var c=""+j[a];j[a]=c}})}j.hasOwnProperty("$$hashKey")&&delete j.$$hashKey;var l=a,m=b.post(l,j,g);return m.then(function(){i&&c.hide()}),m.error(function(a){i&&c.hide(),h(a,g)}),m}function h(a,b){b||(b={});var d=a.ErrorMessage||"";!d&&a["odata.error"]&&(d=a["odata.error"].message.value),!d&&a.statusText&&(d=a.statusText);var e=angular.extend({},a);if(e.config&&e.config.headers&&e.config.headers.Authorization&&(e.config.headers.Authorization="***"),b.showError!==!1){var f=!0;b.ignoreHttpErrors&&a.HttpStatus&&b.ignoreHttpErrors.indexOf(a.HttpStatus)>-1&&(f=!1),f&&c.showException({message:d||"",messageDetails:angular.toJson(e,2)})}}return{getSvc:f,updateSvc:g}}a.$inject=["$q","epErpRestService","epModalDialogService","epTransactionFactory","epBindingMetadataService"],angular.module("ep.erp").service("epErpSvcService",a)}(),function(){"use strict";angular.module("ep.feature.detection").service("epFeatureDetectionService",["$log","$q",function(a,b){function c(){return void 0===r.browserIsMobile&&(r.browserIsMobile=function(a){if("undefined"!=typeof c.result)return c.result;var b=!1;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|iPhone|iPad|iPod|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(b=!0),c.result=b,b}(navigator.userAgent||navigator.vendor||window.opera)),r.browserIsMobile}function d(){return void 0===r.supportsDragAndDrop&&(r.supportsDragAndDrop="draggable"in document.createElement("span")),r.supportsDragAndDrop}function e(){return r.animationEvent}function f(){return r.transitionEvent}function g(){return r}function h(){return r.touchEvents}function i(a,b,c,d){o="screen and (min-width: "+a+"px)",enquire.register(o,{match:b,unmatch:c,setup:d,deferSetup:!0})}function j(a){var b=a?"screen and (min-width: "+a+"px)":o;enquire.unregister(b)}function k(a){var b=!1;if(a){var c=q[a];if(c!==!0&&c!==!1){var d=document.createElement("input");try{d.type=a}catch(e){}d.type===a&&(b=!0),q[a]=b}else b=c}return b}function l(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a];return null}function m(){var a,b=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oanimationend",MSAnimation:"MSAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b.style[a])return c[a];return null}function n(){var e=b.defer();if(p)e.resolve(r);else{r.browserIsMobile=c(),r.supportsDragAndDrop=d(),r.transitionEvent=l(),r.animationEvent=m(),r.touchEvents="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;try{if(window.cordova)a.debug("epFeatureDetectionService: Detected cordova application."),r.platform={app:"Cordova"},document.addEventListener("deviceready",function(){window.device?r.platform.os=window.device.platform:r.platform.os="Unknown",p=!0,e.resolve(r)},!1);else if(window.process&&process.versions.electron)r.platform={app:"Electron",os:process.platform},e.resolve(r);else{var f=navigator.userAgent,g=navigator.appName,h=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10),j=-1,k=-1,n=-1;(k=f.indexOf("Opera"))!==-1?(g="Opera",h=f.substring(k+6),(k=f.indexOf("Version"))!==-1&&(h=f.substring(k+8))):(k=f.indexOf("OPR/"))!==-1?(g="Opera",h=f.substring(k+4),(k=f.indexOf("Version"))!==-1&&(h=f.substring(k+8))):(k=f.indexOf("MSIE"))!==-1?(g="Microsoft Internet Explorer",h=f.substring(k+5)):(k=f.indexOf("Chrome"))!==-1?(g="Chrome",h=f.substring(k+7)):(k=f.indexOf("Safari"))!==-1?(g="Safari",h=f.substring(k+7),(k=f.indexOf("Version"))!==-1&&(h=f.substring(k+8))):(k=f.indexOf("Firefox"))!==-1?(g="Firefox",h=f.substring(k+8)):(j=f.lastIndexOf(" ")+1)<(k=f.lastIndexOf("/"))&&(g=f.substring(j,k),h=f.substring(k+1),g.toLowerCase()===g.toUpperCase()&&(g=navigator.appName)),(n=h.indexOf(";"))!==-1&&(h=h.substring(0,n)),(n=h.indexOf(" "))!==-1&&(h=h.substring(0,n)),i=parseInt(""+h,10),isNaN(i)&&(h=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10));var o="Unknown OS";navigator.appVersion.indexOf("Win")!==-1&&(o="Windows"),navigator.appVersion.indexOf("Mac")!==-1&&(o="MacOS"),navigator.appVersion.indexOf("X11")!==-1&&(o="UNIX"),navigator.appVersion.indexOf("Linux")!==-1&&(o="Linux"),r.platform={app:"Web",os:o,browser:{name:g||"",fullVersion:h,majorVersion:i,appName:navigator.appName,userAgent:navigator.userAgent}},e.resolve(r)}p=!0}catch(q){e.reject(q),console.log(q.message)}}return e.promise}var o,p=!1,q={},r={browserIsMobile:void 0,supportsDragAndDrop:void 0,transitionEvent:null,touchEvents:!1,platform:{}};return n(),{initialize:n,browserIsMobile:c,supportsDragAndDrop:d,getAnimationEvent:e,getTransitionEvent:f,hasTouchEvents:h,getFeatures:g,registerMediaQuery:i,unregisterMediaQuery:j,inputSupportsType:k}}])}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(a,c){return function(d){var e;e=d.name?w[d.name]:d.code?x[d.code]:d;var f="LocalFileSystem failure: "+e+" [ "+c;d.name&&(f+=": "+d.name),f+=" ]",b.error(f),a.reject(f)}}function i(a,b){return j(a,b).then(function(a){return angular.fromJson(a)})}function j(d,i){var j,k,l=a.defer();switch(y){case v.fileStorage:i||(i=d,d=c.cordova.file.dataDirectory),c.resolveLocalFileSystemURL(d+i,function(a){a.file(function(a){var b=new FileReader;b.onloadend=function(){l.resolve(this.result)},b.readAsText(a)},h(l,i))},h(l,i));break;case v.indexedDB:i||(i=d,d=""),f.openDatabase("ep-file-db",1).then(function(a){var b=a.getObjectStore("ep-file");b.get(i).then(function(a){a?l.resolve(a.value):h(l,i)({code:1})})});break;case v.localStorage:i||(i=d,d=e.namespace),k=d+"."+i,j=g.get(k),j?(b.debug("Successfully loaded "+k+" from LocalStorage."),l.resolve(j)):h(l,i)({code:1})}return l.promise}function k(a,b,c){return l(angular.toJson(a),b,c)}function l(d,i,j,k){var l=a.defer();try{var m="";switch(k||(k="text/plain"),y){case v.fileStorage:j||(j=i,i=c.cordova.file.dataDirectory),c.resolveLocalFileSystemURL(i,function(a){a.getFile(j,{create:!0},function(a){a.createWriter(function(a){a.onwriteend=function(){b.debug("Successfully wrote file: "+j),l.resolve()},a.onerror=function(a){fail(l,{code:a.toString()})};var c=new Blob([d],{type:k});a.write(c)},h(l,j))},h(l,j))},h(l,j));break;case v.indexedDB:j||(j=i,i="");var n={filename:j,value:d};f.openDatabase("ep-file-db",1).then(function(a){a.getObjectStore("ep-file").put(n).then(function(){b.debug("Saved "+j+" to indexedDB"),l.resolve()},h(l,j))});break;case v.localStorage:j||(j=i,i=e.namespace),m=i+"."+j,g.update(m,d),b.debug("Successfully saved "+m+" to LocalStorage."),l.resolve()}}catch(o){h(l,j)(o)}return l.promise}function m(b,d){var i=a.defer();try{switch(y){case v.fileStorage:d||(d=b,b=c.cordova.file.dataDirectory),c.resolveLocalFileSystemURL(b+d,function(){i.resolve(!0)},function(a){1===a.code?i.resolve(!1):h(i,d)(a)});break;case v.indexedDB:d||(d=b,b=""),f.openDatabase("ep-file-db",1).then(function(a){var b=a.getObjectStore("ep-file");b.get(d).then(function(a){
a?i.resolve(!0):i.resolve(!1)},function(){i.resolve(!1)})},function(){i.resolve(!1)});break;case v.localStorage:d||(d=b,b=e.namespace);var j=b+"."+d;i.resolve(!!g.get(j))}}catch(k){h(i,d)(k)}return i.promise}function n(a){switch(y){case v.fileStorage:return c.cordova.file.dataDirectory+a;case v.indexedDB:return a;case v.localStorage:return e.namespace+"."+a;default:return e.namespace+"."+a}return e.namespace+"."+a}function o(b){var d=a.defer();try{switch(y){case v.fileStorage:c.resolveLocalFileSystemURL(c.cordova.file.dataDirectory+b,function(a){a.remove(),d.resolve()},function(a){h(d,b)(a)});break;case v.indexedDB:f.openDatabase("ep-file-db",1).then(function(a){var c=a.getObjectStore("ep-file");c["delete"](b).then(function(){d.resolve()},h(d,b))});break;case v.localStorage:g.clear(e.namespace+"."+b),d.resolve()}}catch(i){h(d,b)(i)}return d.promise}function p(a){u(a)}function q(){var a="";switch(y){case v.localStorage:a="localStorage";break;case v.indexedDB:a="indexedDB";break;case v.fileStorage:a="fileStorage"}return a}function r(){y=v.fileStorage}function s(){f.createSchema("ep-file-db").defineVersion(1,function(a){a.createObjectStore("ep-file",{keyPath:"filename"})}),b.debug("IndexedDB system selected."),y=v.indexedDB}function t(){b.debug("LocalStorage system selected."),y=v.localStorage}function u(a){if(a)switch(a.toLowerCase()){case"localstorage":t();break;case"indexeddb":try{s()}catch(c){b.warn(c),t()}break;case"filestorage":r();break;default:b.warn("Unable to set file storage system to "+a+"."),t()}else if("Cordova"===d.getFeatures().platform.app)t();else try{s()}catch(c){b.warn(c),t()}}var v={localStorage:0,fileStorage:1,indexedDB:2},w={DeviceNotReadyError:"The device is not ready for file operations",FileSystemNotReady:"The file system is not ready to accept operations.",IndexSizeError:"The index is not in the allowed range (e.g, thrown in a range object).",HierarchyRequestError:"The node tree hierarchy is not correct.",WrongDocumentError:"The object is in the wrong document.",InvalidCharacterError:"The string contains invalid characters.",NoModificationAllowedError:"The object can not be modified.",NotFoundError:"The object can not be found here.",NotSupportedError:"The operation is not supported.",InvalidStateError:"The object is in an invalid state.",SyntaxError:"The string did not match the expected pattern.",InvalidModificationError:"The object can not be modified in this way.",NamespaceError:"The operation is not allowed by Namespaces in XML.",InvalidAccessError:"The object does not support the operation or argument.",TypeMismatchError:"The type of the object does not match the expected type.",SecurityError:"The operation is insecure.",NetworkError:"A network error occurred.",AbortError:"The operation was aborted.",URLMismatchError:"The given URL does not match another URL.",QuotaExceededError:"The quota has been exceeded.",TimeoutError:"The operation timed out.",InvalidNodeTypeError:"The node is incorrect or has an incorrect ancestor for this operation.",DataCloneError:"The object can not be cloned."},x={1:"File not found.",2:"Security error.",3:"Operation aborted error.",4:"File or Directory not readable error.",5:"Encoding error.",6:"No modifications allowed error.",7:"Invalid state error.",8:"Syntax error.",9:"Invalid modification.",10:"Storage quota exceeded.",11:"Type mismatch error.",12:"Path exists error."},y=v.localStorage;return u(),{load:i,loadText:j,save:k,saveText:l,getFilePath:n,fileExists:m,remove:o,setStorageSystem:p,getStorageSystem:q}}a.$inject=["$q","$log","$window","epFeatureDetectionService","epFileConstants","epIndexedDbService","epLocalStorageService"],angular.module("ep.file").constant("epFileConstants",{namespace:"persistentData"}).service("epFileService",a)}(),function(){"use strict";angular.module("ep.filter.list").directive("epFilterList",function(){return{restrict:"E",replace:!0,scope:{searchBy:"=",count:"=",changeHandler:"=",searchPrompt:"="},templateUrl:"src/components/ep.filter.list/filter_list.html",link:function(a){a.clearSearch=function(){a.searchBy="",a.showRemove=!1}}}})}(),function(){"use strict";angular.module("ep.globalization").provider("epGlobalizationConfig",function(){var a={baseLocaleId:"en-US",resourcePath:"app/resources",emfResourceFile:"locale-en-us.json",emfResources:{}};this.$get=["$log","epSysConfig","epApplicationConfig",function(b,c,d){return c.mergeSection("ep.globalization",a),a.readResources=function(){var c=d.getAssetsPath("shell","locales/"+a.emfResourceFile),e=$.ajax({type:"GET",url:c,cache:!1,async:!1,contentType:"application/json"});if(200===e.status)try{a.emfResources=angular.fromJson(e.responseText)}catch(f){b.warn("Error reading emf locale resources: "+f.message)}},a.getResourcePath=function(a){return d.getAssetsPath("shell","locales/locale-"+a+".json")},a.readResources(),a}]})}(),function(){"use strict";angular.module("ep.globalization").constant("epGlobalizationConstants",{GLOBALIZATION_LOCALE_CHANGE_EVENT:"GLOBALIZATION_LOCALE_CHANGE_EVENT"})}(),function(){"use strict";angular.module("ep.globalization").filter("epTranslate",["epTranslationService",function(a){var b=function(b){return arguments.length>1?a.getString(b,Array.prototype.slice.call(arguments,1)):a.getString(b)};return b.$stateful=!0,b}])}(),function(){"use strict";function a(a,b,c,d,e,f){function g(b,c){var d=a.defer();angular.merge(H,c||{});var f=t(e.baseLocale)||"en-us",g=t(b);return g?s(g).then(function(){w(g)?(D=g,x(g),f===g?F=!0:u(f)):u(f,!0),d.resolve(!0)}):u(f,!0,d),d.promise}function h(){var a=0;angular.isObject(C)&&(a=Object.keys(C).length);var b=0;angular.isObject(e.emfResources)&&(b=Object.keys(e.emfResources).length);var c=0;angular.isObject(E)&&(c=Object.keys(E).length);var d=0;return angular.isObject(G)&&(d=Object.keys(G).length),{baseLocaleId:B,baseLocaleCount:a,baseLocaleEmfCount:b,currentLocaleId:D,currentLocaleCount:c,currentLocaleEmfCount:d}}function i(){return D}function j(a){var b=t(a);v(b)&&(D=b,x(b),c.$emit(f.GLOBALIZATION_LOCALE_CHANGE_EVENT,{curLocaleId:D,baseLocaleId:B}))}function k(){return B}function l(a){var b="";a&&(b=E[a]||C[a]||z(a)||a);var c=b;if(arguments.length>1&&(c=2===arguments.length&&angular.isFunction(arguments[1].pop)?d.strFormat(b,arguments[1]):d.strFormat(b,Array.prototype.slice.call(arguments,1))),c&&H.test&&H.testEnabled===!0&&D===B){var e=H.test,f=c||"",g=f.length,h=Math.round(g*e.expandRatio),i=g+h<e.minChars?e.minChars:g+h,j=i-g;j>0&&(j>1&&i--,f=m(f,i,e.fillChar)+e.endingChar),c=f}return c}function m(a,b,c){if(b>>=0,c=c||" ",a.length>b)return a;if(b-=a.length,b>c.length)for(var d=b/c.length,e=0;e<d;e++)c+=c;return a+c.slice(0,b)}function n(a){if(a&&a.length>3&&0===a.indexOf("$$.")){var b=a.substr(3);return l(b)}return a}function o(a,b,c,d){var e=t(a),f=A[e]||{localeId:e,resource:{},status:1,resourceEmf:{},statusEmf:0,loaded:!0};f.resource=d===!0?angular.merge(f.resource,b):b,A[e]=f,c===!0&&j(e),x(e)}function p(b,c){var d=a.defer(),e=t(b);return s(e).then(function(){c===!0&&j(e),x(e),d.resolve(A[e])}),d.promise}function q(b){var c=a.defer(),d=t(b);return w(d)?(j(d),c.resolve(!0)):s(d).then(function(){j(d),c.resolve(w(d))}),c.promise}function r(a){angular.merge(H,a||{})}function s(c){var d=t(c),f={localeId:d,resource:{},status:0,resourceEmf:{},statusEmf:0,loaded:!1},g=a.defer(),h=function(a){y(d,f).then(function(){f.loaded=f.status>0||f.statusEmf>0,g.resolve(a),A[d]=f})},i=e.resourcePath+"/"+d+"/locale-"+d+".json";return b.get(i).then(function(a){f.resource=a.data,f.status=1,h(f)},function(){h(null)}),g.promise}function t(a){return(a||"").toLowerCase()}function u(a,b,c){s(a).then(function(){w(a)&&(B=a,C=A[a].resource,b&&j(a)),c&&c.resolve(!0),F=!0})}function v(a){var b=t(a);return!!A[b]}function w(a){var b=t(a);return A[b]&&A[b].loaded}function x(a){a===B&&(C=A[a].resource),a===D&&(E=A[a].resource,G="en-us"===a?{}:A[a].resourceEmf)}function y(c,d){var f=t(c),g=a.defer();if("en-us"===f)g.resolve(!0);else{var h=e.getResourcePath(f);b.get(h).then(function(a){d.resourceEmf=a.data,d.statusEmf=1,g.resolve(!0)},function(){d.resourceEmf={},d.statusEmf=0,g.resolve(!1)})}return g.promise}function z(a){return G[a]||e.emfResources[a]}var A={},B="en-us",C={},D="en-us",E={},F=!1,G={},H={testEnabled:!1,test:{fillChar:"^",endingChar:"|",minChars:8,expandRatio:.3}};return{initialize:g,changeLocale:q,getString:l,getStringIf:n,load:o,loadFromResource:p,currentLocale:i,baseLocale:k,setLocale:j,setOptions:r,getInfo:h}}a.$inject=["$q","$http","$rootScope","epUtilsService","epGlobalizationConfig","epGlobalizationConstants"],angular.module("ep.globalization").service("epTranslationService",a)}(),function(){"use strict";function a(a){function b(b,c){cordova.plugins.barcodeScanner.scan(function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}return{scan:b}}a.$inject=["$rootScope"],angular.module("ep.hybrid").service("epHybridBarcodeService",a)}(),function(){"use strict";function a(a){function b(){window.plugins.calendar.openCalendar()}function c(b,c,d){window.plugins.calendar.createCalendar(d,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function d(b,c,d){window.plugins.calendar.deleteCalendar(d,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function e(b,c,d){window.plugins.calendar.createEvent(d.title,d.location,d.notes,d.startDate,d.endDate,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function f(b,c,d,e){var f=window.plugins.calendar.getCalendarOptions();e.firstReminderMinutes&&(f.firstReminderMinutes=e.firstReminderMinutes),null!==e.secondReminderMinutes&&(f.secondReminderMinutes=e.secondReminderMinutes),e.recurrence&&(f.recurrence=e.recurrence),e.recurrenceEndDate&&(f.recurrenceEndDate=e.recurrenceEndDate),e.recurrenceInterval&&(f.recurrenceInterval=e.recurrenceInterval),e.url&&(f.url=e.url),window.plugins.calendar.createEventWithOptions(d.title,d.location,d.notes,d.startDate,d.endDate,f,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function g(b,c,d){window.plugins.calendar.modifyEvent(d.title,d.location,d.notes,d.startDate,d.endDate,d.newTitle,d.newLocation,d.newNotes,d.newStartDate,d.newEndDate,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function h(b,c,d){window.plugins.calendar.findEvent(d.title,d.location,d.notes,d.startDate,d.endDate,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function i(b,c,d){window.plugins.calendar.deleteEvent(d.title,d.location,d.notes,d.startDate,d.endDate,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function j(b,c,d,e){window.plugins.calendar.listEventsInRange(d,e,function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}function k(b,c){window.plugins.calendar.listCalendars(function(c){a.$apply(b(c))},function(b){a.$apply(c(b))})}return{openCalendar:b,createCalendar:c,deleteCalendar:d,createEvent:e,createEventWithOptions:f,modifyEvent:g,findEvent:h,deleteEvent:i,listCalendars:k,listEvents:j}}a.$inject=["$rootScope"],angular.module("ep.hybrid").service("epHybridCalendarService",a)}(),function(){"use strict";function a(a,b){function c(c,d){return navigator.contacts?void navigator.contacts.pickContact(function(b){a.$apply(c(b))},function(b){a.$apply(d(b))}):void b.debug("Cordova contacts not available.")}return{pickContact:c}}a.$inject=["$rootScope","$log"],angular.module("ep.hybrid").service("epHybridContactsService",a)}(),function(){"use strict";function a(a,b){function c(){if(g())return b.device.platform}function d(){if(g())return b.device.model}function e(){if(g())return b.device.uuid}function f(){if(g())return b.device.version}function g(){return!!b.device||(a.debug("Device plugin not available"),!1)}return{getModel:d,getPlatform:c,getUUID:e,getVersion:f,isDevicePluginAvailable:g}}a.$inject=["$log","$window"],angular.module("ep.hybrid").service("epHybridDeviceService",a)}(),function(){"use strict";function a(a){function b(){var b;try{cordova.plugins.email.isAvailable(function(a){b=a})}catch(c){b=!1,a.debug("Email service not available"+c)}return b}function c(b){try{cordova.plugins.email.isAvailable(function(c){if(c){var d={to:[],cc:[],bcc:[],subject:"[No Subject]",body:"",isHtml:!1,attachments:[],app:"gmail"},e=angular.extend(d,b);angular.isArray(e.attachments)||(e.attachments=[e.attachments]),cordova.plugins.email.open(e,function(b){a.error("An error occurred while attempting to launch the email application."+b)})}else a.warn("Email functionality is not available.")},function(){a.warn("Email functionality is not available.")})}catch(c){a.error("An error occurred while attempting to launch the email application. "+c)}}return{isEmailAvailable:b,draftAnEmail:c}}a.$inject=["$log"],angular.module("ep.hybrid").service("epHybridEmailComposerService",a)}(),function(){"use strict";function a(a){function b(){window.plugins.flashlight.available(function(b){b?window.plugins.flashlight.switchOn():a.debug("Flashlight not available on this device")}),document.addEventListener("backbutton",function(){window.plugins.flashlight.switchOff(d,d)},!1)}function c(){window.plugins.flashlight.switchOff()}function d(){navigator.app.exitApp()}return{flashOn:b,flashOff:c}}a.$inject=["$log"],angular.module("ep.hybrid").service("epHybridFlashlightService",a)}(),function(){"use strict";function a(a,b){function c(b,c,d){navigator.geolocation.getCurrentPosition(function(c){a.$apply(b(c))},function(b){a.$apply(c(b))},d)}function d(a,c){var d={zoom:16,center:a,mapTypeId:google.maps.MapTypeId.ROADMAP};try{var e=new google.maps.Map(c,d);return e}catch(f){b.debug("Error: "+f)}}function e(a,b){j&&j.setMap(null),j=new google.maps.Marker({position:a,animation:google.maps.Animation.DROP}),a&&b&&(b.setCenter(a),j.setMap(b))}function f(a,c){function d(a,b,c,d){e.setContent(c[b][0]),e.open(d,a)}if(a&&0!==a.length){var e=new google.maps.InfoWindow({maxWidth:160}),f=new google.maps.LatLngBounds,g=new google.maps.Geocoder;if(angular.isString(a[0])&&a.forEach(function(a){g.geocode({address:a},function(d,g){if(g===google.maps.GeocoderStatus.OK){var h=new google.maps.Marker({position:d[0].geometry.location,map:c});google.maps.event.addListener(h,"click",function(a){return function(){e.setContent(d[0].formatted_address),e.open(c,a)}}(h)),f.extend(d[0].geometry.location),c.fitBounds(f)}else b.debug("Geocode of "+a+" return "+g)})}),angular.isObject(a[0]))for(var h=0;h<a.length;h++)if(angular.isArray(a[h]))try{var i=new google.maps.LatLng(a[h][1],a[h][2]),j=new google.maps.Marker({position:i,map:c});google.maps.event.addListener(j,"click",d.bind(null,j,h,a,c)),f.extend(i),c.fitBounds(f)}catch(k){b.error("Something went wrong. Please provide valid location addresses. Error: "+k)}else b.debug("Location address is not valid")}}function g(a,c){if(a&&c){var d=new google.maps.DirectionsService;j.setMap(null),d.route({origin:{placeId:a},destination:{placeId:c},travelMode:google.maps.TravelMode.DRIVING},function(a,c){return c!==google.maps.DirectionsStatus.OK?void b.error("Directions request failed : Not a valid location for driving"):void i.setDirections(a)})}}function h(b,c,d){var f,h;if(void 0!==i&&i.setMap(null),i=new google.maps.DirectionsRenderer,i.setMap(b),c){var j=new google.maps.places.Autocomplete(c);google.maps.event.addListener(j,"place_changed",function(){var c=j.getPlace();f=c.place_id,a.$watch("start",function(){console.log("origin:"+f)}),e(c.geometry.location,b),g(f,h)})}if(d){var k=new google.maps.places.Autocomplete(d);google.maps.event.addListener(k,"place_changed",function(){var c=k.getPlace();h=c.place_id,a.$watch("end",function(){console.log("destination:"+h)}),e(c.geometry.location,b),g(f,h)})}}var i,j;return{getGeolocation:c,showMap:d,addMarker:e,addMultipleMarkers:f,calculateAndDisplayRoute:g,autocompleteAndAssociatedActions:h}}a.$inject=["$rootScope","$log"],angular.module("ep.hybrid").service("epHybridGeolocationService",a)}(),function(a){"use strict";function b(b,c){function d(a,c,d){navigator.geolocation.getCurrentPosition(function(c){b.$apply(a(c))},function(a){b.$apply(c(a))},d)}function e(){var b=function(b){console.log("[js] BackgroundGeolocation callback:  "+b.latitude+","+b.longitude),a.finish()},d=function(a){c.error("Error capturing geolocation - "+a.message)};a.configure(b,d,{desiredAccuracy:0,stationaryRadius:0,distanceFilter:0,debug:!0,stopOnTerminate:!1}),a.start()}function f(){var b=a;console.log(b),c.info("GPS background tracking started."),h=!0,e()}function g(){c.info("GPS background tracking stopped."),h=!1,a.stop()}var h=!1;return{background:d,startGPSTracking:f,stopGPSTracking:g}}b.$inject=["$rootScope","$log"],angular.module("ep.hybrid").service("epHybridGPSTrackerService",b)}(window.backgroundGeolocation),function(){"use strict";function a(){function a(a){c=new Media(a,function(){console.log("playAudio():Audio Success")},function(a){console.log("playAudio():Audio Error: "+a)}),c.play()}function b(){null!==c&&c.stop()}var c=null;return{playAudio:a,stopAudio:b}}angular.module("ep.hybrid").service("epHybridMediaService",a)}(),function(){"use strict";function a(){function a(){return navigator.connection.type}return{checkConnection:a}}angular.module("ep.hybrid").constant("epNetworkStatus",{Unknown:"unknown",Ethernet:"ethernet",Wifi:"wifi",Cell2g:"2g",Cell3g:"3g",Cell4g:"4g",Cell:"cellular",None:"none"}).service("epHybridNetworkService",a)}(),function(){"use strict";function a(a){function b(b,c,d){navigator.camera.getPicture(function(c){a.$apply(b(c))},function(b){a.$apply(c(b))},d)}return{getPicture:b}}a.$inject=["$rootScope"],angular.module("ep.hybrid").service("epHybridPhotoService",a)}(),function(){"use strict";function a(){function a(a){navigator.vibrate([a])}return{vibrateDevice:a}}angular.module("ep.hybrid").service("epHybridVibrationService",a)}(),function(){"use strict";function a(a){return{restrict:"EA",replace:!0,scope:{ngModel:"=",width:"@",iconListWidth:"@",iconListHeight:"@"},templateUrl:"src/components/ep.icon.selector/icon_selector.html",link:function(b){b.icons=a.getIconList(),b.selectIcon=function(a){b.ngModel="fa-"+a}}}}a.$inject=["epIconSelectorService"],angular.module("ep.icon.selector").directive("epIconSelector",a)}(),function(){"use strict";function a(){function a(){var a=$.map($.map(document.styleSheets,function(a){return a.href&&a.href.endsWith("font-awesome.min.css")?a:null})[0].rules,function(a){if(a.cssText.indexOf("::before { content: ")>0){var b=[],c=(a.cssText.match(/::before/g)||[]).length;if(c>1){b=a.cssText.split(",");for(var d=0;d<b.length;d++){var e=b[d].trim();b[d]=e.substring(4,e.indexOf("::"))}return b}return a.cssText.substring(4,a.cssText.indexOf("::"))}return null});return a}return{getIconList:a}}angular.module("ep.icon.selector").factory("epIconSelectorService",a)}(),function(){"use strict";function a(a,b){return{restrict:"E",replace:!0,template:'<div class="ep-include"></div>',scope:{options:"=",template:"=",templateUrl:"=",templateCtrl:"=",templateScope:"=",templateStyle:"=",userData:"="},compile:function(){function c(c,d){if(!d.template&&!d.templateUrl)return angular.element(c.state.iElement).empty(),void(c.state.template="");var e='<div class="ep-include"';if(d.templateCtrl){var f="_epIncludeController"+c.$id;c.state.templateScope[f]=d.templateCtrl,e='<div ng-controller="'+f+'"'}var g=e;if(d.templateStyle){try{c.state.templateScope._templateStyle_=angular.isString(d.templateStyle)?c.$eval(d.templateStyle):d.templateStyle}catch(h){b.error("error evaluating style:"+h.message)}g+=' ng-style="_templateStyle_" '}g+=d.template?">"+d.template+"</div>":d.templateUrl?" ng-include=\"'"+d.templateUrl+"'\"></div>":"></div>";var i=angular.element(c.state.iElement);i.empty().append(a(g)(c.state.templateScope)),c.state.template=g}function d(a,b){a.state.templateScope=b.templateScope||a,(b.userData||a.userData)&&(a.state.templateScope.userData=a.userData?a.userData:b.userData),c(a,b)}return{pre:function(a,b){a.state={iElement:b,template:void 0,templateScope:void 0};var c=a.options?a.options:a;d(a,c),a.options?a.$watch("options",function(b,c){b!==c&&d(a,a.options||{})}):a.$watchGroup(["template","templateUrl","templateCtrl","templateScope"],function(b,c){for(var e=0;e<b.length;e++)if(b[e]!==c[e]){d(a,a);break}}),a.$watch("userData",function(b,c){b&&b!==c&&(a.state.templateScope.userData=a.userData)})}}}}}a.$inject=["$compile","$log"],angular.module("ep.include").directive("epInclude",a)}(),function(){"use strict";function a(a){this.name=a,this.versions=[],this.versionDefinitionFuncs={}}function b(a,b,c){this.$log=a,this.$q=b,this.db=c,this.db.onerror=function(b){a.error("An IndexedDB error has occured: "+b)},this.db.onversionchange=function(a){a.version||c.close()}}function c(a,b,c,d){this.$log=a,this.$q=b,this.db=c,this.name=d}function d(a,b,c,d,e){this.$q=b,this.$log=a,this.db=c,this.index=d,this.name=e}function e(c,d,e,h){function i(b){return f[b]=new a(name),f[b]}function j(a){delete g[a]}function k(a,e){var i=d.defer();if(g[a])i.resolve(g[a]);else{var j=m.open(a,e),k=h(function(){c.warn("Database "+a+" v"+e+" could not be opened. This is possibly due to a conflict between two or more open tabs."),i.reject("Timeout reached while waiting for database "+a+" to open.")},1500);j.onsuccess=function(){var e=j.result,f=new b(c,d,e);g[a]=f,h.cancel(k),i.resolve(f)},j.onerror=function(a){i.reject(a)},j.onblocked=function(){i.reject("Unable to open database. The request is blocked.")},j.onupgradeneeded=function(b){var c=b.target.result,d=f[a];if(d)for(var e=b.oldVersion;e<=b.newVersion;e++)d.upgrade(c,e);else i.reject("No database schema with the name "+a+" has been defined.")}}return i.promise}function l(a){var b=d.defer(),e=m.deleteDatabase(a);return e.onsuccess=function(){b.resolve(!0)},e.onerror=function(a){b.reject(a)},e.onblocked=function(d){c.warn("Unable to delete database "+a+". The request is blocked."),b.reject(d)},e.onupgradeneeded=function(a){b.reject(a)},b.promise}var m=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;return{createSchema:i,openDatabase:k,closeDatabase:j,deleteDatabase:l}}e.$inject=["$log","$q","$window","$timeout"],angular.module("ep.indexeddb").service("epIndexedDbService",e);var f={},g={};a.prototype.defineVersion=function(a,b){this.versions.push(a),this.versionDefinitionFuncs["version "+a]=b},a.prototype.upgrade=function(a,b){var c=this.versionDefinitionFuncs["version "+b];c&&c(a)},b.prototype.getObjectStore=function(a){return new c(this.$log,this.$q,this.db,a)};var h={get:function(a){return this._execute("readonly",function(b){return b.get(a)})},getAll:function(){return this._execute("readonly",function(a){return a.getAll()})},getAllKeys:function(){return this._execute("readonly",function(a){return a.getAllKeys()})},clear:function(){return this._execute("readwrite",function(a){return a.clear()})},count:function(){return this._execute("readonly",function(a){return a.count})}};c.prototype._execute=function(a,b){var c=this,d=c.$q.defer(),e=this.db.transaction(c.name,a);e.oncomplete=function(){c.$log.debug("Transaction completed on "+c.name)},e.onerror=function(a){c.$log.warn("Transaction error occurred on "+c.name+". "+a),d.reject(a)},e.onblocked=function(a){d.reject(a)},e.onupgradeneeded=function(a){d.reject(a)};var f=e.objectStore(c.name),g=b(f);return g.onsuccess=function(a){var b=a&&a.target&&a.target.result;d.resolve(b)},g.onerror=function(a){c.$log.warn("Request error occurred on "+c.name+". "+a),d.reject(a)},g.onblocked=function(a){d.reject(a)},g.onupgradeneeded=function(a){d.reject(a)},d.promise},c.prototype.openCursor=function(){var a=this,b=a.$q.defer(),c=a.db.transaction(this.name,"readwrite").objectStore(a.name),d=c.openCursor();return d.onsuccess=function(a){var c=a.target.result;c?(b.notify(c.value),c["continue"]()):b.resolve()},d.onerror=function(a){b.reject(a)},d.onblocked=function(a){b.reject(a)},d.onupgradeneeded=function(a){b.reject(a)},b.promise},c.prototype.openKeyCursor=function(a,b){var c=this,d=c.$q.defer(),e=c.db.transaction(this.name,"readwrite").objectStore(c.name),f=e.openKeyCursor(a,b);return f.onsuccess=function(a){var b=a.target.result;b?(d.notify(b),b["continue"]()):d.resolve()},f.onerror=function(a){d.reject(a)},f.onblocked=function(a){d.reject(a)},f.onupgradeneeded=function(a){d.reject(a)},d.promise},c.prototype["delete"]=function(a){return this._execute("readwrite",function(b){return b["delete"](a)})},c.prototype.put=function(a){return this._execute("readwrite",function(b){return b.put(a)})},c.prototype.add=function(a){return this._execute("readwrite",function(b){return b.add(a)})},c.prototype.index=function(a){var b=this;return this._execute("readonly",function(c){return new d(b.$log,b.$q,b.db,c.index(a),a)})},c.prototype.deleteByIndex=function(a,b){var c=this,d=c.$q.defer(),e=c.db.transaction(c.name,"readwrite"),f=e.objectStore(c.name),g=f.index(a),h=g.openKeyCursor(IDBKeyRange.only(b));return h.onsuccess=function(){var a=h.result;a?(f["delete"](a.primaryKey),a["continue"](),d.notify()):d.resolve(!0)},h.onerror=function(a){d.reject(a)},h.onblocked=function(a){d.reject(a)},h.onupgradeneeded=function(a){d.reject(a)},d.promise},c.prototype.queryByIndex=function(a,b){var c=this,d=c.$q.defer(),e=c.db.transaction(c.name,"readwrite"),f=e.objectStore(c.name),g=f.index(a),h=[],i=g.openKeyCursor(IDBKeyRange.only(b));return i.onsuccess=function(){var e=i.result;if(e){var g=f.get(e.primaryKey);g.onsuccess=function(a){var b=a&&a.result&&a.result.target;h.push(b),e["continue"](),d.notify(b)},g.onerror=function(){c.$log.warn("An error occurred while executing query "+a+"="+b),e["continue"]()}}else d.resolve(h)},i.onerror=function(a){d.reject(a)},i.onblocked=function(a){d.reject(a)},i.onupgradeneeded=function(a){d.reject(a)},d.promise},angular.extend(c.prototype,h),d.prototype._execute=function(a,b){var c=this,d=c.$q.defer(),e=b(c.index);return e.onsuccess=function(a){var b=a&&a.target&&a.target.result;d.resolve(b)},e.onerror=function(a){c.$log.warn("Request error occurred on "+c.name+". "+a),d.reject(a)},e.onblocked=function(a){d.reject(a)},e.onupgradeneeded=function(a){d.reject(a)},d.promise},d.prototype.openCursor=function(){var a=this,b=a.$q.defer(),c=a.index.openCursor();return c.onsuccess=function(a){var c=a.target.result;c?(b.notify(c.value),c["continue"]()):b.resolve()},c.onerror=function(a){b.reject(a)},c.onblocked=function(a){b.reject(a)},c.onupgradeneeded=function(a){b.reject(a)},b.promise},d.prototype.openKeyCursor=function(){var a=this,b=a.$q.defer(),c=a.index.openCursor();return c.onsuccess=function(a){var c=a.target.result;c?(b.notify(c.value),c["continue"]()):b.resolve()},c.onerror=function(a){b.reject(a)},c.onblocked=function(c){a.$log.warn("Unable to open IndexedDB key cursor "+a.name+". The request is blocked."),b.reject(c)},c.onupgradeneeded=function(a){b.reject(a)},b.promise},angular.extend(d.prototype,h)}(),function(){"use strict";function a(a,b,c,d){return{restrict:"EA",replace:!0,scope:{data:"=",handler:"&",mainTitle:"@",id:"@",filter:"&",sort:"&",add:"&",init:"=",selectMarkField:"@",selectMarkFieldValue:"=",multiSelect:"=",subTitle:"=",formatSubtitle:"=",additionalTitle:"=",formatAdditionalTitle:"=",otherAdditionalTitle:"=",formatOtherAdditionalTitle:"=",statuses:"=",formatStatusPeriod:"=",getStatusTextClass:"=",getStatusSourceClass:"=",formatStatusText:"=",formatStatusSource:"=",groupBy:"@",groupByType:"@",groupByLabel:"@",formatGroupTitle:"=",subHeader:"@",showArrow:"=",icon:"@",showInRed:"@",hideAdd:"@",sortBy:"@",sortByDesc:"=",hideDisplayOptions:"@",showFilterOn:"=",showSortOn:"=",useVirtualScrolling:"=",itemContentTemplate:"@",showDirectory:"=",vsRenderBufferSize:"@",vsRowLineCount:"@",vsLatch:"@",options:"=",searchFields:"="},templateUrl:"src/components/ep.list/ep-list.html",link:function(e){function f(a){if(a){var d=c.getDirectoryKey(a);d!==e.prevFirstLetter?(e.selectedDirectoryEntry=_.find(e.directory,function(a){return a.letter===d&&a.disabled===!1}),e.selectedDirectoryEntry?e.filteredData=i.slice(e.selectedDirectoryEntry.index,e.selectedDirectoryEntry.nextIndex):(e.selectedDirectoryEntry=e.directory.__all__,e.filteredData=[]),e.filtered=!0,e.searchFilter=a,b(function(){e.$broadcast("vsRepeatTrigger")})):b(function(){e.searchFilter=a}),e.prevFirstLetter=d}else e.filtered=!1,e.searchFilter="",e.prevFirstLetter="",b(function(){e.$broadcast("vsRepeatTrigger")})}function g(a){var c=!1;if(a){var d=NaN;if(4===a.length&&a.indexOf("-")<0&&(d=parseInt(a)),isNaN(d)){var f=_.find(e.directory,function(b){return 0===b.groupDisplay.indexOf(a)});f?(e.selectedDirectoryEntry=f,c=!0,e.filteredData=i.slice(f.index,f.nextIndex),e.filtered=!0,b(function(){e.$broadcast("vsRepeatTrigger")})):(c=!0,e.filteredData=[],b(function(){e.$broadcast("vsRepeatTrigger")}))}else{var g=_.filter(e.directory,function(b){return b.year===a}),h=[];g.length&&angular.forEach(g,function(a){h=h.concat(i.slice(a.index,a.nextIndex))}),c=!0,e.filteredData=h,e.filtered=!0,b(function(){e.$broadcast("vsRepeatTrigger")})}}c||(e.filtered=!1,e.searchFilter="",b(function(){e.$broadcast("vsRepeatTrigger")}))}function h(a){"sdate"===e.searchType?g(a):"sfield"===e.searchType?e.searchFilter=a:e.directory?f(a):e.searchFilter=a}var i=[];e.localId=_.uniqueId("epList"),e.items={count:0},e.originalData=e.data,e.vsRenderBufferSize=e.vsRenderBufferSize&&JSON.parse(e.vsRenderBufferSize)||50,e.vsRowLineCount=e.vsRowLineCount&&JSON.parse(e.vsRowLineCount)||2,e.vsItemSize=30*e.vsRowLineCount,e.vsLatch=!!angular.isString(e.vsLatch)&&"true"===e.vsLatch.toLowerCase(),e.arrow=e.showArrow!==!1,e.searchType="text",e.searchPrompt="",e.itemContentTemplate=e.itemContentTemplate||"defaultItemContentTemplate",e.filterState={},e.initData=function(){e.listSearch="",e.prevFirstLetter="",e.searchType="text",e.searchPrompt="";var b=!(!e.groupByType||"sdate"!==e.groupByType);e.filteredData=[],e.filtered=!1,e.selectedDirectoryEntry=void 0,e.listData=a("orderBy")(e.data,e.groupBy),e.sortBy&&""!==e.sortBy&&(e.isSortDesc=b,e.sortByDesc===!0&&(e.isSortDesc=!0),e.groupBy||(e.listData=a("orderBy")(e.data,e.sortBy)),e.isSortDesc&&(e.listData=e.listData.reverse())),e.groupBy&&""!==e.groupBy?b?(e.searchPrompt=d.getString("emf.ep.list.label.searchByDate"),e.searchType="sdate",e.listData=_.sortBy(e.listData,function(a){return a[e.groupBy]||""}).reverse(),e.showDirectory=!1,e.directory=c.getDirectoryByDate(e.listData,e.groupBy)):("sfield"===e.groupByType?(e.directory=c.getDirectoryByField(e.listData,e.groupBy),e.searchType="sfield",e.filteredData=e.listData,e.filtered=!0):e.directory=c.getDirectory(e.listData,e.groupBy),e.groupByLabel&&(e.searchPrompt=d.getString("emf.ep.list.label.searchBy",e.groupByLabel))):(e.groupByLabel&&(e.searchPrompt=d.getString("emf.ep.list.label.searchBy",e.groupByLabel)),e.filteredData=e.listData,e.filtered=!0),i=angular.extend([],e.listData),e.items.count=e.data.length,e.init&&e.init(e)},e.filterByName=function(a){var b=!0;if(e.searchFilter)if(e.searchFields){var c=_.find(e.searchFields,function(b){return 0===(a[b]+"").toLowerCase().indexOf(e.searchFilter.toLowerCase())});c||(b=!1)}else e.groupBy&&(b=0===(a[e.groupBy]+"").toLowerCase().indexOf(e.searchFilter.toLowerCase()));return b};var j=_.throttle(h,200);e.$watch("listSearch",function(a,b){e.groupBy&&""!==e.groupBy?(void 0===a||a===b||e.goingToDirectory||j(a),e.goingToDirectory=!1):h(a)}),e.goToDirectory=function(a){e.listSearch&&(e.goingToDirectory=!0,e.listSearch=""),e.filteredData=i.slice(a.index,a.nextIndex),e.selectedDirectoryEntry=a,e.filtered=!0,e.searchFilter="",e.prevFirstLetter=a.letter,b(function(){e.$broadcast("vsRepeatTrigger")})},e.wrapFormatOtherAdditionalTitle=function(a,b){return e.formatOtherAdditionalTitle?e.formatOtherAdditionalTitle(a,b):b[a]},e.wrapFormatAdditionalTitle=function(a,b){return e.formatAdditionalTitle?e.formatAdditionalTitle(a,b):b[a]},e.wrapFormatSubtitle=function(a,b){return e.formatSubtitle?e.formatSubtitle(a,b):a.reduce(function(a,c){return(a?a+", ":"")+b[c]},"")},e.wrapFormatGroupTitle=function(a){var b=e.directory[a[e.groupBy]].groupDisplay;if(e.formatGroupTitle){var c=e.directory[a[e.groupBy]].dirKey;return e.formatGroupTitle(a,e.groupBy,b,c)}return b},e.$watch("data",function(a){
a&&e.initData()}),e.$watch("groupBy",function(a,b){a&&a!==b&&e.initData()}),e.$watch("sortBy",function(a,b){a&&a!==b&&e.initData()}),e.$on("$destroy",function(){e.shellSizeChangeEvent&&e.shellSizeChangeEvent()})}}}a.$inject=["$filter","$timeout","epListService","epTranslationService"],angular.module("ep.list").directive("epList",a)}(),function(){"use strict";function a(a){function b(a){return _.groupBy(a,function(a){var b=a[0];return isNaN(b)?b.toUpperCase():"#"})}function c(a){var b=a?a.substr(0,1).toUpperCase():"";return b<"A"&&(b=h[0]),b>"Z"&&(b=h[h.length-1]),b}function d(a,b){var d,e=function(a,b){return"#"===a?b<"A":"@"===a||a===b},f="__all__",g={},i=a.length;g[f]={sort:0,isAll:!0,letter:"*",dirKey:f,index:0,prevIndex:0,nextIndex:i,disabled:!1},h.forEach(function(a,b){g[a]={sort:b+1,letter:a,groupDisplay:a,index:0,prevIndex:0,disabled:!0}});for(var j="",k="",l=0;l<i;l++){var m=a[l],n=m[b]||"";if(j=c(n),!e(k,j)){k=j;var o=g[j];d&&(d.nextIndex=l),o.index=l,o.dirKey=n,o.prevIndex=d?d.index:0,o.nextIndex=i,o.data=m,o.disabled=!1,g[n]=d=o,delete g[j]}}return g}function e(a,b){for(var c,d,e,f,g={},h={},i=a.length,j=0;j<i;j++)if(e=a[j][b],c=(e||"").substr(0,7),d=c,0===c.length&&(c="@"),!g[c]){g[c]=!0;var k=f?f.index:0;f&&(f.nextIndex=j);var l="",m="";if("@"===c)d="No Date",l="0000",m="00";else{var n=c.split("-");d=n[1]+"-"+n[0],l=n[0],m=n[1]}var o={letter:c,groupDisplay:d,dirKey:e,year:l,month:m,index:j,prevIndex:k,nextIndex:i,previous:f,next:void 0,data:a[j]};h[e]=f=o,f&&(f.next=o)}return h}function f(a,b){for(var c,d,e,f,g={},h={},i=a.length,j=0;j<i;j++)if(e=a[j][b],c=e||"",d=c,0===c.length&&(c="@"),!g[c]){g[c]=!0;var k=f?f.index:0;f&&(f.nextIndex=j),"@"===c&&(d="[No Value]");var l={letter:c,groupDisplay:d,dirKey:e,index:j,prevIndex:k,nextIndex:i,previous:f,next:void 0,data:a[j]};h[e]=f=l,f&&(f.next=l)}return h}function g(b){if(b){var c=b.windowClass||"";c&&(c+=" "),b.windowClass=c+"ep-list-modal-dialog"}return a.showModalForm(b)}var h=["#","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","@"];return{getGroupedList:b,getDirectory:d,getDirectoryKey:c,getDirectoryByDate:e,getDirectoryByField:f,showListModalForm:g}}a.$inject=["epModalDialogService"],angular.module("ep.list").factory("epListService",a)}(),function(){"use strict";angular.module("ep.local.storage").provider("epLocalStorageConfig",[function(){var a={settings:{},settingsID:"emfSettings"};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.local.storage",a),a}]}])}(),function(){"use strict";angular.module("ep.local.storage").service("epLocalStorageService",["epLocalStorageConfig",function(a){function b(a,c,d){var e=_.first(c),f=_.rest(c);f.length?(a[e]=a[e]||{},b(a[e],f,d)):void 0===d?delete a[e]:a[e]=d}function c(a,b){var d=_.first(b),e=_.rest(b);return e.length?(a[d]=a[d]||{},c(a[d],e)):a[d]}function d(){localStorage.setItem(k,JSON.stringify(l))}function e(e){if(e){var f=e.split("."),g=c(a.settings,f);b(l,f,g)}else localStorage.removeItem(k),l=angular.merge({},a.settings);d()}function f(a){if(a)return c(l,a.split("."))}function g(b){k=a.settingsID,b&&(k+="."+b);var c=localStorage.getItem(k);l=c?JSON.parse(c):angular.merge({},a.settings)}function h(a,c){b(l,a.split("."),c),d()}function i(a,b){var c=f(a);c?angular.extend(c,b):c=b,h(a,c)}function j(a,b){var c=f(a);return void 0===c&&(h(a,b),c=b),c}var k,l;return g(),{get:f,update:h,merge:i,getOrAdd:j,clear:e,init:g}}])}(),function(){"use strict";function a(a){function b(b){angular.isUndefined(c.epContextMenuBuilder)||(a.$root.$broadcast("dynamicMenuCall",{event:b,builder:c.epContextMenuBuilder,context:c.epMenuOptionContext}),b.preventDefault(),b.stopPropagation())}var c=this;c.onDynamicMenuCall=b}a.$inject=["$scope"],angular.module("ep.menu.builder").controller("epContextMenuCtrl",a)}(),function(){"use strict";function a(){return{restrict:"EA",controller:"epContextMenuCtrl",controllerAs:"contextMenuCtrl",templateUrl:"src/components/ep.menu.builder/context.menu/ep-context-menu.html",scope:{},bindToController:{epContextMenuBuilder:"=",epMenuOptionContext:"=",epContextMenuIcon:"@",epContextMenuPosition:"@"},link:function(a,b,c){var d=angular.isUndefined(c.epContextMenuIcon)?"fa fa-ellipsis-v":c.epContextMenuIcon;angular.element(b[0].querySelector(".ep-context-menu")).addClass(d);var e="ep-actionset-right-down";if(c.epContextMenuPosition)switch(c.epContextMenuPosition){case"absolute-right-bottom":e="ep-actionset-right-bottom";break;case"right-bottom":e="ep-actionset-right-down";break;case"right-center":e="ep-actionset-right-center"}angular.element(b[0].querySelector(".ep-actionset")).addClass(e)}}}angular.module("ep.menu.builder").directive("epContextMenu",a)}(),function(){"use strict";function a(a,b){function c(){e.menuItems=null,a.$root.$$phase||a.$apply(),b.off("click.actionMenu")}function d(a,b,d){angular.isFunction(b.action)&&b.action(d),c(),a.stopPropagation(),a.preventDefault()}var e=this;e.closeMenu=c,e.invokeAction=d,a.$on("dynamicMenuCall",function(d,f){angular.isUndefined(f.builder)||(angular.isFunction(f.builder.beforeShowMenu)&&f.builder.beforeShowMenu(f.context),e.menuItems=angular.isFunction(f.builder.menuItems)?f.builder.menuItems():null,e.context=f.context||null,"fixed"!==e.element.css("position")&&setTimeout(function(){var a=$(e.element)[0].scrollWidth||150;$(window).width()-f.event.clientX>a?e.element.css({left:f.event.clientX+"px",top:f.event.clientY+"px"}):e.element.css({left:f.event.clientX-a+"px",top:f.event.clientY+"px"})},10),b.on("click.actionMenu",function(){c()}),a.$root.$$phase||a.$apply())})}a.$inject=["$scope","$document"],angular.module("ep.menu.builder").controller("epDynamicMenuCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,controller:"epDynamicMenuCtrl",controllerAs:"dynamicMenuCtrl",templateUrl:"src/components/ep.menu.builder/dynamic.menu/ep-dynamic-menu.html",link:function(a,b){a.dynamicMenuCtrl.element=b}}}angular.module("ep.menu.builder").directive("epDynamicMenu",a)}(),function(){"use strict";function a(a){function b(){function b(b){var c=a("filter")(f,{caption:b.caption},!0)[0],d=f.indexOf(c);angular.isUndefined(b.type)&&angular.isFunction(b.action)&&(b.type="action"),d===-1?f.push(b):f[d]=angular.extend(f[d],b)}function c(b){var c=a("filter")(f,{caption:b.caption},!0)[0],d=f.indexOf(c);if(d!==-1){var e=d,g=1;f[d-1]&&"separator"===f[d-1].type?(e=d-1,g=2):f[d+1]&&"separator"===f[d+1].type&&(e=d,g=2),f.splice(e,g)}}function d(){return angular.copy(f)}function e(){f.push({type:"separator"})}var f=[];return{setMenuItem:b,removeMenuItem:c,menuItems:d,addSeparator:e}}return{getMenuBuilder:b}}a.$inject=["$filter"],angular.module("ep.menu.builder").factory("epMenuBuilderFactory",a)}(),function(){"use strict";angular.module("ep.modaldialog").directive("epmodaldialog",[function(){return{restrict:"E",templateUrl:"src/components/ep.modaldialog/modals/modaldialog-pane.html",replace:!0,compile:function(){return{pre:function(){},post:function(a){a.config=a.dialogState?a.dialogState.config:{}}}}}}])}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(a){var b={showProgress:!1,dialogTypeClass:"ep-message-pane",icon:"fa fa-info-circle fa-4x"};z(a,b),u(a,b),v(b)}function l(a){var b={showProgress:!1,dialogTypeClass:"ep-confirm-dialog",icon:"fa  fa-question-circle fa-4x",buttons:[{text:"$$.emf.ep.modaldialog.button.Yes",isDefault:!0,action:a?a.fnDefaultAction:null},{text:"$$.emf.ep.modaldialog.button.No",isCancel:!0,action:a?a.fnCancelAction:null}]};z(a,b),u(a,b),v(b)}function m(a){var b={showProgress:!0,dialogTypeClass:"ep-progress-dialog",icon:"fa fa-clock-o fa-4x",buttons:[]};u(a,b),v(b)}function n(a){var b={showLoading:!0,showProgress:!0,dialogTypeClass:"ep-loading-dialog",icon:"fa fa-clock-o fa-4x",buttons:[]};u(a,b),v(b)}function o(a,b){var c={templateUrl:"src/components/ep.modaldialog/modals/modaldialog-error.html",title:"$$.emf.ep.modaldialog.label.exception",icon:"",status:"error",statusClass:"alert-danger",statusIcon:"fa fa-3x fa-warning",message:"",messageDetails:"",btnBlock:!1,buttons:[{id:"btnOk",text:"$$.emf.ep.modaldialog.button.Ok",isDefault:!0,type:"primary",action:a?a.fnDefaultAction:null}]};if(b&&b instanceof Error&&(c.message=b.message,c.messageDetails=b.stack),a&&a.status){var d=a.status.toLowerCase();switch(d){case"warning":c.statusClass="alert-warning",c.statusIcon="fa fa-3x fa-warning";break;case"error":c.statusClass="alert-danger",c.statusIcon="fa fa-3x fa-warning";break;case"information":case"info":c.statusClass="alert-info",c.statusIcon="fa fa-3x fa-info"}}return u(a,c),r(c).result}function p(a){var b={stackable:!0,kind:"modal-form",title:"Modal Form",icon:"",size:"fullscreen",closeButton:!0,buttons:[{id:"btnOk",text:"$$.emf.ep.modaldialog.button.Ok",isDefault:!0,type:"primary"}]};return u(a,b),r(b).result}function q(a){var b={templateUrl:"src/components/ep.modaldialog/modals/modaldialog-error.html",title:"",icon:"",status:"information",statusClass:"alert-info",statusIcon:"fa fa-3x fa-info",message:"",messageDetails:"",btnBlock:!1,buttons:[{id:"btnOk",text:"$$.emf.ep.modaldialog.button.Ok",isDefault:!0,type:"primary",action:a?a.fnDefaultAction:null}]};if(a&&a.status){var c=a.status.toLowerCase();switch(c){case"warning":b.statusClass="alert-warning",b.statusIcon="fa fa-3x fa-warning";break;case"error":b.statusClass="alert-danger",b.statusIcon="fa fa-3x fa-warning";break;case"information":case"info":b.statusClass="alert-info",b.statusIcon="fa fa-3x fa-info"}}return u(a,b),r(b).result}function r(c){var d=c;if(s("non-stackable"),1!==y(d)){d._isModalDialog=!0,F.isModal=!0,w(d),d.setStatusBarText=function(b){d.statusBarTextHTML=angular.isString(b)?a.trustAsHtml(b):b},d.setStatusBarText(d.statusBarText);var e="ep-modal-window";return e+="fullscreen"===d.size?" ep-fullscreen":" ep-responsive",d.windowClass&&(e+=" "+d.windowClass),b.open({windowClass:e,keyboard:!1,size:"small"===d.size?"sm":"large"===d.size?"lg":"",backdrop:d.backdrop!==!1&&(d.backdrop||!1),templateUrl:"src/components/ep.modaldialog/modals/modaldialog-custom.html",controller:["$scope","$uibModalInstance","$document","$timeout",function(a,b,c,e){function f(b){if(a.modalInstance===H.modalInstance&&(13===b.which||27===b.which)){var c=!0,f=_.find(d.buttons,function(a){return 13===b.which?a.isDefault:a.isCancel});f?a.btnclick(f):13===b.which&&d.fnDefaultAction?a.btnclick(null,"fnDefaultAction"):27===b.which&&d.fnCancelAction?a.btnclick(null,"fnCancelAction"):27===b.which?e(function(){B(!0)}):c=!1,c&&(b.preventDefault(),b.stopPropagation())}}G.push({isModal:!0,scope:a,cfg:d,modalInstance:b}),H=G[G.length-1],a.config=d,a.modalInstance=b,d.templateUrl&&!d.templateOptions&&(d.templateOptions={templateUrl:d.templateUrl}),(d.helpTemplateUrl||d.helpTemplate)&&(d.helpTemplateOptions=d.helpTemplateOptions||{},d.helpTemplateOptions.templateUrl=d.helpTemplateOptions.templateUrl||d.helpTemplateUrl,d.helpTemplateOptions.template=d.helpTemplateOptions.template||d.helpTemplate),d.helpTemplateOptions?(d.helpTemplateOptions.templateScope||(d.helpTemplateOptions.templateScope=a),a.helpButtonClick=function(){a.showHelp=!a.showHelp},a.closeHelp=function(){a.showHelp=!1}):d.fnHelpAction&&(a.helpButtonClick=function(){d.fnHelpAction(d)}),d.templateOptions&&!d.templateOptions.templateScope&&(d.templateOptions.templateScope=a),d.controller&&h.invoke(d.controller,a.modalInstance,{$scope:a,$uibModalInstance:b}),a.btnclick=function(b,c){var d={};u(F.config,d);var f=x(a.config,b,c);f!==-1&&e(function(){"fnCancelAction"===c||b&&b.isCancel?B(!0):a.config.stackable!==!0?B(!1,f):A()})},c.on("keydown",f),a.$on("$destroy",function(){c.off("keydown",f)}),e(function(){var b=$(".ep-modal-footer").innerHeight(),c=$(".ep-modal-header").innerHeight()+5,d=$(".ep-dlg-status h4").innerHeight();if(a.config.statusBar===!0){var e=b+d;$(".ep-modal-area").css({paddingBottom:e+"px",paddingTop:c+"px"}),$(".ep-modal-footer").css({bottom:d+"px"})}else $(".ep-modal-area").css({paddingBottom:b+"px",paddingTop:c+"px"})})}]})}}function s(a){var b=(a||"").toLowerCase();if("all"===b)A(),c.dismissAll(),H=void 0,G=[],F.isVisible=!1,F.isModal=!1;else if("panel"===b)H&&H.isModal!==!0&&B();else if("modal"===b)H&&H.isModal===!0&&B();else if("modal-form"===b)H&&H.isModal===!0&&"modal-form"===H.cfg.kind&&B();else if("current"===b)B();else if("non-stackable"===b)H&&H.cfg.stackable!==!0&&B();else{if(H&&H.isModal===!0&&"modal-form"===H.cfg.kind)return;B()}}function t(a){a?i.clear(I+a):i.clear(I.substr(0,I.length-1))}function u(a,b){a&&b&&angular.forEach(a,function(c,d){null!==a[d]&&(angular.isArray(a[d])?b[d]=a[d]:angular.isObject(a[d])?(b[d]&&("templateOptions"!==d&&"helpTemplateOptions"!==d&&"userData"!==d||(b[d]={})),u(a[d],b[d])):b[d]=a[d])})}function v(a){A(),s("non-stackable");var b={};return u(E,b),u(a,b),y(b)?void s("current"):(F.isVisible=!0,F.isModal=!1,C(),b._isModalDialog=!1,w(b),F.paneScope&&(F.paneScope.config=b),G.push({isModal:!1,scope:F.paneScope,cfg:b,modalInstance:void 0}),void(H=G[G.length-1]))}function w(a){F.config=a,a.buttons&&a.buttons.length&&angular.forEach(a.buttons,function(b){b.type||(a._isModalDialog&&b.isDefault===!0?b.type="primary":a._isModalDialog&&b.isCancel===!0?b.type="warning":b.type="default"),b.text&&(b.text=j.getStringIf(b.text))}),a.title=j.getStringIf(a.title),a.message=j.getStringIf(a.message),a.autoClose&&(a.messageHasTimer=a.message.indexOf("{timer}")>=0,a.titleHasTimer=a.title.indexOf("{timer}")>=0,a.autoClosePromise=f(function(){null!==a.autoClosePromise&&a.fnDefaultAction&&a.fnDefaultAction(),s("current")},1e3*a.autoClose),a.countDown=a.autoClose,(a.messageHasTimer||a.titleHasTimer||a.showTimer)&&(a.timerPromise=g(function(){a.countDown--,a.countDown<=0&&(g.cancel(a.timerPromise),a.timerPromise=null)},1e3,0)),a.spinnerTextClass=a.countDown<100?"ep-timer-large-font":"ep-timer-small-font"),a.showSpinner=a.showTimer||a.showProgress,a.showSpinner&&(a.spinnerIconClass=a.showTimer?"fa-circle-o-notch":"fa-spinner fa-pulse"),a.fnGetMessage=function(){if(a.messageHasTimer){var b=void 0!==a.countDown&&null!==a.countDown?a.countDown:"";return a.message.replace("{timer}",b)}return a.message},a.fnGetTitle=function(){if(a.titleHasTimer){var b=void 0!==a.countDown&&null!==a.countDown?a.countDown:"";return a.title.replace("{timer}",b)}return a.title}}function x(a,b,c){var d=0,e="";return b?b.action?(d=b.action(a,b),e=b.text):b.isDefault===!0&&a.fnDefaultAction?(d=a.fnDefaultAction(a,b),e="fnDefaultAction"):b.isCancel===!0&&a.fnCancelAction?(d=a.fnCancelAction(a,b),e="fnCancelAction"):a.fnButtonAction?(d=a.fnButtonAction(a,b),e=b.text):e=b.text:c&&("fnDefaultAction"===c&&a.fnDefaultAction?(d=a.fnDefaultAction(a),e="fnDefaultAction"):"fnCancelAction"===c&&a.fnCancelAction&&(d=a.fnCancelAction(a),e="fnCancelAction")),a.rememberMeValue&&a.dialogId&&e&&i.update(I+a.dialogId,e),d}function y(a){if(a.rememberMeValue=!1,a.rememberMe&&!a.dialogId&&(a.rememberMe=!1),a.rememberMe&&a.dialogId&&i.get(I+a.dialogId)){var b=!1,c=i.get(I+a.dialogId);if("fnDefaultAction"===c&&a.fnDefaultAction)b=!0,a.fnDefaultAction(a);else if("fnCancelAction"===c&&a.fnCancelAction)b=!0,a.fnCancelAction(a);else{var d=null;angular.forEach(a.buttons,function(a){a.text===c&&(d=a)}),d&&(d.action?(b=!0,d.action(a,d)):d.fnButtonAction&&(b=!0,d.fnButtonAction(a,d)))}return b?1:-1}return 0}function z(a,b){if(a&&a.status){var c=a.status.toLowerCase();b.titleClass="warning"===c?"text-warning":"error"===c?"text-danger":"text-success",b.icon="warning"===c||"error"===c?"fa fa-4x fa-warning":"fa fa-4x fa-check"}}function A(a){var b=a?a:F.config;b.autoClosePromise&&(f.cancel(b.autoClosePromise),b.autoClosePromise=null),b.timerPromise&&(g.cancel(b.timerPromise),b.timerPromise=null)}function B(a,b){if(A(),F.isVisible=!1,H&&H.isModal){var c=H.modalInstance;c&&(a?c.dismiss("cancel"):c.close(b?b:0))}G.pop(),H=G.length?G[G.length-1]:void 0}function C(){angular.element("body .ep-modaldialog.ep-modaldialog-pane").length||(F.paneScope=e.$new(),F.paneScope.dialogState=F,F.paneScope.btnclick=function(a){s("panel"),x(F.config,a)},angular.element(document.body).append(d("<epmodaldialog></epmodaldialog>")(F.paneScope)))}function D(){angular.copy(E,F.config),C()}var E={dialogTypeClass:"ep-message-dialog",containerClass:"bg-primary",title:"Title",titleClass:"text-warning",message:"Message",messageClass:"",icon:"fa fa-info-circle fa-4x",iconClass:"",showProgress:!1,autoClose:0,fnDefaultAction:null,fnCancelAction:null,fnButtonAction:null,buttons:[{text:"$$.emf.ep.modaldialog.button.Ok",isDefault:!0}],btnBlock:!1},F={isVisible:!1,config:{},isModal:!1,paneScope:null},G=[],H=null,I="emf.dialogs.dialogId.";return D(),{showModalForm:p,showMessage:k,showConfirm:l,showLoading:n,showProgress:m,showException:o,showMessageBox:q,showCustomDialog:r,hide:s,clearRememberMe:t,state:F}}a.$inject=["$sce","$uibModal","$uibModalStack","$compile","$rootScope","$timeout","$interval","$injector","epLocalStorageService","epTranslationService"],angular.module("ep.modaldialog").service("epModalDialogService",a)}(),function(){"use strict";angular.module("ep.modaldialog").controller("epModalDialogErrorCtrl",["$scope",function(a){var b=a.config;b.callFnHideModalError=!0,b.fnHideModalError=function(){var a=angular.element(".ep-dlg-message"),c=angular.element(".ep-modaldialog-error");a.length&&c.length&&a.length&&a[0].clientWidth>c[0].clientWidth&&(a.css("max-width",c[0].clientWidth-70),b.callFnHideModalError=!1)}}])}(),function(){"use strict";function a(a,c,d,e,f){function g(a){e.mergeMenus(c.menu,a),0===--c.count&&(c.menuOptions.menu=c.menu)}c.onMenuOptions=function(){if(c.menuOptions.onMenuInit=function(a){c.menuOptions.factory=a},c.onTopMenuClick=function(){c.menuOptions.onTopMenuClick&&c.menuOptions.onTopMenuClick()},c.menu={id:"root",caption:c.menuOptions.title||"Main Menu",menuitems:[]},"accordion"!==c.menuOptions.menuType){var h=c.menuOptions.fnGetMenu||[];if(angular.isArray(h)||(h=[c.menuOptions.fnGetMenu]),c.includeEmbeddedMenu){var i=f.getService("epEmbeddedAppsService");i&&h.push(i.retrieveAppsMenu)}c.count=h.length,angular.forEach(h,function(b){a.when(b()).then(function(a){e.mergeMenus(c.menu,a),0===--c.count&&(c.menuOptions.menu=c.menu)})})}else{angular.isArray(c.menuOptions.providers)||(c.menuOptions.providers=[c.menuOptions.providers]);var j=c.menuOptions.providers;c.count=j.length;var k=j.map(function(a){return a.getCacheKey()});c.commitMenuState=function(){k.forEach(function(a){var c=b[a];d.update("menu."+a,c)})};var l=1e3*(c.menuOptions.refreshInterval||0),m=(new Date).valueOf();j.forEach(function(a){var c=a.getCacheKey();a.register(function(){b[c]=null,d.update("menu."+c,null)});var e=b[c];if(e)g(e);else if(e=d.get("menu."+c),e&&e._timestamp+l>m)a.restore(e),b[c]=e,g(e);else{var f=a.get;f&&f().then(function(e){e._timestamp=m,b[c]=e,d.update("menu."+c,e),a.restore(e),g(e)})}})}}}a.$inject=["$q","$scope","epLocalStorageService","epMultiLevelMenuService","epUtilsService"],angular.module("ep.multi.level.menu").controller("epShellMenuCtrl",a);var b={}}(),function(){"use strict";function a(){return{restrict:"E",controller:"epShellMenuCtrl",templateUrl:"src/components/ep.multi.level.menu/ep-shell-menu/ep-shell-menu.html",scope:{menuId:"=",menuOptions:"=",includeEmbeddedMenu:"="},compile:function(){return{pre:function(){},post:function(a){a.$watch("menuOptions",function(b){void 0!==b&&a.onMenuOptions()})}}}}}angular.module("ep.multi.level.menu").directive("epShellMenu",a)}(),function(){"use strict";angular.module("ep.multi.level.menu").constant("epMultiLevelMenuConstants",{MLM_INITIALIZED_EVENT:"MLM_INITIALIZED_EVENT",MLM_MENU_DATA_CHANGED:"MLM_MENU_DATA_CHANGED",MLM_FAVORITES_ADDED:"MLM_FAVORITES_ADDED",MLM_FAVORITES_DELETED:"MLM_FAVORITES_DELETED",MLM_ITEM_CLICKED:"MLM_ITEM_CLICKED",MLM_ITEM_EXPANDED:"MLM_ITEM_EXPANDED"})}(),function(){"use strict";angular.module("ep.multi.level.menu").controller("epMultiLevelMenuCtrl",["$rootScope","$scope","$timeout","epMultiLevelMenuFactory","epMultiLevelMenuConstants","epMultiLevelMenuService",function(a,b,c,d,e,f){function g(){b.searchResults=[],b.currentItems=[],b.state.lastSearchTerm=""}function h(){b.state.searchTerm?b.currentItems=b.searchResults:b.data&&b.data.next?b.currentItems=b.data.next.menuitems:b.currentItems=[]}function i(a){j(a),b.state.searchIndex.sort(function(a,b){return a.caption>b.caption?1:0})}function j(a){a.forEach(function(a){"item"===a._type?(a.searchTerm=a.caption.toLowerCase(),b.state.searchIndex.push(a)):j(a.menuitems)})}function k(){if(b.isRightToLeft=!1,s&&c.cancel(s),!b.menu||!b.menu.menuitems||!b.state.searchTerm)return b.searchResults=[],b.state.lastSearchTerm="",void h();var a=b.state.searchTerm.toLowerCase();b.state.searchType?b.state.searchType.toLowerCase():"";s=c(function(){var c=[],d=b.alternateSearchEnabled===!0?b.alternateSearch:l,e={source:b.state.searchIndex,searchTerm:a,results:c};d(e),b.searchResults=c,h(),b.state.lastSearchTerm=a},250)}function l(a){var c=a.searchTerm.split(/(\S+)/g);angular.forEach(b.state.searchIndex,function(b){var d=b.searchTerm.split(/(\S+)/g);_.all(c,function(a){var b=a.trim();return!b||_.any(d,function(a){return 0===a.indexOf(b)})})&&a.results.push(b)})}function m(a,c){a&&("item"===a._type&&a.action&&"function"==typeof a.action&&(b.multiLevelMenuHelper.stampLastAccess(a),p(e.MLM_ITEM_CLICKED,a),a.actionAlternate(a)),c&&c.stopPropagation())}function n(a,d,f){if(a){if("menu"===a._type){if("topmenu"===a._id)return;b.isRightToLeft=d!==!0,b.data.next=a,c(function(){h(),b.$apply()})}"item"===a._type&&a.action&&"function"==typeof a.action&&(b.multiLevelMenuHelper.stampLastAccess(a),p(e.MLM_ITEM_CLICKED,a),a.action(a)),a.isTop&&d&&f&&b.onTopMenuClick&&b.onTopMenuClick()}}function o(a,c){b.multiLevelMenuHelper.toggleFavorite(a,c)}function p(c,d){a.$emit(c,{eventId:c,menuId:b.menuId,factory:b.multiLevelMenuHelper,scope:b,menuItem:d})}function q(a){b.searchType&&(b.state.searchType=b.searchType),b.multiLevelMenuHelper=d.getMultiLevelMenuHelper(b,a),b.multiLevelMenuHelper.populate(b.menu),b.data=b.multiLevelMenuHelper.data,b.data.next=b.multiLevelMenuHelper.data.menu,b.menu&&i(b.menu.menuitems),b.navigate(b.data.next),b.onMenuInit&&b.onMenuInit({factory:b.multiLevelMenuHelper}),b.$watch("menu",function(a,c){!a||angular.equals(a,c)&&b.data&&b.data.menu||(b.multiLevelMenuHelper.populate(b.menu,!0),b.data=b.multiLevelMenuHelper.data,b.data.next=b.multiLevelMenuHelper.data.menu,b.menu&&i(b.menu.menuitems),h(),p(e.MLM_MENU_DATA_CHANGED)),angular.isDefined(a)&&angular.isUndefined(c)&&p(e.MLM_INITIALIZED_EVENT)}),f.registerMenuFactory(b.multiLevelMenuHelper)}function r(a){var c=b.fnSort?b.fnSort(a):void 0;return c||a.sort||a.hitCount||a.caption}b.state={searchTerm:"",searchType:"item",lastSearchTerm:"",searchIndex:[]},b.searchResults=[],b.currentItems=[],b.multiLevelMenuHelper=null;var s;b.$watch("sortDisabled",function(a,c){a!==!0&&a!==!1||angular.equals(a,c)||(b.orderByMenu=a===!0?void 0:r)}),b.orderByMenu=b.sortDisabled===!0?void 0:r,b.clear=g,b.setCurrentItems=h,b.navigate=n,b.navigateAlternate=m,b.toggleFavorite=o,b.search=k,b.initializeMenus=q,b.emitMenuEvent=p}])}(),function(){"use strict";angular.module("ep.multi.level.menu").directive("epMultiLevelMenu",["$timeout",function(a){return{restrict:"E",replace:!0,controller:"epMultiLevelMenuCtrl",templateUrl:"src/components/ep.multi.level.menu/multi-level-menu.html",scope:{menuId:"=",searchType:"=",searchDisabled:"=",sortDisabled:"=",iconDisabled:"=",initFavorites:"=",menu:"=",onMenuInit:"&",onFavoriteChange:"&",onTopMenuClick:"="},compile:function(){return{pre:function(){},post:function(b){a(function(){b.initializeMenus("epMultiLevelMenu")})}}}}}])}(),function(){"use strict";angular.module("ep.multi.level.menu").factory("epMultiLevelMenuFactory",["epLocalStorageService","epMultiLevelMenuService","epMultiLevelMenuConstants",function(a,b,c){function d(a,b){return(a&&b||!f.factoryService)&&(f.factoryService=new e(a,b)),f.factoryService}function e(d,e){function f(a){a.menuitems||(a.menuitems=[]),a._type||(a._type=null===a.menuitems||a.menuitems.length<=0?"item":"menu","item"!==a._type||a._lastAccessed||(a._lastAccessed=r(a))),a._depth=z,angular.forEach(a.menuitems,function(b){"epAccordionMenu"!==e&&(b._parent=a),z++,f(b),z--})}function g(c,d){c&&(B.menu=angular.extend({},c)),B.menu&&(B.menu._parent={_id:"topmenu",isTop:!0},f(B.menu),B.favorites=u(),B.next=B.menu,a.get(w())||b.findAllMenuItems(B.menu,function(a){a.hideFavorite||!a.initFavorite&&!A.initFavorites||o(a)}),d&&A.navigate(B.menu))}function h(a,b){B.menu=B.menu||{},i(B.menu,a),g(),b&&A.navigate(B.menu)}function i(a,c){return a=a||{},a.menuitems||(a.menuitems=[]),angular.forEach(c,function(c){c.id?l(c.id,a)||a.menuitems.push(c):b.findFirstMenuItem(a,function(a){return a.caption===c.caption})||a.menuitems.push(c)}),a}function j(a){a&&(B.next=a)}function k(a){var b=l(a);b&&j(b)}function l(a,c){var d=function(b){return b.id===a};return b.findFirstMenuItem(c?c:B.menu,d)}function m(){return B.menu=null,B.favorites=null,B.next=null,A.clear(),g()}function n(){B.menu=null,B.favorites=null,B.next=null,A.clear()}function o(b,d,e){var f=s(b);if(f){f.favorite=!f.favorite;var g=w(f);f.favorite?(a.update(g,b._id||b.id),e||A.emitMenuEvent(c.MLM_FAVORITES_ADDED,b)):(a.clear(g),e||A.emitMenuEvent(c.MLM_FAVORITES_DELETED,b)),B.favorites=u(),A.onFavoriteChange&&A.onFavoriteChange({menuItem:b,favorites:B.favorites}),d&&d.stopPropagation()}}function p(a){var b=s(a);b&&b.action&&"function"==typeof b.action&&(q(b),A.emitMenuEvent(c.MLM_ITEM_CLICKED,b),b.action(b))}function q(b){var c=s(b);if(c){var d=w(c,!0);b._lastAccessed=moment().toISOString(),a.update(d,b._lastAccessed)}}function r(b,c){var d,e=s(b);if(e){if(c!==!0&&e._lastAccessed)return e._lastAccessed;var f=w(e,!0),g=a.get(f);if(g){var h=moment(g);h.isValid()&&(d=h.toDate())}return d}}function s(a){var b=a;return angular.isString(a)&&(b=l(a)),b}function t(a){return b.findFirstMenuItem(B.menu,function(b){return b._id?b._id===a:b.id===a})}function u(){var c=b.findAllMenuItems(B.menu,function(a){return!!a.favorite}),d=w(),e=a.get(d)||{};return angular.forEach(e,function(a){if(!_.find(c,function(b){return b.id===a})){var b=t(a);b&&(b.favorite=!0,c.push(b))}}),c}function v(){B.favorites=null;var b=w();a.clear(b),A.emitMenuEvent(c.MLM_FAVORITES_DELETED)}function w(a,b){var c="emf.multi-level-menu."+(A.menuId||"").replace(/\./g,"-");if(c+=b?".lastaccess":".favorite",a){var d=((a._id?a._id:a.id)||"").replace(/\./g,"-");c=c+"."+d}return c}function x(){return A.menuId}function y(a){A.fnSort=a}var z=0,A=d,B={menu:null,favorites:null};return{getMenuId:x,data:B,populate:g,resetCache:m,clearFavorites:v,setCurrentMenuParent:j,setCurrentMenuParentById:k,findMenuItemById:l,toggleFavorite:o,stampLastAccess:q,getItemLastAccess:r,triggerAction:p,clear:n,mergeMenu:h,mergeMenuItems:i,setSortFunction:y}}var f=this;return{getMultiLevelMenuHelper:d}}])}(),function(){"use strict";angular.module("ep.multi.level.menu").service("epMultiLevelMenuService",[function(){function a(b,c){var d=c(b)?b:null;return d||angular.forEach(b.menuitems,function(b){d||(d=a(b,c))}),d}function b(b,c){var d=function(a){return a.id===b};return a(c,d)}function c(a,b,d){angular.forEach(a.menuitems,function(a){b(a)&&d.push(a),c(a,b,d)})}function d(a,b){var d=[];return c(a,b,d),d}function e(a,c){a.menuitems||(a.menuitems=[]),_.each(c,function(c){var d=null;c.menuitems&&c.menuitems.length&&(d=b(a,c.id)),d?e(d,c.menuitems):a.menuitems.push(c)})}function f(a,b){b&&a&&_.each(b,function(b){b&&b.Menu?e(a,b.Menu.menuitems):b&&b.menuitems&&e(a,b.menuitems)})}function g(a){a&&a.getMenuId()&&(i[a.getMenuId()]=a)}function h(a){return i[a]}var i={};return{registerMenuFactory:g,getMenuFactory:h,mergeMenuItems:e,mergeMenus:f,findMenuItemById:b,findFirstMenuItem:a,findAllMenuItems:d}}])}(),function(){"use strict";angular.module("ep.odata").factory("odataQueryFactory",function(){function a(a,b){var c="";if("string"==typeof a&&(c=a,a=null),a&&a.constructor.toString().indexOf("Array")>1){var d;for(d=0;d<a.length;d++)c+=(""===c?"":",")+a[d];a=null}if(a)for(var e in a)a.hasOwnProperty(e)&&(c+=(""===c?"":",")+e,b&&a[e]&&(c+=" desc"));return c}function b(a){return"string"==typeof a&&(m.type=a),this}function c(a){return isNaN(a)||parseInt(Number(a))!==a||(m.$top=a),this}function d(a){return isNaN(a)||parseInt(Number(a))!==a||(m.$skip=a),this}function e(b){var c=a(b,!0);return""!==c&&(m.$orderby=c),this}function f(b){var c=a(b);return""!==c&&(m.$select=c),this}function g(b){var c=a(b);return""!==c&&(m.$expand=c),this}function h(a){if(a)for(var b in a)a.hasOwnProperty(b)&&a[b]&&(m.$filter=(m&&m.$filter?m.$filter+" and ":"")+b+" eq '"+a[b]+"'");return this}function i(a,b,c,d){var e={">":"gt",">=":"ge","<":"lt","<=":"le","=":"eq","==":"eq","!=":"ne","<>":"ne"};b=e[b]||b;var f="",g=d&&"or"in d&&d.or?" or ":" and ",h=angular.isString(c)||isNaN(c)?"'":"";if(null!==a&&void 0!==a&&null!==c&&void 0!==c){switch(b){case"math":if(!(d&&"mathOperand"in d&&"mathFunction"in d&&"mathCompareOp"in d))throw"Malformed math operation; params object must contain mathOperand, mathFunction, and mathCompareOp properties";if(isNaN(c)||isNaN(d.mathOperand))throw"The second argument and mathOperand for math functions needs to be a number";b=e[d.mathCompareOp]||d.mathCompareOp,a=a+" "+d.mathFunction+" "+d.mathOperand;break;case"endswith":case"startswith":a=b+"("+a+",'"+c+"')",b="eq",c="true",h="",f=d&&"not"in d&&d.not?"not ":"";break;case"contains":a="indexof("+a+",'"+c+"')",b=d&&"not"in d&&d.not?"lt ":"gt",c="0",h="";break;case"day":case"month":case"year":case"second":case"minute":case"hour":if(isNaN(c)&&parseInt(Number(c))!==c)throw"The second argument for date/time functions needs to be an integer";a=b+"("+a+")",b="eq"}var i=h&&d&&d.guid===!0?"guid":"",j=f+a+" "+b+" "+i+h+c+h;if(d&&d.returnExpression===!0)return j;m&&m.$filter?m.$filter+=g+j:m.$filter=j}return this}function j(a,b){b=b||{};for(var c="(",d=0;d<a.length;d++){var e=a[d],f=e.params||{};f.returnExpression=!0;var g=i(e.column,e.op,e.value,f);c+="("+g+")",d+1<a.length&&(c+=b.itemJoinOr===!0?" or ":" and ")}if(c+=")",m&&m.$filter){var h=b.or===!0?" or ":" and ";m.$filter+=h+c}else m.$filter=c;return this}function k(a,b){var c=b?" or ":" and ";return m.$filter=(m&&m.$filter?m.$filter+c:"")+a,this}function l(){var a=$.extend({},m);return m={},a}var m={};return{setType:b,setTop:c,setSkip:d,setOrderBy:e,setSelect:f,setExpands:g,setFilter:h,setWhere:i,setWhereCustom:k,setWhereItems:j,compose:l}})}(),angular.module("ep.photo.browser").controller("epPhotoBrowserCtrl",["$scope","epPhotoBrowserService",function(a,b){b.getImages().then(function(b){a.images=b})}]),angular.module("ep.photo.browser").directive("epPhotoBrowser",["epPhotoBrowserService",function(a){function b(b){b.active=a.active,b.slides=a.slides,b.imageFiles=a.imageFiles}return{link:b,restrict:"E",controller:"epPhotoBrowserCtrl",templateUrl:"src/components/ep.photo.browser/ep-photo-browser.html",scope:{showPreview:"@"}}}]),angular.module("ep.photo.browser").factory("epPhotoBrowserFactory",[function(){function a(){return!0}return{publicMethod:a}}]),function(){"use strict";angular.module("ep.photo.browser").service("epPhotoBrowserService",["$q",function(a){function b(){var b=a.defer();return b.resolve(h),b.promise}function c(){document.addEventListener("deviceready",d,!1)}function d(){window.resolveLocalFileSystemURL(cordova.file.externalRootDirectory,function(a){window.console.log(cordova.file.externalRootDirectory);var b=a.createReader();b.readEntries(function(a){var b;for(b=0;b<a.length;b++)if("DCIM"===a[b].name){var c=a[b].createReader();c.readEntries(f,!1);break}},function(){window.console.log("fail")})})}function e(a,b){function c(){window.Console.log("file not found")}function d(a){a.file(function(a){var c=new FileReader;c.onloadend=function(){var a=this.result;b(a)},c.readAsDataURL(a)})}window.resolveLocalFileSystemURL(a,d,c)}function f(a){var b;for(b=0;b<a.length;b++){if("Camera"===a[b].name){var c=a[b].createReader();c.readEntries(g,!1);
break}window.console.log("the entries name"+a[b].name)}}function g(a){var b;for(b=0;b<a.length;b++)if(/\.(jpe?g|png|gif|bmp)$/i.test(a[b].name)){var c=a[b].fullPath.substr(1),d=cordova.file.externalRootDirectory+c;h.push({thumb:d,img:d})}}var h=[],i=[];return{imageFiles:i,getFileContentAsBase64:e,onGetDCIM:f,onGetFileNames:g,images:h,getImages:b,showDeviceImage:c}}])}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.record.editor/editors/ep-checkbox-editor.html",scope:{ctx:"=",value:"=",options:"="},compile:function(){return{pre:function(a){var b=a.ctx;a.temp={chk:!1},a.checkBoxMode=b.col.checkBoxMode||"checkbox","checkbox"===a.checkBoxMode?(b.fnSetSizeClass("col-xs-12 col-sm-4 col-md-3 col-lg-2"),b.checkBoxSize=b.checkBoxSize||"2x",b.updatable&&(b.toggleValue=function(c,d){if(void 0!==a.value&&!b.disabled){var e=!a.value;b.fnSetCurrentValue(e,!1),b.fnValidate&&b.updatable&&b.fnValidate(b.col,this,d)}}),b.checked=b.value?"checked":""):"switch"===a.checkBoxMode&&(a.temp.chk=!!a.value,b.updatable&&a.$watch("temp.chk",function(b,c){void 0!==b&&b!==c&&b!==a.value&&(a.value=b)})),a.handleKey=function(b){32===b.which&&a.ctx.toggleValue(a.ctx)}}}}}}angular.module("ep.record.editor").directive("epCheckboxEditor",a)}(),function(){"use strict";function a(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){if(d){var e=c.epDateConvert;"toString"===e&&(d.$parsers.unshift(function(b){var c=null;if(void 0!==b){var d=moment(b),e="YYYY-MM-DD";a.ctx.isDateTime&&(e=a.ctx.col&&a.ctx.col.time&&a.ctx.col.time.defaultNoon===!0?"YYYY-MM-DDT12:00:00":"YYYY-MM-DDT00:00:00"),c=d.isValid()?d.format(e):null}var f=a.ctx.fnGetCurrentValue();return f!==c&&a.ctx.fnSetCurrentValue(c,!1),b}),d.$viewChangeListeners.push(function(){void 0===d.$modelValue&&(a.ctx.isInvalidDateSet=!0,a.value=void 0)})),"toDate"===e&&d.$formatters.push(function(b){if(angular.isString(b)){var c=moment(b);a.ctx.dateValue=c.isValid()?c.toDate():null}else a.ctx.isInvalidDateSet===!0?a.ctx.isInvalidDateSet=!1:a.ctx.dateValue=angular.isDate(b)?b:null;return b})}}}}angular.module("ep.record.editor").directive("epDateConvert",a)}(),function(){"use strict";function a(a){var b=a.inputSupportsType("date");return{restrict:"E",replace:!0,templateUrl:"src/components/ep.record.editor/editors/ep-date-editor.html",scope:{ctx:"=",value:"=",options:"="},compile:function(){return{pre:function(a){var c=a.ctx,d=c.col;c.useDateInput=b;var e=d.oFormat.FormatString;if(c.format=e,c.dateOptions={},d.time&&d.time!==!1&&d.time.show!==!1&&(a.showTime=!0,a.isMeridian=d.time.meridian===!0,a.hourStep=d.time.hourStep||1,a.minuteStep=d.time.minuteStep||15,a.ctx.isDateTime=!0,a.showInNewLine=d.time.showInNewLine===!0,a.$watch("ctx.dateValue",function(b,c){b&&b!==c&&a.changingTime!==!0&&(a.ctx.timeValue=b),a.changingTime=!1}),a.timeChanged=function(){var b=a.ctx.timeValue,c=null;if(void 0!==b){var d=moment(b);c=d.isValid()?d.format("YYYY-MM-DDTHH:mm:ss"):null}var e=a.ctx.fnGetCurrentValue();e!==c&&(a.changingTime=!0,a.ctx.fnSetCurrentValue(c,!1))}),!c.useDateInput){var f;if(e&&(f=/[A-Z]|[a-z]/,c.dateSeparator=_.find(c.format,function(a){return a&&!f.test(a)})),!c.dateSeparator){var g=(new Date).toLocaleDateString();f=/[0-9]|[' ']/,c.dateSeparator=_.find(g,function(a){return a&&8206!==a.charCodeAt(0)&&!f.test(a)})}c.fnDateOpen=function(a){c.disabled||(a.preventDefault(),a.stopPropagation(),c.dateOpened=!0)},c.fnDateKeyDown=function(a){var b=a.keyCode;if(8===b||9===b||16===b||33===b||34===b||35===b||36===b||37===b||38===b||39===b||40===b)return!0;if(a.ctrlKey)return!0;if(c.disabled)return a.preventDefault(),!1;if(c.dateSeparator&&a["char"]){var d=c.dateSeparator;if(a["char"]===d)return!(angular.isString(a.target.value)&&a.target.value.split(d).length>2)||(a.preventDefault(),!1);if(/[0-9]/.test(a["char"]))return!0}else if(a["char"]){if(!/[A-Z]|[a-z]/.test(a["char"]))return!0}else if(b<65||b>90)return!0;return a.preventDefault(),!1}}}}}}}a.$inject=["epFeatureDetectionService"],angular.module("ep.record.editor").directive("epDateEditor",a)}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(a,c,d,f){var g=e.defer(),h=f||{trigger:"unknown"};if(n(a.control.scope)){var i=n(a.control.scope);i.doValidation(a.control.scope.options.recordEditor.state,a,c,d),g.resolve()}else{var j=a.col.fnOnFldValidate||f.fnOnFldValidate;if(j&&h.userValidation!==!1){a.isInvalid=!1;var k=a.control.scope.value;e.when(j(a,c,k,void 0,h)).then(function(c){c===!1&&(a.isInvalid=!0,d&&a.fnSetFocus(),b(function(){a.fnDoValidations()})),g.resolve()})}else b(function(){a.fnDoValidations(),g.resolve()})}return g.promise}function j(a){var b=typeof a;if("number"===b)return"number";if("boolean"===b)return"checkbox";if("date"===b)return"date";if("string"===b){var c=/\d{4}-\d{2}-\d{2}['T']/;if(a&&a.match(c))return"date"}return"text"}function k(a,b){a&&($(a).removeClass(function(a,b){return(b.match(/(^|\s)col-((lg)|(xs)|(sm)|(md))\S+/g)||[]).join(" ")}),a.addClass(b))}function l(e){var h=e.column||{};h.oFormat=h.oFormat||p;var l="text";h.editor&&"auto"!==h.editor?l=h.editor:void 0!==e.value&&null!==e.value&&(l=j(e.value),e.editorValueType=typeof e.value);var n=(l||"text").trim().toLowerCase(),q=h.name||h.caption||h.columnIndex,r={recordEditorState:void 0,editorContainer:e.state.iElement,control:{scope:e},col:h,editor:n,name:n+"_"+q+e.$id,columnIndex:h.columnIndex,required:h.required||"number"===n&&!h.nullable,requiredFlag:h.requiredFlag,bizType:h.bizType,label:h.caption||q||"",maxlength:h.maxLength||30,justification:h.justification,hidden:h.hidden,updatable:h.updatable,disabled:!h.updatable,nullable:h.nullable,displayInvalid:h.flagInvalid||!0,buttons:h.buttons||[],imageWidth:h.imageWidth?h.imageWidth:0,imageHeight:h.imageHeight?h.imageHeight:0,isInvalid:!1,placeholder:h.placeholder,size:h.size,style:h.style,checkBoxSize:h.checkBoxSize,mode:h.mode||"default"};if(h.style&&angular.isString(h.style))try{var s=e.$eval(h.style);r.style=s}catch(t){a.error("Error in ep-editor-control styling. Error: "+t.message+"\nStyle: "+h.style)}if(r.fnSetSizeClass=function(a){var c=h.sizeClass||a||o,d=!0;h.sizeClassTarget&&(angular.isString(h.sizeClassTarget)?b(function(){var a=$(e.state.iElement).closest(h.sizeClassTarget);k(a,c)}):h.sizeClassTarget instanceof HTMLElement?k($(h.sizeClassTarget),c):d=!1),h.sizeClassTarget&&d||(r.sizeClass=c)},r.fnSetSizeClass(),r.fnSetFocus=function(){var a=r.fnGetEditorElement();a&&(g.hasTouchEvents()||angular.element(a).focus())},r.fnGetCurrentValue=function(){return r.control.scope.value},r.fnSetCurrentValue=function(a,b){var c=r.fnGetEditorElement();void 0!==a&&r.fnGetCurrentValue()!==a&&(r.control.scope.value=a,c&&angular.element(c).addClass("ng-dirty"),r.updatable&&i(r,{},b===!0,{trigger:"setValue"}),r.fnOnChange({},r)),b&&r.fnSetFocus()},r.fnGetEditorElement=function(){var a=null;return r.editorContainer&&(a=angular.element(r.editorContainer).find(".form-control.editor")),a},r.fnOnChange=function(a){r.col.fnOnChange&&b(function(){r.col.fnOnChange(a,r)})},r.fnBlur=function(a){var b=e.ctx.recordEditorState;return b&&(b.lastFocused={Col:r.col,Ctx:r,Event:a}),r.updatable&&angular.element(a.currentTarget).hasClass("ng-dirty")&&i(r,a,!1,{trigger:"blur"}),r.col.fnOnBlur&&r.col.fnOnBlur(a,r),!0},r.fnDoValidations=function(){if(r.invalidFlag=!1,r.displayInvalid&&r.editorContainer){var a=e.ctx.recordEditorState,b=a&&a.showAllInvalidFields||r.showInvalidFields===!0,c=angular.element(r.editorContainer).find(".form-control.editor");if(c.length){var d=r.isInvalid||c.hasClass("ng-invalid")&&!c.hasClass("ng-invalid-remove")||c.hasClass("ng-valid-remove"),f=c.hasClass("ng-dirty")||c.hasClass("ng-dirty-add")||b;r.invalidFlag=d&&f}else r.toggleValue&&(r.invalidFlag=r.isInvalid)}return!1},r.bizType&&("phone"===r.bizType||"address"===r.bizType||"email"===r.bizType||"url"===r.bizType)){var u="",v="",w="href-input";switch(r.bizType){case"address":u="http://maps.google.com/maps?q={0}",v="fa fa-map-marker";break;case"phone":u="tel:{0}",v="fa fa-phone";break;case"email":u="mailto:{0}",v="fa fa-envelope";break;case"url":u="",v="fa fa-globe",w="href-func",r.fnGetHref=function(){var a=r.fnGetCurrentValue();if(h.stringFormat&&(a=f.strFormat(h.stringFormat,a)),a){var b=a.trim().toLowerCase();"http"!==b.substr(0,4)&&(a="http://"+a)}return a}}v&&r.buttons.push({type:w,text:"",href:u,style:v,seq:2,position:h.bizTypeRight===!0?"post":"pre"})}if(r.editorMode="simple",r.classRightBtns="",r.classLeftBtns="",r.buttons.length){r.fnBtnClick=function(a){if("btn"===a.type)a.action(r);else{var b=r.fnGetCurrentValue();if(b){var d="";switch(a.type){case"href":d=a.href;break;case"href-input":d=f.strFormat(a.href,b);break;case"href-func":d=r.fnGetHref()}"href"===a.type?c.open(d,"_blank"):c.open(d)}}};var x=_.filter(r.buttons,function(a){return"post"===a.position});x.length&&(r.classRightBtns="ep-editor-right-buttons");var y=_.filter(r.buttons,function(a){return"pre"===a.position});y.length&&(r.classLeftBtns="ep-editor-left-buttons"),r.editorMode="",1===x.length&&0===y.length&&(r.editorMode="rbutton")}if(e.ctx=r,m(e)){var z=m(e),A=z.controls[r.columnIndex];A.controlCtx=r,r.recordEditorState=z,r.seq=A.seq}if("template"===r.editor){var B=e.$new(!1,e);r.templateOptions=h.templateOptions||{template:h.template,templateScope:B},e.editorDirective='<ep-include options="ctx.templateOptions" user-data="ctx"></ep-include>',B.$watch("value",function(a){void 0!==a&&r.updatable&&r.readonly!==!0&&(e.value=a)})}else{var C="custom"===r.editor?h.editorDirective:"ep-"+r.editor+"-editor";e.editorDirective="<"+C+' ctx=ctx value=value editor-mode="'+r.editorMode+'"/>'}var D="#xtemplate",E=angular.element(e.state.iElement).find(D);E.empty().append(d(e.editorDirective)(e))}function m(a){return a.options&&a.options.recordEditor?a.options.recordEditor.state:null}function n(a){return a.options&&a.options.recordEditor?a.options.recordEditor:null}var o="col-xs-12 col-sm-8 col-md-6 col-lg-3",p={FieldType:0,MaxLength:30};return{restrict:"E,A",templateUrl:"src/components/ep.record.editor/editors/ep-editor-control.html",replace:!0,require:"?^form",link:function(a,b,c,d){a.state={iElement:b,formCtrl:d},a.$watch("column",function(b){void 0!==b&&l(a)}),a.$watch("value",function(b){void 0!==b&&(a.column&&a.column.editor&&"auto"!==a.column.editor||(a.editorValueType?a.editorValueType!==typeof a.value?l(a):a.ctx.editor!==j(a.value)&&l(a):l(a)))}),a.handleDrop=function(b){var c=a.ctx.recordEditorState;if(c){var d=c.controls[a.ctx.columnIndex],e=c.controls[b.dragItem.columnIndex];if(d!==e){var f=d.seq,g=e.seq;void 0===d.origSeq&&(d.origSeq=f),void 0===e.origSeq&&(e.origSeq=g),d.origSeq!==d.seq&&delete d.origSeq,e.origSeq!==e.seq&&delete e.origSeq,e.seq>=d.seq?(e.seq=d.seq,angular.forEach(c.controls,function(a){a.seq>d.seq&&a.seq++}),d.seq++):(angular.forEach(c.controls,function(a){a.seq<d.seq&&a.seq--}),e.seq=d.seq-1),c.fnOnDragDrop&&c.fnOnDragDrop(a.ctx,b.dragItem),a.$apply()}}},a.$on(h.REC_EDITOR_VALIDATE_CONTROLS_TRIGGER,function(b,c){a.ctx.displayInvalid=!0,a.ctx.showInvalidFields=!0;var d=c||{userValidation:!1,focus:!1};d=angular.extend(d,{trigger:"event"}),i(a.ctx,{},d.focus===!0,d).then(function(){if(a.state.formCtrl&&a.state.formCtrl.$error.required){var b=_.find(a.state.formCtrl.$error.required,function(b){return a.ctx.name===b.$name});b&&(b.epEditorCtx=a.ctx)}})})},scope:{column:"=",value:"=",options:"=",isDragEnabled:"=",isDropEnabled:"=",isRow:"="}}}a.$inject=["$log","$timeout","$window","$compile","$q","epUtilsService","epFeatureDetectionService","epRecordEditorConstants"],angular.module("ep.record.editor").directive("epEditorControl",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.record.editor/editors/ep-image-editor.html",scope:{ctx:"=",value:"=",options:"="}}}angular.module("ep.record.editor").directive("epImageEditor",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.record.editor/editors/ep-multiline-editor.html",scope:{ctx:"=",value:"=",options:"="},compile:function(){return{pre:function(a){var b=a.ctx;b.rows=b.col.rows||5,b.fnSetSizeClass("col-xs-12 col-sm-12 col-md-8 col-lg-8")}}}}}angular.module("ep.record.editor").directive("epMultilineEditor",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:function(a,b){var c="";return b.editorMode&&(c="-"+b.editorMode),"src/components/ep.record.editor/editors/ep-number-editor"+c+".html"},scope:{ctx:"=",value:"=",options:"="},compile:function(){return{pre:function(a){var b=a.ctx,c=b.col,d=0;if("number"===b.editor){var e=c.oFormat;e||(c.oFormat=e={Min:-99999999999,Max:99999999999}),(e.Min||0===e.Min)&&(b.min=e.Min,e.AllowNegative===!1&&e.Min<0&&(b.min=0)),(e.Max||0===e.Max)&&(b.max=e.Max),(e.NumberFormatInfo||void 0!==e.Decimals)&&(d=0,d=void 0!==e.Decimals?e.Decimals:e.NumberFormatInfo.NumberDecimalDigits||0,d<0&&(d=0),0===d?b.pattern="^NEG(\\d+)$":b.pattern="^NEG(\\d+)(['.'](\\d){0,DEC})?$".replace("DEC",d.toString()),e.AllowNegative?b.pattern=b.pattern.replace("NEG","([-]?)"):b.pattern=b.pattern.replace("NEG",""))}a.inputType="text",a.inputNumberFmt="",b.numberDecimals=d,d>0&&(a.inputNumberFmt="decimal"),a.fnBlur=function(c,d){a.inputType="text",b.fnBlur&&b.fnBlur(c,d)},a.fnFocus=function(c,d){a.inputType="number",b.fnFocus&&b.fnFocus(c,d)};var f=function(a,c,d,e){var f=e;return b.fnDoKeyDown&&(f=b.fnDoKeyDown(a,c,d,e)),f===!1&&a.preventDefault(),f};a.fnKeyDown=function(a,c){var d=a.keyCode;if(8===d||9===d||16===d||33===d||34===d||35===d||36===d||37===d||38===d||39===d||40===d)return f(a,c,d,!0);if(a.ctrlKey)return f(a,c,d,!0);if(b.disabled)return f(a,c,d,!1);if(a["char"]){if(/[0-9]|[.]|[-]/.test(a["char"]))return a.target&&a.target.value&&190===d&&(a.target.value.indexOf(".")>-1||0===b.numberDecimals)?f(a,c,d,!1):f(a,c,d,!0)}else if(d>47&&d<59||189===d||190===d)return a.target&&a.target.value&&190===d&&(a.target.value.indexOf(".")>-1||0===b.numberDecimals)?f(a,c,d,!1):f(a,c,d,!0);return f(a,c,d,!1)}}}}}}angular.module("ep.record.editor").directive("epNumberEditor",a)}(),function(){"use strict";function a(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){if(d){a.inputType="text",a.decimals=void 0!==a.ctx.numberDecimals?a.ctx.numberDecimals:0,d.$formatters.push(function(b){if("number"===c.type)return b;var d=b;return angular.isNumber(d)&&!isNaN(d)||(d=a.validNgModel||0),d.toFixed(a.decimals)});var e=new RegExp(a.ctx.pattern);d.$parsers.push(function(b){if(b){var c=a.validNgModel||0;return e.test(b)?c=parseFloat(b):(d.$setViewValue(c.toFixed(a.decimals)),d.$render()),c}return 0}),a.$watch("inputType",function(b,c){if(b!==c&&"text"===b){var e=d.$modelValue;!angular.isNumber(e)||isNaN(e)?(e=a.validNgModel||0,d.$modelValue=e,d.$setViewValue(e.toFixed(a.decimals)),d.$render()):(d.$setViewValue(e.toFixed(a.decimals)),d.$render())}}),a.$watch("value",function(b,c){d.$valid?a.validNgModel=b:a.validNgModel=c})}}}}angular.module("ep.record.editor").directive("epNumberEditorFormat",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:"src/components/ep.record.editor/editors/ep-select-editor.html",scope:{ctx:"=",value:"=",options:"="},compile:function(){return{pre:function(a){a.$watch("ctx.col.list",function(){var b=a.ctx;b.options=[],b.col.list&&(b.options=angular.extend([],b.col.list),angular.forEach(b.options,function(b){b.getIsSelected=function(){return b.value===a.value}})),b.required||_.find(b.options,function(a){return!a.value})||(b.options||(b.options=[]),b.options.unshift({label:"",value:null,getIsSelected:function(){return!a.value}}))})}}}}}angular.module("ep.record.editor").directive("epSelectEditor",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,templateUrl:function(a,b){var c="";return b.editorMode&&(c="-"+b.editorMode),"src/components/ep.record.editor/editors/ep-text-editor"+c+".html"},scope:{ctx:"=",value:"=",options:"="}}}angular.module("ep.record.editor").directive("epTextEditor",a)}(),function(){"use strict";angular.module("ep.record.editor").provider("epRecordEditorConfig",function(){var a={sampleProperty:!1};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.record.editor",a),a}]})}(),function(){"use strict";angular.module("ep.record.editor").constant("epRecordEditorConstants",{REC_EDITOR_VALIDATE_CONTROLS_TRIGGER:"EP-VALIDATE-EDITOR-CONTROLS"})}(),function(){"use strict";function a(a,b,c,d,e){function f(){var a={scope:null,linkElement:null,formElement:null,controls:null,activeRecord:void 0,rowData:{},isReadOnly:!1,lastInputs:{},isDataArray:!1,dragEnabled:!1,dropEnabled:!1};return a}function g(a){var b=_.filter(a.state.linkElement.find(".editor"),function(a){return!$(a).attr("disabled")});if(!e.hasTouchEvents()&&b.length){var c=$(b[0]);c.focus()}}function h(a){if(a.state.controls){var b,c=_.find(a.state.controls,function(a){return b=a.getControlCtx(),b.isInvalid});c&&b.fnSetFocus()}}function i(a){return!!(a.state.lastFocused&&a.state.lastFocused.Event.originalEvent&&a.state.lastFocused.Event.originalEvent.target)&&(e.hasTouchEvents()||a.state.lastFocused.Event.originalEvent.target.focus(),!0)}function j(a,c,d,e){var f=c.columnIndex;if(void 0!==a.activeRecord[f]){var g=a.rowData[f];a.lastInputs[f]&&(g=a.lastInputs[f]);var h=a.activeRecord[f];if(a.lastInputs[f]===h)return;a.lastInputs[f]=h,o(g,h)&&(c.isInvalid=!1,b.when(c.col.fnOnFldValidate(c,d,h,g,{trigger:"recordEditorValidation"})).then(function(a){a===!1&&(c.isInvalid=!0),e&&c.fnSetFocus()}))}}function k(a){var b=typeof a;if("number"===b)return"number";if("boolean"===b)return"checkbox";if("date"===b)return"date";if("string"===b){var c=/\d{4}-\d{2}-\d{2}['T']/;if(a&&a.match(c))return"date"}return"text"}function l(b,c){if(null===b.state.controls||c){var e=b.options&&angular.isArray(b.options.columns);if(b.state.isDataArray||e||!b.record)b.state.columns=e?b.options.columns:[];else{var f=[];if(b.options&&b.options.columns&&angular.isString(b.options.columns)){var h=b.options.columns.split(",");angular.forEach(h,function(a){f.push({columnIndex:a,editor:"auto",updatable:!0})})}else angular.forEach(b.record,function(a,b){f.push({columnIndex:b,editor:"auto",updatable:!0})});b.state.columns=f}b.options&&b.options.columnTemplate&&b.state.columns&&angular.forEach(b.state.columns,function(a){d.copyProperties(b.options.columnTemplate,a,!1)}),b.state.columns&&b.record&&angular.forEach(b.state.columns,function(a){!a.editor&&a.columnIndex&&(a.editor=k(b.record[a.columnIndex]))}),b.state.columns&&b.state.columns.length&&(m(b),a(function(){g(b)},250),b.state.isReadOnly&&b.setReadOnly())}}function m(a){a.state.options={recordEditor:{state:a.state,doValidation:j}};var b={},c=-1;_.each(_.filter(a.state.columns,function(a){return a.columnIndex>=0||a.columnIndex}),function(d){c++;var e=c;d.seq||0===d.seq?e=d.seq:d.columnIndex&&!angular.isString(d.columnIndex)&&(e=d.columnIndex);var f=(d.editor||"text").trim().toLowerCase(),g={col:d,editor:f,seq:e,visibleIndex:("000"+e).substr(-3,3),columnIndex:d.columnIndex,options:a.state.options};g.getControlCtx=function(){return g.controlCtx},b[d.columnIndex]=g}),a.state.controls=b}function n(a){a.record?a.state.isDataArray=angular.isArray(a.record):a.state.isDataArray=!a.options||a.options.isDataArray!==!1}function o(a,b){return a?(null!==b||null!==a)&&(null===b&&null!==a||null!==b&&null===a||a.toString()!==b.toString()):!!b}return{restrict:"E,A",require:"?^form",templateUrl:"src/components/ep.record.editor/ep-record-editor.html",replace:!0,link:function(b,d,e,j){b.state=f(),b.state.factory=new c(b),b.options&&(b.options.factory=b.state.factory),b.state.scope=b,b.state.linkElement=d,b.state.formElement=j,n(b),b.$watch("isReadOnly",function(c){void 0!==c&&(b.state.isReadOnly=c,a(function(){b.setReadOnly()}))}),b.$watch("record",function(a){a&&b.state.activeRecord!==a&&(n(b),b.state.lastInputs={},b.state.activeRecord=a,b.state.rowData=b.extendRecord(b.state.activeRecord),b.state.columns&&b.state.columns.length||l(b,!1),b.state.columns&&b.state.columns.length&&b.state.factory.setPristine())}),b.$watch("options",function(a,c){a&&(a.factory=b.state.factory,angular.equals(a,c)&&(b.options&&(void 0!==b.options.dragAndDrop?(b.state.dragEnabled=b.options.dragAndDrop===!0,b.state.dropEnabled=b.state.dragEnabled):void 0!==b.options.dragEnabled?b.state.dragEnabled=b.options.dragEnabled===!0:void 0!==b.options.dropEnabled&&(b.state.dropEnabled=b.options.dropEnabled===!0)),b.state.columns&&b.state.columns.length||(n(b),l(b,!1))))}),b.$watch("sizeClass",function(c){b.state.controls&&void 0!==c&&a(function(){angular.forEach(b.state.controls,function(a){var b=a.getControlCtx();b&&b.fnSetSizeClass(c||"")})})}),b.extendRecord=function(a){return jQuery.extend(b.state.isDataArray?[]:{},a)},b.redraw=function(){l(b,!0)},b.$on("$destroy",function(){b.state.controls=null}),b.doDraw=function(){l(b,!0)},b.setReadOnly=function(){b.state.controls&&_.each(b.state.controls,function(a){var c=a.getControlCtx();c.updatable&&(c.readonly=b.state.isReadOnly)})},b.recEdtSelectControl=function(a){"first"===a?g(b):"focused"===a?i(b):"focusedOrFirst"===a?i(b)===!1&&g(b):"invalid"===a?h(b):g(b)},b.onInit&&b.onInit({factory:b.state.factory}),b.compareValues=o},scope:{options:"=",record:"=",isReadOnly:"=",sizeClass:"=",onInit:"&"}}}a.$inject=["$timeout","$q","epRecordEditorFactory","epUtilsService","epFeatureDetectionService"],angular.module("ep.record.editor").directive("epRecordEditor",a)}(),function(){"use strict";function a(){var a=function(a){function b(){var a={editsDetected:!1,changedColumns:[],record:r.state.activeRecord};if(r.state.columns)for(var b=r.state.columns,c=0;c<b.length;c++){var d,e=b[c],f=e.columnIndex;if(r.state.activeRecord&&(d=r.state.activeRecord[f]),void 0===d&&("text"===e.editor?d="":"number"===e.editor&&(d=0)),void 0!==d){var g=r.state.rowData[f];r.compareValues(g,d)&&(a.changedColumns.push({rowIndex:r.state.rowIndex,columnIndex:f,originalValue:g,newValue:d}),a.editsDetected=!0)}else"date"===e.editor&&(a.editsDetected=!0,a.invalidEntry=!0)}return a}function c(){for(var a=r.state.columns,b=0;b<a.length;b++){var c=a[b];r.state.activeRecord[c.columnIndex]=r.state.rowData[c.columnIndex]}e(),r.recEdtSelectControl("first")}function d(){r.state.controls&&_.each(r.state.controls,function(a){var b=a.getControlCtx(),c="";"number"===b.editor?c=0:"checkbox"===b.editor&&(c=!1),r.state.activeRecord[b.columnIndex]=c})}function e(){r.state.formElement&&r.state.formElement.$setPristine(),r.state.lastInputs={},r.state.showAllInvalidFields=!1,r.state.controls&&angular.forEach(r.state.controls,function(a){var b=a.getControlCtx();b&&(b.isInvalid=!1)})}function f(a){r.state.isReadOnly=a,r.setReadOnly()}function g(){r.doDraw(r,!0)}function h(a){var b=a?a:r.state.activeRecord;r.state.lastInputs={},r.state.activeRecord=b,r.state.rowData=r.extendRecord(b),e()}function i(a){a&&r.state.activeRecord!==a&&(r.state.activeRecord=a)}function j(a){r.recEdtSelectControl(a)}function k(a,b){var c={invalidEntry:!1,requiredFields:!1,invalidFieldValidation:!1};if(r.state.controls){r.state.linkElement.find(".form-control.editor").each(function(){var a=$(this);a.length&&a.hasClass("ng-invalid")&&(c.invalidEntry=!0,a.hasClass("ng-invalid-required")&&(c.requiredFields=!0))});var d=_.find(r.state.controls,function(a){var b=a.getControlCtx();return b.isInvalid});d&&(c.invalidEntry=!0,c.invalidFieldValidation=!0)}return c.requiredFields&&(c.invalidEntry=!0),r.state.showAllInvalidFields=a||!1,c.invalidEntry&&b&&j("invalid"),c}function l(a,b){if(b){var c=m(r,a);c&&c.col.list&&(c.options=angular.extend([],c.col.list),angular.forEach(c.options,function(a){a.getIsSelected=function(){return a.value===c.fnGetCurrentValue()}}))}}function m(a){if(null===a||!r.state.columns)return null;var b=_.find(r.state.controls,function(b){var c=b.getControlCtx();return c.col&&c.columnIndex===a});return b?b.getControlCtx():null}function n(){return r.state.columns}function o(){return r.options}function p(){return r.state}function q(a,b){r.state.dragEnabled=a,r.state.dropEnabled=b}var r=a,s="recordEditor"+r.$id;return{id:s,getEnteredData:b,resetEditors:c,clearEditors:d,setPristine:e,setReadOnly:f,draw:g,setRecord:h,setRecordWithoutOriginal:i,selectControl:j,validate:k,resetCombo:l,getColumnContext:m,getColumns:n,getOptions:o,getState:p,enableEditorsDrag:q}};return a}angular.module("ep.record.editor").factory("epRecordEditorFactory",a)}(),function(){"use strict";function a(){return function(a,b,c){var d=_.map(a,_.identity),e=c?-1:1;return d.sort(function(a,c){return a[b]>c[b]?e:-e}),d}}angular.module("ep.record.editor").filter("epOrderObjectBy",a)}(),function(){"use strict";angular.module("ep.search").provider("searchConfig",function(){var a={searchUri:"https://localhost/EES/EpicorERP/search.xml"};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.search",a),a}]})}(),function(){"use strict";function a(a,b){a.enterpriseSearch={},a.enterpriseSearch.searching=!1,a.enterpriseSearch.searchResults=null,a.enterpriseSearch.status="",a.enterpriseSearch.changeSearch=function(){var b=a.enterpriseSearch.searchText;""===b&&(a.enterpriseSearch.searchResults=null,a.enterpriseSearch.status="")},a.enterpriseSearch.runSearch=function(c){""!==c&&(a.enterpriseSearch.searching=!0,a.enterpriseSearch.searchResults=[],a.enterpriseSearch.status="",a.enterpriseSearch.hasError=!1,b.search(c,0,100).then(function(b){a.enterpriseSearch.searching=!1,a.enterpriseSearch.searchResults=b},function(b){a.enterpriseSearch.status="An error occurred: "+b.status,a.enterpriseSearch.searching=!1,a.enterpriseSearch.hasError=!0}))}}angular.module("ep.search").controller("epSearchCtrl",["$scope","searchService",a])}(),function(){"use strict";angular.module("ep.search").directive("epSearch",function(){return{restrict:"E",replace:!0,controller:"epSearchCtrl",templateUrl:"src/components/ep.search/search.html"}})}(),function(){"use strict";angular.module("ep.search").factory("searchService",["$http","searchConfig",function(a,b){function c(a,b,c){return d(a,b,c).then(function(a){return e(a)},function(){})}function d(c,d,e){var f=b.searchUri+"?locale="+(navigator.language?navigator.language:navigator.userLanguage)+"&preservenulls="+!1+"&likeLinkFormat=EWAUrl&callback=JSON_CALLBACK",g=(new Date).valueOf(),h="&q="+c+"&start="+d+"&cache="+g.toString()+"&pageSize="+e;return a.get(f+h)}function e(a){var b={};if(a&&a.hasOwnProperty("data")){var c=a.data,d=$.parseXML(c),e=$(d);e.find("[primaryTable]").each(function(){var a=[];$(this).find("[companyName]").each(function(){var b={location:this.getAttribute("location")||"",label:this.getAttribute("label")||"",companyContext:this.getAttribute("companyName"),keyTag:this.getAttribute("keyTag"),fields:[]};$("*",this).each(function(a,c){for(var d={},e=0,f=c.attributes.length;e<f;e++)d[c.attributes[e].nodeName]=c.attributes[e].nodeValue;d.FieldName=c.nodeName,d.FieldValue=c.textContent,b.fields.push(d)}),a.push(b)}),b[this.nodeName]={label:this.getAttribute("label"),primaryTable:this.getAttribute("primaryTable"),results:a}})}return b}return{search:c}}])}(),function(){"use strict";angular.module("ep.shell").service("epShellFeedbackService",["epModalDialogService",function(a){function b(){var b={strings:{FeedbackResponse:"We appreciate your feedback! We review these items regularly to help us improve the product.",FeedbackTitle:"Thank You!"}};a.showMessageBox({message:b.strings.FeedbackResponse,title:b.strings.FeedbackTitle,status:"info"})}function c(c){var d={summary:"",description:"",customerName:"",customerEmail:""};a.showCustomDialog({title:"Submit Feedback",templateUrl:"src/components/ep.shell/feedback/feedback_dialog.html",icon:"fa fa-bullhorn fa-2x",feedback:d,summaryLabel:"Summary",descriptionLabel:"Description",customerNameLabel:"Customer Name",customerEmailLabel:"Customer Email",buttons:[{id:"btnSubmit",isPrimary:!0,text:"Submit",action:function(){if(c){var a=c(d);a.then?a.then(function(a){a.Success&&b()}):b()}}},{id:"btnCancel",isCancel:!0,text:"Cancel"}]})}return{showForm:c}}])}(),function(){"use strict";angular.module("ep.shell").constant("epShellConstants",{SHELL_SIZE_CHANGE_EVENT:"SHELL_SIZE_CHANGE_EVENT",SHELL_STATE_CHANGE_EVENT:"SHELL_STATE_CHANGE_EVENT",SHELL_NAV_BUTTONS_CHANGED_EVENT:"SHELL_NAV_BUTTONS_CHANGED_EVENT",SHELL_VIEW_SIZE_CHANGE_EVENT:"SHELL_VIEW_SIZE_CHANGE_EVENT",SHELL_VIEW_CHANGE_EVENT:"SHELL_VIEW_CHANGE_EVENT",SHELL_CACHE_CREATED_EVENT:"SHELL_CACHE_CREATED_EVENT",SHELL_CACHE_DELETED_EVENT:"SHELL_CACHE_DELETED_EVENT",SHELL_DATA_CACHED_EVENT:"SHELL_DATA_CACHED_EVENT",SHELL_CACHE_DATA_DELETED_EVENT:"SHELL_CACHE_DATA_DELETED_EVENT",SIDEBARWIDTH:250,NAVBARHEIGHT:40,FOOTERHEIGHT:25,MEDIA_MODE_LARGE:"large",MEDIA_MODE_SMALL:"small",MEDIA_SIZE_BREAKPOINT:801})}(),function(){"use strict";angular.module("ep.shell").directive("myTouchstart",function(){return function(a,b,c){b.bind("touchstart",function(){a.$apply(c.myTouchstart)})}}).controller("epShellCtrl",["$location","$rootScope","$route","$scope","epShellConfig","epShellService","epLocalStorageService","epShellFeedbackService","epShellConstants","epThemeConstants",function(a,b,c,d,e,f,g,h,i,j){function k(){d.state=f.__state,d.options=e.options,d.toggleLeftSidebar=function(){f.toggleLeftSidebar()},d.toggleRightSidebar=function(){f.toggleRightSidebar()},d.showSwipeLeftSidebar=function(){var a=d.findXTouch,b=screen.width,c=a/b*100;c<=10&&d.state.enableLeftSidebar&&f.toggleLeftSidebar()},d.showSwipeRightSidebar=function(){var a=d.findXTouch,b=screen.width,c=a/b*100;c>=90&&d.state.enableRightSidebar&&f.toggleRightSidebar()},d.getTouchXPoint=function(){return d.findXTouch=f.executeLeftSidebar(event),d.findXTouch},d.closeLeftSidebar=function(){f.hideLeftSidebar()},d.closeRightSidebar=function(){f.hideRightSidebar()},e.options.enableViewAnimations&&f.initViewBackground(),d.rightNavButtons=f.getNavbarButtons().filter(function(a){return!a.left}),d.leftNavButtons=f.getNavbarButtons().filter(function(a){return a.left}),b.$on(i.SHELL_NAV_BUTTONS_CHANGED_EVENT,function(){d.rightNavButtons=f.getNavbarButtons().filter(function(a){return!a.left}),d.leftNavButtons=f.getNavbarButtons().filter(function(a){return a.left})}),e.options.enableViewAnimations&&b.$on(j.THEME_CHANGE_EVENT,function(){f.initViewBackground()}),b.$on("$routeChangeStart",function(a,b,c){f.clearInfo(),f.cleanupViewEvents(),e.options.enableViewAnimations&&b&&b.$$route&&c&&c.$$route&&(b.$$route.index>c.$$route.index?f.viewAnimation("ep-slide-left"):c.$$route.index>b.$$route.index&&f.viewAnimation("ep-slide-right"))}),d.buildCssClass=function(a){var b="ep-fullscreen ep-view ";return a&&(b+=" ep-anim-speed-"+d.state.animationSpeed,b+=" "+d.state.animationIn+" "+d.state.animationOut,b+=" ep-view-transistion "+d.state.viewAnimation),b},d.launchHelp=function(){a.url("/help")},d.sendFeedback=function(){h.showForm(d.state.fnOnFeedback)}}try{b.$watch("initComplete",function(a){a&&k()})}catch(l){console.log(l)}}])}(),function(){"use strict";function a(){return{restrict:"E,A",replace:!0,transclude:!0,templateUrl:"src/components/ep.shell/shell.html",link:function(){}}}angular.module("ep.shell").directive("epShell",a)}(),function(){"use strict";angular.module("ep.shell").provider("epShellConfig",["$routeProvider",function(a){var b=a,c={options:{pageTitle:"Epicor Mobile",brandHTML:"Epicor Mobile Framework <sup>2.0</sup>",enableFeedback:!0,includeEmbeddedApps:!1,enableViewAnimations:!0,enableCache:!0},routes:[],homeRoute:void 0,defaultRoute:void 0};this.$get=["epSysConfig",function(a){if(a.mergeSection("ep.shell",c),c.options.enableFeedback=a.optionBool(c.options.enableFeedback,!1),c.options.enableViewAnimations=a.optionBool(c.options.enableViewAnimations,!0),c.options.enableCache=a.optionBool(c.options.enableCache,!0),c.fnSetRoute=function(a,c){b.when(a,c)},angular.forEach(c.routes,function(a){c.fnSetRoute(a.route,{index:a.index,templateUrl:a.url,controller:a.controller,reloadOnSearch:void 0===a.reloadOnSearch||a.reloadOnSearch,
transitions:a.transitions}),a.isDefault===!0&&(b.otherwise({redirectTo:a.route}),c.defaultRoute=a),a.isHome===!0&&(c.homeRoute=a)}),c.homeRoute||(c.homeRoute=c.defaultRoute),c.options.includeEmbeddedApps){var d=a.section("ep.embedded.apps"),e="/"+(d.rootRoute||"app")+"/:appId/:viewId/";b.when(e,{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(e+":p0",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(e+":p0/:p1",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(e+":p0/:p1/:p2",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(e+":p0/:p1/:p2/:p3",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"}),b.when(e+":p0/:p1/:p2/:p3/:p4",{templateUrl:"src/components/ep.shell/views/ep-shell-embedded-apps-container.html"})}return c}]}])}(),function(){"use strict";angular.module("ep.shell").service("epShellService",["$compile","$document","$location","$q","$rootScope","$sce","$timeout","epUtilsService","epFeatureDetectionService","epShellConfig","epShellConstants","epSidebarService","epThemeService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){function a(){y()?ja():ka(),ba("size")}i.registerMediaQuery(k.MEDIA_SIZE_BREAKPOINT,function(){gb.mediaMode=k.MEDIA_MODE_LARGE,aa("setMediaMode"),ra()},function(){gb.mediaMode=k.MEDIA_MODE_SMALL,aa("setMediaMode"),ra()});var b=_.debounce(a,100);angular.element(window).on("resize",b),g(a,100),e.$on("$routeChangeSuccess",a),E(j.options.pageTitle),K(j.options.brandHTML),P(j.options.footerHTML),void 0!==j.options.includeEmbeddedApps&&j.options.includeEmbeddedApps&&e.$watch("initComplete",function(a){a&&angular.module("ep.embedded.apps")&&h.getService("epEmbeddedAppsService",!0).then(function(a){a&&a.initialize()})})}function o(a){if(gb.viewContainerScope&&gb.viewContainerScope.processleftsidebarfn){var b=gb.viewContainerScope.processleftsidebarfn({state:gb,action:a,service:{showLeftSidebar:ja,hideLeftSidebar:ka}});return!!angular.isUndefined(b)||b}return!0}function p(a){var b=gb.viewSettings[gb.mediaMode],c=gb.viewSettings.sidebar.left||{showToggleButton:!0,enabled:!1,toggleButtonIcon:"fa-bars"};void 0===c.enabled&&(c.enabled=b.enableLeftSidebar);var d=gb.viewSettings.sidebar.right||{showToggleButton:!0,enabled:!1,toggleButtonIcon:"fa-bars"};void 0===d.enabled&&(d.enabled=b.enableRightSidebar),b.autoActivateSidebar=b.autoActivateSidebar!==!1,gb.showLeftToggleButton=c.showToggleButton!==!1&&b.enableLeftSidebar,gb.enableLeftSidebar=c.enabled!==!1,gb.showRightToggleButton=d.showToggleButton!==!1&&b.enableRightSidebar,gb.enableRightSidebar=d.enabled!==!1,gb.showNavbar=b.showNavbar,gb.showFooter=b.showFooter,gb.showHomeButton=b.showHomeButton,gb.leftToggleButtonIcon=c.toggleButtonIcon||"fa-bars",gb.rightToggleButtonIcon=d.toggleButtonIcon||"fa-bars",gb.showBrand=b.showBrand,gb.centerBrand=b.centerBrand,gb.autoActivateSidebar=b.autoActivateSidebar,gb.viewContainerScope=a,gb.enableFeedback=j.options.enableFeedback&&b.enableFeedback===!0,gb.animationIn=b.animationIn,gb.animationOut=b.animationOut,gb.animationSpeed=b.animationSpeed,gb.showBrand&&b.brandHTML&&(b.brandHTML&&K(b.brandHTML,a),b.brandTarget&&L(b.brandTarget)),gb.showFooter&&(b.footerHTML&&P(b.footerHTML,a),b.footerTarget&&R(b.footerTarget)),b.autoActivateSidebar&&(b.enableLeftSidebar&&(y()||gb.suspend)?ja():ka()),ta(!1),gb.allowVerticalScroll=!!b.allowVerticalScroll,gb.animateViewContainer=b.animateViewContainer!==!1,gb.momentumScrollingEnabled=b.momentumScrollingEnabled!==!1,aa()}function q(a){return void 0!==a&&(gb.viewSettings=a),gb.viewSettings}function r(){window.addEventListener("load",function(){FastClick.attach(document.body)},!1);var a=function(){g(m.initialize,200);var a=$(window).width();gb.mediaMode=a>=k.MEDIA_SIZE_BREAKPOINT?k.MEDIA_MODE_LARGE:k.MEDIA_MODE_SMALL,gb.showSidebar=y(),e.initComplete=!0};a()}function s(){return hb={pageTitle:H(),brandHTML:N(),navbarButtons:angular.extend([],ib)}}function t(a){var b=a?a:hb;b&&b!=={}&&(b.navbarButtons&&La(b.navbarButtons),b.pageTitle&&E(b.pageTitle),b.brandHTML&&K(b.brandHTML,b.viewContainerScope))}function u(){gb.showProgressIndicator=!0,gb.progressIndicatorlevel++}function v(a){gb.progressIndicatorlevel--,gb.progressIndicatorlevel=Math.max(gb.progressIndicatorlevel,0),0===gb.progressIndicatorlevel&&(a?gb.showProgressIndicator=!1:g(function(){gb.showProgressIndicator=!1}))}function w(){gb.progressIndicatorlevel=0,v(!0)}function x(){return gb.mediaMode}function y(){return gb.mediaMode===k.MEDIA_MODE_LARGE}function z(a){return m.disableTheming(a)}function A(a,b,c){jb[a]&&jb[a](),jb[a]=e.$on(b,c)}function B(){_.each(jb,function(a){a()}),jb={}}function C(a,b){gb.infoIcon=a,gb.infoMessage=b}function D(){gb.infoIcon="",gb.infoMessage=""}function E(a){gb.pageTitle=a,b[0].title=gb.pageTitle}function F(){if(j.options.enableViewAnimations!==!1){$("#viewStyle").remove();var a=$("body").css("background-color"),b=G(a),c=".view { background-color: "+b+"; }";$("head").append('<style id="viewStyle">'+c+"</style>")}}function G(a){var b;if(0===a.indexOf("rgb")){var c=a.replace("rgb","").replace("a","").replace("(","").replace(")",""),d=c.split(",").map(function(a){return a.trim()});4===d.length?d[3]="1":3===d.length&&d.push("1"),b=d.join(", ")}return"rgba("+b+")"}function H(){return gb.pageTitle}function I(){gb.showBrand=!gb.showBrand,gb.viewSettings[gb.mediaMode].showBrand=gb.showBrand}function J(a){gb.showBrand=void 0===a||a,gb.viewSettings[gb.mediaMode].showBrand=gb.showBrand}function K(b,c){gb.brandHTML=angular.isString(b)?f.trustAsHtml(b):b,c?g(function(){var d=angular.element("#apptitle");gb.titleScope&&(gb.titleScope.$destroy(),gb.titleScope=null),gb.titleScope=c.$new(),b&&b.indexOf("<")<0&&b.indexOf(">")<0&&(b="<div>"+b+"</div>");var e=a(b)(gb.titleScope);e.length?(d.empty(),d.append(angular.element(e))):gb.viewSettings[gb.mediaMode].brandHTML=gb.brandHTML}):gb.viewSettings[gb.mediaMode].brandHTML=gb.brandHTML}function L(a){gb.brandTarget=a,gb.viewSettings[gb.mediaMode].brandTarget=gb.brandTarget}function M(a){gb.centerBrand=void 0===a||a,gb.viewSettings[gb.mediaMode].centerBrand=gb.centerBrand}function N(){return gb.brandHTML}function O(){return gb.brandTarget}function P(b,c){c?g(function(){var d=angular.element("#footerElement");gb.footerScope&&(gb.footerScope.$destroy(),gb.footerScope=null),gb.footerScope=c.$new();var e=a(b)(gb.footerScope);e.length?(d.empty(),d.append(angular.element(e))):(gb.footerHTML=angular.isString(b)?f.trustAsHtml(b):b,gb.viewSettings[gb.mediaMode].footerHTML=gb.footerHTML)}):(gb.footerHTML=angular.isString(b)?f.trustAsHtml(b):b,gb.viewSettings[gb.mediaMode].footerHTML=gb.footerHTML)}function Q(){return gb.footerHTML}function R(a){gb.footerTarget=a,gb.viewSettings[gb.mediaMode].footerTarget=gb.footerTarget}function S(){return gb.footerTarget}function T(a){ib=_.sortBy(ib,function(a){return a.index}),e.$emit(k.SHELL_NAV_BUTTONS_CHANGED_EVENT,a),g(function(){e.$apply()})}function U(){gb.suspend=!0}function V(){gb.suspend=!1}function W(a){return void 0!==a&&(gb.fnOnFeedback=a),gb.fnOnFeedback}function X(a){j.options.enableFeedback=a}function Y(a){j.options.enableFeedback&&(gb.enableFeedback=a)}function Z(){j.options.enableFeedback&&(gb.enableFeedback=!gb.enableFeedback)}function aa(a){e.$emit(k.SHELL_STATE_CHANGE_EVENT,a)}function ba(a){g(function(){e.$emit(k.SHELL_SIZE_CHANGE_EVENT,a)},310)}function ca(){gb.showHomeButton&&(gb.showHomeButton=!1,T("hideHomeButton"))}function da(){gb.showHomeButton||(gb.showHomeButton=!0,T("showHomeButton"))}function ea(){gb.showLeftToggleButton&&(gb.showLeftToggleButton=!1,T("hideLeftToggleButton"))}function fa(){gb.showLeftToggleButton||(gb.showLeftToggleButton=!0,T("showLeftToggleButton"))}function ga(){gb.showRightToggleButton&&(gb.showRightToggleButton=!1,T("hideRightToggleButton"))}function ha(){gb.showRightToggleButton||(gb.showRightToggleButton=!0,T("showRightToggleButton"))}function ia(){gb.showLeftSidebar=!gb.showLeftSidebar,gb.viewSettings[gb.mediaMode].showLeftSidebar=gb.showLeftSidebar,ra(),ba(gb.showLeftSidebar?"showLeftSidebar":"hideLeftSidebar")}function ja(){var a=o("showLeftSideBar");a&&(gb.showLeftSidebar||(gb.showLeftSidebar=!0,gb.viewSettings[gb.mediaMode].showLeftSidebar=!0,ba("showLeftSidebar")))}function ka(){var a=o("hideLeftSidebar");a&&gb.showLeftSidebar&&(gb.showLeftSidebar=!1,gb.viewSettings[gb.mediaMode].showLeftSidebar=!1,gb.showViewContainerBackdrop=!1,ba("hideLeftSidebar"))}function la(){gb.enableLeftSidebar&&(gb.enableLeftSidebar=!1,gb.viewSettings.large.enableLeftSidebar=!1,gb.viewSettings.small.enableLeftSidebar=!1,ka(),ea(),aa("disableLeftSidebar"))}function ma(){gb.enableLeftSidebar||(gb.enableLeftSidebar=!0,gb.viewSettings.large.enableLeftSidebar=!0,gb.viewSettings.small.enableLeftSidebar=!0,y()&&gb.viewSettings[x()].autoActivateSidebar&&ja(),fa(),aa("enableLeftSidebar"))}function na(a){return a.touches[0].clientX}function oa(){l.clearLeftSidebar()}function pa(){gb.showRightSidebar=!gb.showRightSidebar,gb.viewSettings[gb.mediaMode].showRightSidebar=gb.showRightSidebar,sa(),ba(gb.showRightSidebar?"showRightSidebar":"hideRightSidebar")}function qa(){gb.showRightSidebar||(gb.showRightSidebar=!0,gb.viewSettings[gb.mediaMode].showRightSidebar=!0,aa("showRightSidebar"))}function ra(){gb.showLeftSidebar&&x()===k.MEDIA_MODE_SMALL?(ta(),gb.showViewContainerBackdrop=!0):gb.showRightSidebar||(gb.showViewContainerBackdrop=!1)}function sa(){gb.showRightSidebar?(x()===k.MEDIA_MODE_SMALL&&ka(),gb.showViewContainerBackdrop=!0):gb.showViewContainerBackdrop=!1}function ta(){gb.showRightSidebar&&(gb.showRightSidebar=!1,gb.viewSettings[gb.mediaMode].showRightSidebar=!1,gb.showViewContainerBackdrop=!1,ba("hideRightSidebar"))}function ua(){gb.enableRightSidebar&&(gb.enableRightSidebar=!1,gb.viewSettings.large.enableRightSidebar=!1,gb.viewSettings.small.enableRightSidebar=!1,ta(),ga(),aa("disableRightSidebar"))}function va(){gb.enableRightSidebar||(gb.enableRightSidebar=!0,gb.viewSettings.large.enableRightSidebar=!0,gb.viewSettings.small.enableRightSidebar=!0,ha(),aa("enableRightSidebar"))}function wa(){l.clearRightSidebar()}function xa(){return gb.showLeftSidebar}function ya(){return gb.showRightSidebar}function za(a){l.setLeftTemplate(a)}function Aa(a){l.setRightTemplate(a)}function Ba(a){l.setLeftTemplateUrl(a)}function Ca(a){l.setRightTemplateUrl(a)}function Da(){gb.showNavbar&&(gb.showNavbar=!1,aa("hideNavbar"))}function Ea(){gb.showNavbar||(gb.showNavbar=!0,aa("showNavbar"))}function Fa(){gb.showNavbar?(gb.showNavbar=!1,aa("hideNavbar")):(gb.showNavbar=!0,aa("showNavbar"))}function Ga(){gb.showFooter&&(gb.showFooter=!1,aa("hideFooter"))}function Ha(){gb.showFooter||(gb.showFooter=!0,aa("showFooter"))}function Ia(){gb.showFooter?(gb.showFooter=!1,aa("hideFooter")):(gb.showFooter=!0,aa("showFooter"))}function Ja(a,b,c){var d=!1;void 0!==a&&_.each(a,function(a){var b=_.findIndex(ib,function(b){return b.id===a});b!==-1&&c(ib[b],b)&&(d=!0)}),d&&T(b)}function Ka(){ib=[],T("clearNavbarButtons")}function La(a){ib=[],Ma(a),T("updateNavbarButtons")}function Ma(a){angular.isArray(a)||(a=[a]);var b=_.union(ib,a);b.forEach(function(a){a.type||(a.type="button")}),ib=_.uniq(b,!1,function(a){return a.id||a.title}),T("addNavbarButtons")}function Na(){var a=_.flatten(arguments,!0);Ja(a,"deleteNavbarButton",function(a,b){return ib.splice(b,1),!0})}function Oa(){return ib}function Pa(a){return _.find(ib,function(b){return b.id===a})}function Qa(){var a=_.flatten(arguments,!0);Ja(a,"hideNavbarButton",function(a){return a.hidden=!0,!0})}function Ra(){var a=_.flatten(arguments,!0);Ja(a,"showNavbarButton",function(a){return a.fnVisible&&angular.isFunction(a.fnVisible)?a.hidden=!a.fnVisible():a.enabled&&angular.isFunction(a.enabled)?a.hidden=!a.enabled():a.hidden=!1,!0})}function Sa(){var a=_.flatten(arguments,!0);Ja(a,"enableNavbarButton",function(a){return a.enabled=!0,!0})}function Ta(){var a=_.flatten(arguments,!0);Ja(a,"disableNavbarButton",function(a){return a.enabled=!1,!0})}function Ua(){_.each(ib,function(a){Qa(a.id)}),T("hideNavbarButton")}function Va(){_.each(ib,function(a){Ra(a.id)}),T("hideNavbarButton")}function Wa(a){gb.freezeNavButtons=a}function Xa(){return gb.navButtonClicked}function Ya(a){return void 0!==a&&(gb.momentumScrollingEnabled=a),gb.momentumScrollingEnabled}function Za(a){return void 0!==a&&(gb.allowVerticalScroll=a),gb.allowVerticalScroll}function $a(a){return void 0!==a&&(gb.viewAnimation=j.options.enableViewAnimations?a:""),gb.viewAnimation}function _a(){return gb.viewDimensions}function ab(){return j.homeRoute&&j.homeRoute.route===c.url()}function bb(){j.homeRoute&&c.url(j.homeRoute.route)}function cb(a){gb.viewModalOptions=a||{}}function db(a){gb.enableViewModal=a!==!1}function eb(a){gb.viewModalOptions&&(gb.viewModalOptions.showViewModal=a!==!1)}try{angular.module("ep.console")&&h.getService("epConsoleService",!0).then(function(a){a&&a.initialize()})}catch(fb){}e.shellServiceInitComplete=!1;var gb={showProgressIndicator:!1,progressIndicatorlevel:0,enableFeedback:!1,enableEmbeddedApps:!0,fnOnFeedback:void 0,suspend:!1,showBrand:!0,brandHTML:"Mobile Access <sup>2.0</sup>",brandTarget:"",footerHTML:"",footerTarget:"",freezeNavButtons:!1,viewContainerScope:null,viewSettings:{sidebar:{left:{enabled:!0,showToggleButton:!0,toggleIcon:"fa-bars"},right:{enabled:!0,showToggleButton:!0,toggleIcon:"fa-bars"}},small:{animateViewContainer:!0,autoActivateSidebar:!1,showLeftSidebar:!1,enableLeftSidebar:!0,showLeftToggleButton:!1,showRightToggleButton:!1,leftToggleButtonIcon:"fa-bars",rightToggleButtonIcon:"fa-bars",showNavbar:!1,showFooter:!1,showHomeButton:!1,showBrand:!1,centerBrand:!0},large:{animateViewContainer:!0,autoActivateSidebar:!0,showLeftSidebar:!1,enableLeftSidebar:!0,showLeftToggleButton:!1,showRightToggleButton:!1,leftToggleButtonIcon:"fa-bars",rightToggleButtonIcon:"fa-bars",showNavbar:!1,showFooter:!1,showHomeButton:!1,showBrand:!1,centerBrand:!1}},pageTitle:"",colorScheme:{},mediaMode:k.MEDIA_MODE_SMALL,date:{weekday:"Tuesday",month:"October",day:21},viewDimensions:{offset:{top:0,left:0},size:{width:0,height:0}},infoMessage:"",infoIcon:"fa fa-3x fa-warning",executeButton:function(a,b){gb.navButtonClicked=null,a.confirm?a.confirm(a.action):gb.freezeNavButtons!==!0&&a.enabled!==!1&&("checked"===a.type&&(void 0===b.target.checked?a.checked=!a.checked:g(function(){$(b.target).prop("checked",a.checked)}),b.preventDefault(),b.stopPropagation()),"toggle"===a.type&&(a.active=!a.active),a.action(a,b))},buttonMouseDown:function(a){gb.navButtonClicked=a},momentumScrollingEnabled:!0,allowVerticalScroll:!0,navButtonClicked:null,viewModalOptions:{}},hb={},ib=[],jb={};return n(),{__state:gb,__setCurrentModeFlags:p,__viewSettings:q,init:r,saveState:s,restoreState:t,showProgressIndicator:u,hideProgressIndicator:v,resetProgressIndicator:w,registerViewEvent:A,cleanupViewEvents:B,notifyStateChanged:aa,notifyShellButtonsChanged:T,notifySizeChanged:ba,setPageTitle:E,initViewBackground:F,getPageTitle:H,toggleBrand:I,showBrand:J,setBrandHTML:K,getBrandHTML:N,setBrandTarget:L,getBrandTarget:O,centerBrand:M,setInfo:C,clearInfo:D,suspend:U,resume:V,getMediaMode:x,isMediaModeLarge:y,getViewDimensions:_a,momentumScrollingEnabled:Ya,allowVerticalScroll:Za,themingDisabled:z,enableFeedback:X,enableViewFeedback:Y,toggleViewFeedback:Z,feedbackCallback:W,showHomeButton:da,hideHomeButton:ca,hideLeftToggleButton:ea,showLeftToggleButton:fa,hideRightToggleButton:ga,showRightToggleButton:ha,toggleLeftSidebar:ia,showLeftSidebar:ja,hideLeftSidebar:ka,disableLeftSidebar:la,enableLeftSidebar:ma,clearLeftSidebar:oa,toggleRightSidebar:pa,showRightSidebar:qa,hideRightSidebar:ta,enableRightSidebar:va,disableRightSidebar:ua,clearRightSidebar:wa,getShowLeftSidebar:xa,getShowRightSidebar:ya,setLeftTemplate:za,setRightTemplate:Aa,setLeftTemplateUrl:Ba,setRightTemplateUrl:Ca,executeLeftSidebar:na,showNavbar:Ea,hideNavbar:Da,toggleNavbar:Fa,showFooter:Ha,hideFooter:Ga,toggleFooter:Ia,setFooterHTML:P,getFooterHTML:Q,setFooterTarget:R,getFooterTarget:S,clearNavbarButtons:Ka,updateNavbarButtons:La,addNavbarButtons:Ma,deleteNavbarButton:Na,getNavbarButtons:Oa,getNavbarButton:Pa,showNavbarButton:Ra,hideNavbarButton:Qa,showAllNavbarButtons:Va,hideAllNavbarButtons:Ua,enableNavbarButton:Sa,disableNavbarButton:Ta,disableNavbarButtons:Wa,navbarButtonClicked:Xa,viewAnimation:$a,isHomeLocation:ab,goHome:bb,toggleLeftSidebarBackdrop:sa,toggleRightSidebarBackdrop:sa,setViewModal:cb,enableViewModal:db,showViewModal:eb}}])}(),function(){"use strict";angular.module("ep.shell").directive("epShellSidebar",["$rootScope","$routeParams","epSidebarService","epShellService","epShellConstants","epFeatureDetectionService",function(a,b,c,d,e,f){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"src/components/ep.shell/sidebar/sidebar.html",controller:["$scope",function(g){function h(){g.platform=f.getFeatures().platform;var a="all";g.platform&&g.platform.browser&&g.platform.browser.name&&(a=g.platform.browser.name.toLowerCase()),g.browserName=a,g.shellState=d.__state,g.sidebarState=c.state,g.menuId=b.menuId,g.dismissRightSidebar=function(){g.shellState.suspend||d.hideRightSidebar()},g.dismissLeftSidebar=function(){d.getMediaMode()!==e.MEDIA_MODE_SMALL||g.shellState.suspend||d.hideLeftSidebar()};var h=function(){g.dismissRightSidebar(),g.dismissLeftSidebar()};$("#viewContainerBackdrop").bind("click",h)}a.$watch("initComplete",function(a){a&&h()})}]}}])}(),angular.module("ep.shell").service("epSidebarService",["$compile",function(a){function b(){angular.element(".ep-sidebar-nav.ep-sidebar-nav-left").empty()}function c(){angular.element(".ep-sidebar-nav.ep-sidebar-nav-right").empty()}function d(){b(),c()}function e(a){j=a}function f(a,b){h("<div style='height:100%;' ng-include='\""+a+"\"'></div>",b)}function g(a,b){i("<div ng-include='\""+a+"\"'></div>",b)}function h(b,c){if(c!==!0||k.leftTemplate!==b){k.leftTemplate=b;var d=angular.element(".ep-sidebar-nav.ep-sidebar-nav-left");d.empty().append(a(b)(j))}}function i(b,c){if(c!==!0||k.rightTemplate!==b){k.rightTemplate=b;var d=angular.element(".ep-sidebar-nav.ep-sidebar-nav-right");d.empty().append(a(b)(j))}}var j=null,k={leftTemplate:null,rightTemplate:null};return{clear:d,clearLeftSidebar:b,clearRightSidebar:c,state:k,setScope:e,setLeftTemplateUrl:f,setRightTemplateUrl:g,setLeftTemplate:h,setRightTemplate:i}}]),function(){"use strict";angular.module("ep.shell").directive("epShellViewContainer",["$location","$log","$parse","$rootScope","$timeout","epShellService","epSidebarService","epViewContainerService","epShellConstants","epViewCacheService",function(a,b,c,d,e,f,g,h,i,j){function k(a,b){a.left&&(a.left.template?g.setLeftTemplate(a.left.template,b):a.left.templateUrl&&g.setLeftTemplateUrl(a.left.templateUrl,b)),a.right&&(a.right.template?g.setRightTemplate(a.right.template,b):a.right.templateUrl&&g.setRightTemplateUrl(a.right.templateUrl,b))}function l(a,d,e,f){if(d[e])if(a[d[e]]&&angular.isFunction(a[d[e]]))f?d[e]=a[d[e]]():d[e]=a[d[e]];else try{var g=d[e];if(g!==!0&&g!==!1){var h=c(g);d[e]=h(a),a.$watch(g,function(a){d[e]=a})}}catch(i){b.error('An error occurred while trying to parse the "'+e+'" property of the button '+d.id+"."+i.message)}}return{restrict:"E",transclude:!0,replace:!1,templateUrl:"src/components/ep.shell/view-container/view-container.html",scope:{sidebarsettings:"@",smallmodesettings:"@",largemodesettings:"@",processleftsidebarfn:"&"},compile:function(){var c="";return{pre:function(a,j,m){function n(a,b){l(a,b,"action",!1),l(a,b,"confirm",!1),l(a,b,"hidden",!0),l(a,b,"enabled",!0)}function o(a,b){b.type||(b.type="button"),void 0===b.persist&&(b.persist=!1),!a||"button"!==b.type&&"toggle"!==b.type?a&&"select"===b.type&&b.options&&b.options.length&&b.options.forEach(function(b){o(a,b)}):n(a,b)}a.state=f.__state,f.clearInfo(),c=f.getMediaMode(),g.setScope(a);var p={sidebar:a.sidebarsettings?JSON.parse(a.sidebarsettings):{},small:a.smallmodesettings?JSON.parse(a.smallmodesettings):{},large:a.largemodesettings?JSON.parse(a.largemodesettings):{}};p=f.__viewSettings(p),p[c]&&f.__setCurrentModeFlags(a),p.sidebar&&k(p.sidebar,!1),a.state.animationIn="ep-"+a.state.animationIn+"-in",a.state.animationOut="ep-"+a.state.animationOut+"-out",a.state.animationSpeed=a.state.animationSpeed||"500",h.state.cleanup&&h.state.cleanup(),h.state.cleanup=d.$on(i.SHELL_STATE_CHANGE_EVENT,function(){c!==f.getMediaMode()&&(c=f.getMediaMode(),p[c]&&f.__setCurrentModeFlags(),p.sidebar&&k(p.sidebar,!0),e(function(){a.$apply()}))});var q=Object.keys(m).filter(function(a){return 0===a.indexOf("btn")}).map(function(c){var d;try{d=JSON.parse(m[c])}catch(e){b.error("An error occurred while trying to parse the button definitions for the current view."+e.message)}return d.id||(d.id=c),o(a.$parent,d),d}),r=f.getNavbarButtons(),s=r.filter(function(a){return void 0!==a.persist&&a.persist===!1}).map(function(a){return a.id});s.length&&f.deleteNavbarButton(s),q.length&&f.updateNavbarButtons(q),e(function(){d.$emit(i.SHELL_VIEW_CHANGE_EVENT,p)})},post:function(b){if(b.showFromCache=!0,b.cacheKey=a.url().replace("/","-"),b.hasCacheKey=j.hasCachedView(b.cacheKey),b.showFromCache)var c=d.$on("$routeChangeStart",function(a,d,e){b.showFromCache&&e&&(b.cacheKey=e.$$route.originalPath.replace("/","-"),j.addViewToCache(b.cacheKey,"#viewTemplate",e.scope)),c()})}}}}}]).factory("epViewCacheService",function(){function a(a,b,c){var d=$(b);d.length&&(e[a]={node:d,scope:c})}function b(a){delete e[a]}function c(a){return e[a]}function d(a){return!!e[a]}var e={};return{addViewToCache:a,removeViewFromCache:b,getViewFromCache:c,hasCachedView:d}}).directive("epCachedView",["$rootScope","$timeout","$compile","epViewCacheService",function(a,b,c,d){function e(a){var e=d.getViewFromCache(a.key);b(function(){var b=$("#epCacheTarget-"+a.key);e.scope.hasCacheKey=!1;var d=c(e.node)(e.scope);b.replaceWith(d)})}return e.$inject=["$scope"],{restrict:"E",replace:!0,controller:e,template:'<div class="ep-fullscreen" id="epCacheTarget-{{key}}"></div>',scope:{key:"="}}}])}(),function(){"use strict";angular.module("ep.shell").service("epViewContainerService",["$rootScope","$timeout","epShellService","epShellConstants",function(a,b,c,d){function e(a){var b=$(a);return{width:b.width(),height:b.height()}}function f(a){var b=[];return $(a).each(function(a,c){b.push(e(c))}),{width:(b.map(function(a){return a.width}).reduce(function(a,b){return a+Math.max(0,b)},0)||0)+20,height:Math.max(b.map(function(a){return a.height}))||0}}function g(b){var g=c.__state,h=$(window),i={top:g.showNavbar?d.NAVBARHEIGHT:0,left:g.showLeftSidebar&&c.isMediaModeLarge()?d.SIDEBARWIDTH:0},j=g.showFooter?d.FOOTERHEIGHT:0,k={width:h.width(),height:h.height()},l={width:k.width-i.left,height:k.height-i.top-j},m={offset:i,size:l,navbar:{height:i.top,width:k.width,buttonGroup:{left:f(".left-button"),right:f(".right-button")},brand:e(".navbar-brand")},footer:{height:j,width:k.width}},n=k.width-(m.navbar.buttonGroup.left.width+m.navbar.buttonGroup.right.width);m.navbar.brand.width>n&&(m.navbar.brand.width=n);var o=g.viewDimensions,p=o.size.width!==m.size.width||o.size.height!==m.size.height||o.offset.top!==m.offset.top||o.offset.left!==m.offset.left;g.viewDimensions=m,p&&a.$emit(d.SHELL_VIEW_SIZE_CHANGE_EVENT,m,b)}var h={cleanup:null};return a.$on(d.SHELL_SIZE_CHANGE_EVENT,function(){g("size")}),{state:h,calculateDimensions:g}}])}(),angular.module("ep.signature").directive("epSignature",["$timeout","$document","$q",function(a,b,c){function d(a,b,c,d){b&&(a.strokeText(b,c,d),a.fillText(b,c,d))}function e(a,b){var c=b[0].getContext("2d"),e=b.attr("height"),f=b.attr("width");c.shadowColor="",c.shadowOffsetX=0,c.shadowOffsetY=0,c.shadowBlur=0;var g=a.ulText,h=a.llText,i=a.urText,j=a.lrText,k=10,l=10,m=f-c.measureText(i).width-30,n=10,o=10,p=e-5,q=f-c.measureText(j).width-30,r=e-5;c.font="8pt Courier New",c.fillStyle="#000",d(c,g,k,l),d(c,h,o,p),d(c,i,m,n),d(c,j,q,r)}function f(a,d){var f=c.defer(),g=a.imageSizeWidth,h=a.imageSizeHeight,i=new Image;return i.onload=function(){var c=b[0].createElement("canvas");c.width=g,c.height=h;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,g,h),d.drawImage(i,0,0,g,h),e(a,$(c)),f.resolve(c.toDataURL("image/jpeg",1))},i.onerror=function(a){f.reject(a)},i.src=d[0].toDataURL(),f.promise}function g(b,c){b.initialized=!1,b.isEnabled=!1,b.drawText=!1,b.initialize=function(){if(!b.initialized){var d={"background-color":"#fffff",color:"#000"},e=c.find("#signature").jSignature(d);a(function(){e.resize()},200),c.find("#signature").bind("change",function(){a(function(){b.sig=c.find("#signature").jSignature("getData"),b.isEnabled=!!b.sig},0)}),b.initialized=!0}},b.accept=function(){!angular.isDefined(b.sig)||b.onBeforeAccept&&b.onBeforeAccept(b)===!1||(b.isEnabled=!1,b.drawText=!0,a(function(){var a=$("canvas.jSignature"),c=a[0];if(b.imageSizeWidth||b.imageSizeHeight){angular.isString(b.imageSizeWidth)&&(b.imageSizeWidth=b.imageSizeWidth?parseInt(b.imageSizeWidth):0),angular.isString(b.imageSizeHeight)&&(b.imageSizeHeight=b.imageSizeHeight?parseInt(b.imageSizeHeight):0);var d=parseInt(a.attr("width"))/parseInt(a.attr("height"));b.imageSizeWidth&&!b.imageSizeHeight?b.imageSizeHeight=Math.floor(b.imageSizeWidth/d):b.imageSizeHeight&&!b.imageSizeWidth&&(b.imageSizeWidth=Math.floor(b.imageSizeHeight*d)),f(b,a).then(function(a){b.onAccept(a.replace("data:image/jpeg;base64,",""))})}else e(b,a),b.onAccept(c.toDataURL("image/jpeg",1).replace("data:image/jpeg;base64,",""))}))},b.reset=function(){b.setButton=!1,b.isEnabled=!0,c.find("#signature").jSignature("reset")},b.signatureControls={reset:b.reset},b.initialize()}return{restrict:"E",scope:{sig:"=?",signatureControls:"=?",onBeforeAccept:"=",onAccept:"=",acceptIsEnabled:"=",backgroundColor:"@",color:"@",acknowledgeText:"@",ulText:"@",urText:"@",llText:"@",lrText:"@",height:"@",imageSizeWidth:"@",imageSizeHeight:"@"},templateUrl:"src/components/ep.signature/ep-signature.html",link:g}}]),function(){"use strict";function a(){return{restrict:"E",transclude:!0,templateUrl:"src/components/ep.sliding.panel/ep-pane.html",require:"^epSlidingPanel",scope:{onEnter:"&",onLeave:"&"},link:function(a,b,c){a.state=b.controller("epSlidingPanel").getState(),a.pane={onEnter:c.onEnter&&a.onEnter,onLeave:c.onLeave&&a.onLeave,panelId:a.state.id,index:a.state.panes.length,id:b.attr("id")||a.state.panes.length,$el:b},a.state.panes.push(a.pane)}}}angular.module("ep.sliding.panel").directive("epPane",a)}(),function(){"use strict";function a(a,b){return{restrict:"E",transclude:!0,scope:{onChange:"&",onStart:"&",onFinish:"&",hideNavBar:"="},templateUrl:"src/components/ep.sliding.panel/ep-sliding-panel.html",controller:["$scope",function(a){this.getState=function(){return a.state}}],link:function(c,d,e){var f=e.id||"epSlidingPanel";c.state={$el:d,id:f,toLeft:!1,toRight:!1,nextButtonEnabled:!0,prevButtonEnabled:!0,nextButtonHidden:!1,prevButtonHidden:!1,finishButtonEnabled:!0,displayPaneIndex:0,onChange:e.onChange&&c.onChange,onFinish:e.onFinish&&c.onFinish,onStart:e.onStart&&c.onStart,panes:[]},c.state.onStart&&a(function(){var a={$state:c.state};c.state.onStart(a)}),b.register(c.state),c.$on("destroy",b.unregister.bind(null,c.state.id)),c.prev=b.prev.bind(null,c.state.id),c.next=b.next.bind(null,c.state.id),c.finish=b.finish.bind(null,c.state.id)}}}a.$inject=["$timeout","epSlidingPanelService"],angular.module("ep.sliding.panel").directive("epSlidingPanel",a)}(),function(){"use strict";angular.module("ep.sliding.panel").service("epSlidingPanelService",["$timeout","$q",function(a,b){function c(a,c,d){var e=b.defer();if(a[c]&&!a.fired){a.fired=!0;var f=a[c](d);f&&f.then?f.then(function(b){e.resolve(b),a.fired=!1},function(){a.fired=!1}):(e.resolve(f),a.fired=!1)}else e.resolve(!0);return e.promise}function d(a){a=a||"epSlidingPanel";var b=n(a),d=b.panes[b.displayPaneIndex],e={$state:b,$oldPane:d};return c(d,"onLeave",e).then(function(a){if(a)return c(b,"onFinish",e)})}function e(b,d){void 0===d&&(d=b,b="epSlidingPanel");var e=n(b);d=Math.max(0,Math.min(e.panes.length-1,d));var f=e.panes[d],g=e.panes[e.displayPaneIndex];e.toRight=e.displayPaneIndex<d,e.toLeft=!e.toRight;var h={$state:e,$oldPane:g,$newPane:f,$direction:e.toRight?"next":"prev"};return c(e,"onChange",h).then(function(a){return e.fired=!1,a&&c(g,"onLeave",h)}).then(function(a){return g.fired=!1,a&&c(f,"onEnter",h)}).then(function(b){a(function(){return f.fired=!1,b&&(e.displayPaneIndex=d),{oldPane:g,newPane:f}})})}function f(a,b){void 0===b&&(b=a,a="epSlidingPanel");var c=n(a),d=c.panes.find(function(a){return a.id===b}),f=d?d.index:0;return e(a,f)}function g(a){a=a||"epSlidingPanel";var b=n(a);return e(a,b.displayPaneIndex+1)}function h(a){a=a||"epSlidingPanel";var b=n(a);return e(a,b.displayPaneIndex-1)}function i(a,b){void 0===b&&(b=a,a="epSlidingPanel");var c=n(a);c.nextButtonEnabled=b}function j(a,b){void 0===b&&(b=a,a="epSlidingPanel");var c=n(a);c.prevButtonEnabled=b}function k(a,b){void 0===b&&(b=a,a="epSlidingPanel");var c=n(a);c.finishButtonEnabled=b}function l(a,b){void 0===b&&(b=a,a="epSlidingPanel");var c=n(a);c.nextButtonHidden=b}function m(a,b){void 0===b&&(b=a,a="epSlidingPanel");var c=n(a);c.prevButtonHidden=b}function n(a){return q[a]}function o(a){q[a.id]=a}function p(a){delete q[a]}var q={};return{finish:d,getState:n,goToPane:f,goToPaneIndex:e,enableNext:i,enablePrev:j,hideNext:l,hidePrev:m,enableFinish:k,next:g,prev:h,register:o,unregister:p}}])}(),function(){"use strict";function a(a){return{restrict:"E",require:"?ngModel",template:'<input type="checkbox" class="bs-switch">',link:function(b,c,d,e){e&&(e.$parsers.unshift(function(a){return a}),e.$formatters.push(function(a){return a}),a(function(){var a=$(c).find("input");a.bootstrapSwitch({state:e.$viewValue}),a.on("switchChange.bootstrapSwitch",function(a){e.$setViewValue(a.target.checked),b[d.onChangeHandler]&&b[d.onChangeHandler].call(a.target.checked)}),b.$on("$destroy",function(){a.bootstrapSwitch("destroy")})}))}}}a.$inject=["$timeout"],angular.module("ep.switch").directive("epSwitch",a)}(),function(){"use strict";angular.module("ep.sysconfig").provider("epSysConfig",function(){var a,b={};this.$get=["$log",function(c){function d(a){if(b.hasOwnProperty(a))return b[a]}function e(a,b){return a===!0||a===!1?a:b}function f(a,c){var d;return b.hasOwnProperty(a)&&(d=b[a],c&&g(b[a],c)),d}function g(a,b){a&&b&&angular.forEach(a,function(c,d){null!==a[d]&&(angular.isArray(a[d])?b[d]=a[d]:angular.isObject(a[d])?(angular.isObject(b[d])||(b[d]={}),g(a[d],b[d])):b[d]=a[d])})}var h=$.ajax({type:"GET",url:"sysconfig.json",cache:!1,async:!1,contentType:"application/json"});if(a=h.status,200===h.status)try{b=angular.fromJson(h.responseText)}catch(i){c.warn("Error parsing sysconfig: "+i.message)}return{sysconfig:b,section:d,mergeSection:f,optionBool:e,copyProperties:g}}]})}(),function(){"use strict";angular.module("ep.tabbar").controller("epTabbarCtrl",[function(){}])}(),function(){"use strict";angular.module("ep.tabbar").directive("epTabbar",["epTabbarService",function(a){function b(b){b.state=a.state,b.executeButton=function(a,b){a.action(b)}}return{restrict:"E",controller:"epTabbarCtrl",templateUrl:"src/components/ep.tabbar/ep-tabbar.html",link:b}}])}(),function(){"use strict";angular.module("ep.tabbar").service("epTabbarService",[function(){function a(a){g.tabs.push(a)}function b(){g.tabbarAlignment="top"}function c(){g.tabbarAlignment="bottom"}function d(){g.labelAlignment="left",g.iconAlignment="left",g.labelText="left"}function e(){g.labelAlignment="top",g.iconAlignment="top",g.labelText="Bottom"}function f(a){g.tabs=_.reject(g.tabs,function(b){return b.id===a})}var g={labelAlignment:"top",tabbarAlignment:"bottom",iconAlignment:"top",labelText:"bottom",tabs:[]};return{enableTopTabbar:b,enableBottomTabbar:c,showIconsOnLeft:d,showIconsOnTop:e,removeTab:f,addTab:a,state:g}}])}(),function(){"use strict";angular.module("ep.table").controller("epTableCtrl",["$scope",function(a){
a.isLoading=!0,a.headers=a.columnHeaders?a.columnHeaders.split(",").map(function(a){return a.trim()}):[],a.colCount=a.headers.length,a.props=a.columnHeaders?a.columnProperties.split(",").map(function(a){return a.trim()}):[],a.isLoading=!1,a.selectRow=function(b,c){a.trackSelectedRow&&(a.data.selectedRow=b,a.data.forEach(function(a){a.$isSelected=!1}),b.$isSelected=!0,a.onSelectRow&&a.onSelectRow({row:b,$event:c}))},a.trackSelectedRow&&a.data&&a.data.length&&a.selectRow(a.data[0]),a.$watch("data",function(){a.trackSelectedRow&&a.data&&a.data.length&&!a.data.selectedRow&&a.selectRow(a.data[0])}),a.onDblClick=function(b,c){a.data&&a.data.length&&a.onDoubleClickRow&&a.onDoubleClickRow({row:b,$event:c})}}])}(),function(){"use strict";angular.module("ep.table").directive("epTable",function(){return{restrict:"E",replace:!0,scope:{data:"=",columnHeaders:"@",columnProperties:"@",trackSelectedRow:"=",striped:"=",onSelectRow:"&",onDoubleClickRow:"&"},controller:"epTableCtrl",templateUrl:"src/components/ep.table/table.html"}})}();var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),Microsoft;!function(a){var b;!function(a){"use strict"}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){"use strict";var b=function(){function a(){}return a}();a.Base=b}(b=a.Telemetry||(a.Telemetry={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){"use strict";var b=function(){function a(){this.ver=1,this.sampleRate=100,this.tags={}}return a}();a.Envelope=b}(b=a.Telemetry||(a.Telemetry={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(a){"use strict"}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){"use strict"}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){"use strict"}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){"use strict"}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(a){"use strict";var b;!function(a){a[a.Verbose=0]="Verbose",a[a.Information=1]="Information",a[a.Warning=2]="Warning",a[a.Error=3]="Error",a[a.Critical=4]="Critical"}(b=a.SeverityLevel||(a.SeverityLevel={}))}(AI||(AI={}));var Microsoft;!function(a){var b;!function(a){"use strict"}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(a){a[a.CRITICAL=0]="CRITICAL",a[a.WARNING=1]="WARNING"}(b=a.LoggingSeverity||(a.LoggingSeverity={}));var c;!function(a){a[a.BrowserDoesNotSupportLocalStorage=0]="BrowserDoesNotSupportLocalStorage",a[a.BrowserCannotReadLocalStorage=1]="BrowserCannotReadLocalStorage",a[a.BrowserCannotReadSessionStorage=2]="BrowserCannotReadSessionStorage",a[a.BrowserCannotWriteLocalStorage=3]="BrowserCannotWriteLocalStorage",a[a.BrowserCannotWriteSessionStorage=4]="BrowserCannotWriteSessionStorage",a[a.BrowserFailedRemovalFromLocalStorage=5]="BrowserFailedRemovalFromLocalStorage",a[a.BrowserFailedRemovalFromSessionStorage=6]="BrowserFailedRemovalFromSessionStorage",a[a.CannotSendEmptyTelemetry=7]="CannotSendEmptyTelemetry",a[a.ClientPerformanceMathError=8]="ClientPerformanceMathError",a[a.ErrorParsingAISessionCookie=9]="ErrorParsingAISessionCookie",a[a.ErrorPVCalc=10]="ErrorPVCalc",a[a.ExceptionWhileLoggingError=11]="ExceptionWhileLoggingError",a[a.FailedAddingTelemetryToBuffer=12]="FailedAddingTelemetryToBuffer",a[a.FailedMonitorAjaxAbort=13]="FailedMonitorAjaxAbort",a[a.FailedMonitorAjaxDur=14]="FailedMonitorAjaxDur",a[a.FailedMonitorAjaxOpen=15]="FailedMonitorAjaxOpen",a[a.FailedMonitorAjaxRSC=16]="FailedMonitorAjaxRSC",a[a.FailedMonitorAjaxSend=17]="FailedMonitorAjaxSend",a[a.FailedToAddHandlerForOnBeforeUnload=18]="FailedToAddHandlerForOnBeforeUnload",a[a.FailedToSendQueuedTelemetry=19]="FailedToSendQueuedTelemetry",a[a.FailedToReportDataLoss=20]="FailedToReportDataLoss",a[a.FlushFailed=21]="FlushFailed",a[a.MessageLimitPerPVExceeded=22]="MessageLimitPerPVExceeded",a[a.MissingRequiredFieldSpecification=23]="MissingRequiredFieldSpecification",a[a.NavigationTimingNotSupported=24]="NavigationTimingNotSupported",a[a.OnError=25]="OnError",a[a.SessionRenewalDateIsZero=26]="SessionRenewalDateIsZero",a[a.SenderNotInitialized=27]="SenderNotInitialized",a[a.StartTrackEventFailed=28]="StartTrackEventFailed",a[a.StopTrackEventFailed=29]="StopTrackEventFailed",a[a.StartTrackFailed=30]="StartTrackFailed",a[a.StopTrackFailed=31]="StopTrackFailed",a[a.TelemetrySampledAndNotSent=32]="TelemetrySampledAndNotSent",a[a.TrackEventFailed=33]="TrackEventFailed",a[a.TrackExceptionFailed=34]="TrackExceptionFailed",a[a.TrackMetricFailed=35]="TrackMetricFailed",a[a.TrackPVFailed=36]="TrackPVFailed",a[a.TrackPVFailedCalc=37]="TrackPVFailedCalc",a[a.TrackTraceFailed=38]="TrackTraceFailed",a[a.TransmissionFailed=39]="TransmissionFailed",a[a.FailedToSetStorageBuffer=40]="FailedToSetStorageBuffer",a[a.FailedToRestoreStorageBuffer=41]="FailedToRestoreStorageBuffer",a[a.InvalidBackendResponse=42]="InvalidBackendResponse",a[a.FailedToFixDepricatedValues=43]="FailedToFixDepricatedValues",a[a.InvalidDurationValue=44]="InvalidDurationValue",a[a.CannotSerializeObject=45]="CannotSerializeObject",a[a.CannotSerializeObjectNonSerializable=46]="CannotSerializeObjectNonSerializable",a[a.CircularReferenceDetected=47]="CircularReferenceDetected",a[a.ClearAuthContextFailed=48]="ClearAuthContextFailed",a[a.ExceptionTruncated=49]="ExceptionTruncated",a[a.IllegalCharsInName=50]="IllegalCharsInName",a[a.ItemNotInArray=51]="ItemNotInArray",a[a.MaxAjaxPerPVExceeded=52]="MaxAjaxPerPVExceeded",a[a.MessageTruncated=53]="MessageTruncated",a[a.NameTooLong=54]="NameTooLong",a[a.SampleRateOutOfRange=55]="SampleRateOutOfRange",a[a.SetAuthContextFailed=56]="SetAuthContextFailed",a[a.SetAuthContextFailedAccountName=57]="SetAuthContextFailedAccountName",a[a.StringValueTooLong=58]="StringValueTooLong",a[a.StartCalledMoreThanOnce=59]="StartCalledMoreThanOnce",a[a.StopCalledWithoutStart=60]="StopCalledWithoutStart",a[a.TelemetryInitializerFailed=61]="TelemetryInitializerFailed",a[a.TrackArgumentsNotSpecified=62]="TrackArgumentsNotSpecified",a[a.UrlTooLong=63]="UrlTooLong",a[a.SessionStorageBufferFull=64]="SessionStorageBufferFull",a[a.CannotAccessCookie=65]="CannotAccessCookie"}(c=a._InternalMessageId||(a._InternalMessageId={}));var d=function(){function a(b,d,e,f){void 0===e&&(e=!1),this.messageId=b,this.message=(e?a.AiUserActionablePrefix:a.AiNonUserActionablePrefix)+c[b].toString();var g=(d?" message:"+a.sanitizeDiagnosticText(d):"")+(f?" props:"+a.sanitizeDiagnosticText(JSON.stringify(f)):"");this.message+=g}return a.sanitizeDiagnosticText=function(a){return'"'+a.replace(/\"/g,"")+'"'},a.AiNonUserActionablePrefix="AI (Internal): ",a.AiUserActionablePrefix="AI: ",a}();a._InternalLogMessage=d;var e=function(){function e(){}return e.throwInternal=function(a,b,e,f,g){void 0===g&&(g=!1);var h=new d(b,e,g,f);if(this.enableDebugExceptions())throw h;if("undefined"!=typeof h&&h&&"undefined"!=typeof h.message){if(g){var i=c[h.messageId];this._messageLogged[i]&&!this.verboseLogging()||(this.warnToConsole(h.message),this._messageLogged[i]=!0)}else this.verboseLogging()&&this.warnToConsole(h.message);this.logInternalMessage(a,h)}},e.warnToConsole=function(a){"undefined"!=typeof console&&console&&("function"==typeof console.warn?console.warn(a):"function"==typeof console.log&&console.log(a))},e.resetInternalMessageCount=function(){this._messageCount=0,this._messageLogged={}},e.clearInternalMessageLoggedTypes=function(){if(a.Util.canUseSessionStorage())for(var b=a.Util.getSessionStorageKeys(),c=0;c<b.length;c++)0===b[c].indexOf(e.AIInternalMessagePrefix)&&a.Util.removeSessionStorage(b[c])},e.setMaxInternalMessageLimit=function(a){if(!a)throw new Error("limit cannot be undefined.");this.MAX_INTERNAL_MESSAGE_LIMIT=a},e.logInternalMessage=function(f,g){if(!this._areInternalMessagesThrottled()){var h=!0,i=e.AIInternalMessagePrefix+c[g.messageId];if(a.Util.canUseSessionStorage()){var j=a.Util.getSessionStorage(i);j?h=!1:a.Util.setSessionStorage(i,"1")}else this._messageLogged[i]?h=!1:this._messageLogged[i]=!0;if(h&&((this.verboseLogging()||f===b.CRITICAL)&&(this.queue.push(g),this._messageCount++),this._messageCount==this.MAX_INTERNAL_MESSAGE_LIMIT)){var k="Internal events throttle limit per PageView reached for this app.",l=new d(c.MessageLimitPerPVExceeded,k,(!1));this.queue.push(l),this.warnToConsole(k)}}},e._areInternalMessagesThrottled=function(){return this._messageCount>=this.MAX_INTERNAL_MESSAGE_LIMIT},e.AIInternalMessagePrefix="AITR_",e.enableDebugExceptions=function(){return!1},e.verboseLogging=function(){return!1},e.queue=[],e.MAX_INTERNAL_MESSAGE_LIMIT=25,e._messageCount=0,e._messageLogged={},e}();a._InternalLogging=e}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(a){a[a.LocalStorage=0]="LocalStorage",a[a.SessionStorage=1]="SessionStorage"}(b||(b={}));var c=function(){function c(){}return c.disableStorage=function(){c._canUseLocalStorage=!1,c._canUseSessionStorage=!1},c._getLocalStorageObject=function(){return c.canUseLocalStorage()?c._getVerifiedStorageObject(b.LocalStorage):null},c._getVerifiedStorageObject=function(a){var c,d,e=null;try{d=new Date,e=a===b.LocalStorage?window.localStorage:window.sessionStorage,e.setItem(d,d),c=e.getItem(d)!=d,e.removeItem(d),c&&(e=null)}catch(f){e=null}return e},c.canUseLocalStorage=function(){return void 0===c._canUseLocalStorage&&(c._canUseLocalStorage=!!c._getVerifiedStorageObject(b.LocalStorage)),c._canUseLocalStorage},c.getStorage=function(b){var d=c._getLocalStorageObject();if(null!==d)try{return d.getItem(b)}catch(e){c._canUseLocalStorage=!1,a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+c.getExceptionName(e),{exception:c.dump(e)})}return null},c.setStorage=function(b,d){var e=c._getLocalStorageObject();if(null!==e)try{return e.setItem(b,d),!0}catch(f){c._canUseLocalStorage=!1,a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+c.getExceptionName(f),{exception:c.dump(f)})}return!1},c.removeStorage=function(b){var d=c._getLocalStorageObject();if(null!==d)try{return d.removeItem(b),!0}catch(e){c._canUseLocalStorage=!1,a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+c.getExceptionName(e),{exception:c.dump(e)})}return!1},c._getSessionStorageObject=function(){return c.canUseSessionStorage()?c._getVerifiedStorageObject(b.SessionStorage):null},c.canUseSessionStorage=function(){return void 0===c._canUseSessionStorage&&(c._canUseSessionStorage=!!c._getVerifiedStorageObject(b.SessionStorage)),c._canUseSessionStorage},c.getSessionStorageKeys=function(){var a=[];if(c.canUseSessionStorage())for(var b in window.sessionStorage)a.push(b);return a},c.getSessionStorage=function(b){var d=c._getSessionStorageObject();if(null!==d)try{return d.getItem(b)}catch(e){c._canUseSessionStorage=!1,a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+c.getExceptionName(e),{exception:c.dump(e)})}return null},c.setSessionStorage=function(b,d){var e=c._getSessionStorageObject();if(null!==e)try{return e.setItem(b,d),!0}catch(f){c._canUseSessionStorage=!1,a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+c.getExceptionName(f),{exception:c.dump(f)})}return!1},c.removeSessionStorage=function(b){var d=c._getSessionStorageObject();if(null!==d)try{return d.removeItem(b),!0}catch(e){c._canUseSessionStorage=!1,a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+c.getExceptionName(e),{exception:c.dump(e)})}return!1},c.disableCookies=function(){c._canUseCookies=!1},c.canUseCookies=function(){if(void 0===c._canUseCookies){c._canUseCookies=!1;try{c._canUseCookies=void 0!==c.document.cookie}catch(b){a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.CannotAccessCookie,"Cannot access document.cookie - "+c.getExceptionName(b),{exception:c.dump(b)})}}return c._canUseCookies},c.setCookie=function(a,b,d){var e="",f="";d&&(e=";domain="+d),c.document.location&&"https:"===c.document.location.protocol&&(f=";secure"),c.canUseCookies()&&(c.document.cookie=a+"="+b+e+";path=/"+f)},c.stringToBoolOrDefault=function(a,b){return void 0===b&&(b=!1),void 0===a||null===a?b:"true"===a.toString().toLowerCase()},c.getCookie=function(a){if(c.canUseCookies()){var b="";if(a&&a.length)for(var d=a+"=",e=c.document.cookie.split(";"),f=0;f<e.length;f++){var g=e[f];if(g=c.trim(g),g&&0===g.indexOf(d)){b=g.substring(d.length,e[f].length);break}}return b}},c.deleteCookie=function(a){c.canUseCookies()&&(c.document.cookie=a+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;")},c.trim=function(a){return"string"!=typeof a?a:a.replace(/^\s+|\s+$/g,"")},c.newId=function(){for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b="",c=1073741824*Math.random();c>0;){var d=a.charAt(c%64);b+=d,c=Math.floor(c/64)}return b},c.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},c.isError=function(a){return"[object Error]"===Object.prototype.toString.call(a)},c.isDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)},c.toISOStringForIE8=function(a){if(c.isDate(a)){if(Date.prototype.toISOString)return a.toISOString();var b=function(a){var b=String(a);return 1===b.length&&(b="0"+b),b};return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}},c.getIEVersion=function(a){void 0===a&&(a=null);var b=a?a.toLowerCase():navigator.userAgent.toLowerCase();return b.indexOf("msie")!=-1?parseInt(b.split("msie")[1]):null},c.msToTimeSpan=function(a){(isNaN(a)||a<0)&&(a=0),a=Math.round(a);var b=""+a%1e3,c=""+Math.floor(a/1e3)%60,d=""+Math.floor(a/6e4)%60,e=""+Math.floor(a/36e5)%24,f=Math.floor(a/864e5);return b=1===b.length?"00"+b:2===b.length?"0"+b:b,c=c.length<2?"0"+c:c,d=d.length<2?"0"+d:d,e=e.length<2?"0"+e:e,(f>0?f+".":"")+e+":"+d+":"+c+"."+b},c.isCrossOriginError=function(a,b,c,d,e){return("Script error."===a||"Script error"===a)&&!e},c.dump=function(a){var b=Object.prototype.toString.call(a),c=JSON.stringify(a);return"[object Error]"===b&&(c="{ stack: '"+a.stack+"', message: '"+a.message+"', name: '"+a.name+"'"),b+c},c.getExceptionName=function(a){var b=Object.prototype.toString.call(a);return"[object Error]"===b?a.name:""},c.addEventHandler=function(a,b){if(!window||"string"!=typeof a||"function"!=typeof b)return!1;var c="on"+a;if(window.addEventListener)window.addEventListener(a,b,!1);else{if(!window.attachEvent)return!1;window.attachEvent(c,b)}return!0},c.IsBeaconApiSupported=function(){return"sendBeacon"in navigator&&navigator.sendBeacon},c.document="undefined"!=typeof document?document:{},c._canUseCookies=void 0,c._canUseLocalStorage=void 0,c._canUseSessionStorage=void 0,c.NotSpecified="not_specified",c}();a.Util=c;var d=function(){function a(){}return a.parseUrl=function(b){return a.htmlAnchorElement||(a.htmlAnchorElement=a.document.createElement?a.document.createElement("a"):{}),a.htmlAnchorElement.href=b,a.htmlAnchorElement},a.getAbsoluteUrl=function(b){var c,d=a.parseUrl(b);return d&&(c=d.href),c},a.getPathName=function(b){var c,d=a.parseUrl(b);return d&&(c=d.pathname),c},a.getCompleteUrl=function(a,b){return a?a.toUpperCase()+" "+b:b},a.document="undefined"!=typeof document?document:{},a}();a.UrlHelper=d}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){"use strict";var b;!function(a){a[a.Default=0]="Default",a[a.Required=1]="Required",a[a.Array=2]="Array",a[a.Hidden=4]="Hidden"}(b=a.FieldType||(a.FieldType={}));var c=function(){function c(){}return c.serialize=function(a){var b=c._serializeObject(a,"root");return JSON.stringify(b)},c._serializeObject=function(d,e){var f="__aiCircularRefCheck",g={};if(!d)return a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:e},!0),g;if(d[f])return a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.CircularReferenceDetected,"Circular reference detected while serializing object",{name:e},!0),g;if(!d.aiDataContract){if("measurements"===e)g=c._serializeStringMap(d,"number",e);else if("properties"===e)g=c._serializeStringMap(d,"string",e);else if("tags"===e)g=c._serializeStringMap(d,"string",e);else if(a.Util.isArray(d))g=c._serializeArray(d,e);else{a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:e},!0);try{JSON.stringify(d),g=d}catch(h){a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.CannotSerializeObject,h&&"function"==typeof h.toString?h.toString():"Error serializing object",null,!0)}}return g}d[f]=!0;for(var i in d.aiDataContract){var j=d.aiDataContract[i],k="function"==typeof j?j()&b.Required:j&b.Required,l="function"==typeof j?j()&b.Hidden:j&b.Hidden,m=j&b.Array,n=void 0!==d[i],o="object"==typeof d[i]&&null!==d[i];if(!k||n||m){if(!l){var p;p=o?m?c._serializeArray(d[i],i):c._serializeObject(d[i],i):d[i],void 0!==p&&(g[i]=p)}}else a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:i,name:e})}return delete d[f],g},c._serializeArray=function(b,d){var e=void 0;if(b)if(a.Util.isArray(b)){e=[];for(var f=0;f<b.length;f++){var g=b[f],h=c._serializeObject(g,d+"["+f+"]");e.push(h)}}else a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.ItemNotInArray,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:d},!0);return e},c._serializeStringMap=function(b,c,d){var e=void 0;if(b){e={};for(var f in b){var g=b[f];if("string"===c)void 0===g?e[f]="undefined":null===g?e[f]="null":g.toString?e[f]=g.toString():e[f]="invalid field: toString() is not defined.";else if("number"===c)if(void 0===g)e[f]="undefined";else if(null===g)e[f]="null";else{var h=parseFloat(g);isNaN(h)?e[f]="NaN":e[f]=h}else e[f]="invalid field: "+d+" is of unknown type.",a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,e[f],null,!0)}}return e},c}();a.Serializer=c}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(b){var c;!function(c){var d;!function(c){"use strict";var d=function(a){function d(d,e){var f=a.call(this)||this;return f.name=c.DataSanitizer.sanitizeString(e)||b.Util.NotSpecified,f.data=d,f.time=b.Util.toISOStringForIE8(new Date),f.aiDataContract={time:b.FieldType.Required,iKey:b.FieldType.Required,name:b.FieldType.Required,sampleRate:function(){return 100==f.sampleRate?b.FieldType.Hidden:b.FieldType.Required},tags:b.FieldType.Required,data:b.FieldType.Required},f}return __extends(d,a),d}(a.Telemetry.Envelope);c.Envelope=d}(d=c.Common||(c.Common={}))}(c=b.Telemetry||(b.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(b){var c;!function(b){var c;!function(b){"use strict";var c=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.aiDataContract={},b}return __extends(b,a),b}(a.Telemetry.Base);b.Base=c}(c=b.Common||(b.Common={}))}(c=b.Telemetry||(b.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(a){"use strict";var b=function(){function a(){this.applicationVersion="ai.application.ver",this.applicationBuild="ai.application.build",this.applicationTypeId="ai.application.typeId",this.applicationId="ai.application.applicationId",this.deviceId="ai.device.id",this.deviceIp="ai.device.ip",this.deviceLanguage="ai.device.language",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceNetwork="ai.device.network",this.deviceNetworkName="ai.device.networkName",this.deviceOEMName="ai.device.oemName",this.deviceOS="ai.device.os",this.deviceOSVersion="ai.device.osVersion",this.deviceRoleInstance="ai.device.roleInstance",this.deviceRoleName="ai.device.roleName",this.deviceScreenResolution="ai.device.screenResolution",this.deviceType="ai.device.type",this.deviceMachineName="ai.device.machineName",this.deviceVMName="ai.device.vmName",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationRootId="ai.operation.rootId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationIsSynthetic="ai.operation.isSynthetic",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.sessionIsNew="ai.session.isNew",this.userAccountAcquisitionDate="ai.user.accountAcquisitionDate",this.userAccountId="ai.user.accountId",this.userAgent="ai.user.userAgent",this.userId="ai.user.id",this.userStoreRegion="ai.user.storeRegion",this.userAuthUserId="ai.user.authUserId",this.userAnonymousUserAcquisitionDate="ai.user.anonUserAcquisitionDate",this.userAuthenticatedUserAcquisitionDate="ai.user.authUserAcquisitionDate",this.sampleRate="ai.sample.sampleRate",this.cloudName="ai.cloud.name",this.cloudRoleVer="ai.cloud.roleVer",this.cloudEnvironment="ai.cloud.environment",this.cloudLocation="ai.cloud.location",this.cloudDeploymentUnit="ai.cloud.deploymentUnit",this.serverDeviceOS="ai.serverDevice.os",this.serverDeviceOSVer="ai.serverDevice.osVer",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalDataCollectorReceivedTime="ai.internal.dataCollectorReceivedTime",this.internalProfileId="ai.internal.profileId",this.internalProfileClassId="ai.internal.profileClassId",this.internalAccountId="ai.internal.accountId",this.internalApplicationName="ai.internal.applicationName",this.internalInstrumentationKey="ai.internal.instrumentationKey",this.internalTelemetryItemId="ai.internal.telemetryItemId",this.internalApplicationType="ai.internal.applicationType",this.internalRequestSource="ai.internal.requestSource",this.internalFlowType="ai.internal.flowType",this.internalIsAudit="ai.internal.isAudit",this.internalTrackingSourceId="ai.internal.trackingSourceId",this.internalTrackingType="ai.internal.trackingType",this.internalIsDiagnosticExample="ai.internal.isDiagnosticExample"}return a}();a.ContextTagKeys=b}(AI||(AI={}));var Microsoft;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){}return a}();a.Application=b}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){this.id="browser",this.type="Browser"}return a}();a.Device=b}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(b){this.sdkVersion=(b.sdkExtension()?b.sdkExtension()+"_":"")+"javascript:"+a.Version}return b}();b.Internal=c}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){}return a}();a.Location=b}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(){this.id=a.Util.newId(),window&&window.location&&window.location.pathname&&(this.name=window.location.pathname)}return b}();b.Operation=c}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b=function(){function a(){}return a.prototype.getHashCodeScore=function(b){var c=this.getHashCode(b)/a.INT_MAX_VALUE;return 100*c},a.prototype.getHashCode=function(b){if(""==b)return 0;for(;b.length<a.MIN_INPUT_LENGTH;)b=b.concat(b);for(var c=5381,d=0;d<b.length;++d)c=(c<<5)+c+b.charCodeAt(d),c&=c;return Math.abs(c)},a.INT_MAX_VALUE=2147483647,a.MIN_INPUT_LENGTH=8,a}();a.HashCodeScoreGenerator=b}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b=function(){function b(){this.hashCodeGeneragor=new a.HashCodeScoreGenerator}return b.prototype.getSamplingScore=function(a){var b=new AI.ContextTagKeys,c=0;return c=a.tags[b.userId]?this.hashCodeGeneragor.getHashCodeScore(a.tags[b.userId]):a.tags[b.operationId]?this.hashCodeGeneragor.getHashCodeScore(a.tags[b.operationId]):Math.random()},b}();a.SamplingScoreGenerator=b}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(b){this.INT_MAX_VALUE=2147483647,(b>100||b<0)&&(a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:b},!0),this.sampleRate=100),this.sampleRate=b,this.samplingScoreGenerator=new a.SamplingScoreGenerator}return b.prototype.isSampledIn=function(a){if(100==this.sampleRate)return!0;var b=this.samplingScoreGenerator.getSamplingScore(a);return b<this.sampleRate},b}();b.Sample=c}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(a){"use strict";var b;!function(a){a[a.Start=0]="Start",a[a.End=1]="End"}(b=a.SessionState||(a.SessionState={}))}(AI||(AI={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function a(){}return a}();b.Session=c;var d=function(){function b(a){a||(a={}),"function"!=typeof a.sessionExpirationMs&&(a.sessionExpirationMs=function(){return b.acquisitionSpan}),"function"!=typeof a.sessionRenewalMs&&(a.sessionRenewalMs=function(){return b.renewalSpan}),this.config=a,this.automaticSession=new c}return b.prototype.update=function(){this.automaticSession.id||this.initializeAutomaticSession();var c=a.dateTime.Now(),d=c-this.automaticSession.acquisitionDate>this.config.sessionExpirationMs(),e=c-this.automaticSession.renewalDate>this.config.sessionRenewalMs();d||e?(this.automaticSession.isFirst=void 0,this.renew()):(!this.cookieUpdatedTimestamp||c-this.cookieUpdatedTimestamp>b.cookieUpdateInterval)&&(this.automaticSession.renewalDate=c,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate))},b.prototype.backup=function(){this.setStorage(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate)},b.prototype.initializeAutomaticSession=function(){var b=a.Util.getCookie("ai_session");if(b&&"function"==typeof b.split)this.initializeAutomaticSessionWithData(b);else{var c=a.Util.getStorage("ai_session");c&&this.initializeAutomaticSessionWithData(c)}this.automaticSession.id||(this.automaticSession.isFirst=!0,this.renew())},b.prototype.initializeAutomaticSessionWithData=function(b){var c=b.split("|");c.length>0&&(this.automaticSession.id=c[0]);try{if(c.length>1){var d=+c[1];this.automaticSession.acquisitionDate=+new Date(d),this.automaticSession.acquisitionDate=this.automaticSession.acquisitionDate>0?this.automaticSession.acquisitionDate:0}if(c.length>2){var e=+c[2];this.automaticSession.renewalDate=+new Date(e),this.automaticSession.renewalDate=this.automaticSession.renewalDate>0?this.automaticSession.renewalDate:0}}catch(f){a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+a.Util.getExceptionName(f),{exception:a.Util.dump(f)})}0==this.automaticSession.renewalDate&&a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")},b.prototype.renew=function(){var b=a.dateTime.Now();this.automaticSession.id=a.Util.newId(),this.automaticSession.acquisitionDate=b,this.automaticSession.renewalDate=b,this.setCookie(this.automaticSession.id,this.automaticSession.acquisitionDate,this.automaticSession.renewalDate),a.Util.canUseLocalStorage()||a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")},b.prototype.setCookie=function(b,c,d){var e=c+this.config.sessionExpirationMs(),f=d+this.config.sessionRenewalMs(),g=new Date,h=[b,c,d];e<f?g.setTime(e):g.setTime(f);var i=this.config.cookieDomain?this.config.cookieDomain():null;a.Util.setCookie("ai_session",h.join("|")+";expires="+g.toUTCString(),i),this.cookieUpdatedTimestamp=a.dateTime.Now()},b.prototype.setStorage=function(b,c,d){a.Util.setStorage("ai_session",[b,c,d].join("|"))},b.acquisitionSpan=864e5,b.renewalSpan=18e5,b.cookieUpdateInterval=6e4,
b}();b._SessionManager=d}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(c){var d=a.Util.getCookie(b.userCookieName);if(d){var e=d.split(b.cookieSeparator);e.length>0&&(this.id=e[0])}if(this.config=c,!this.id){this.id=a.Util.newId();var f=new Date,g=a.Util.toISOStringForIE8(f);this.accountAcquisitionDate=g,f.setTime(f.getTime()+31536e6);var h=[this.id,g],i=this.config.cookieDomain?this.config.cookieDomain():void 0;a.Util.setCookie(b.userCookieName,h.join(b.cookieSeparator)+";expires="+f.toUTCString(),i),a.Util.removeStorage("ai_session")}this.accountId=c.accountId?c.accountId():void 0;var j=a.Util.getCookie(b.authUserCookieName);if(j){j=decodeURI(j);var k=j.split(b.cookieSeparator);k[0]&&(this.authenticatedId=k[0]),k.length>1&&k[1]&&(this.accountId=k[1])}}return b.prototype.setAuthenticatedUserContext=function(c,d,e){void 0===e&&(e=!1);var f=!this.validateUserInput(c)||d&&!this.validateUserInput(d);if(f)return void a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);this.authenticatedId=c;var g=this.authenticatedId;d&&(this.accountId=d,g=[this.authenticatedId,this.accountId].join(b.cookieSeparator)),e&&a.Util.setCookie(b.authUserCookieName,encodeURI(g),this.config.cookieDomain())},b.prototype.clearAuthenticatedUserContext=function(){this.authenticatedId=null,this.accountId=null,a.Util.deleteCookie(b.authUserCookieName)},b.prototype.validateUserInput=function(a){return!("string"!=typeof a||!a||a.match(/,|;|=| |\|/))},b.cookieSeparator="|",b.userCookieName="ai_user",b.authUserCookieName="ai_authUser",b}();b.User=c}(b=a.Context||(a.Context={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){"use strict";var b=function(){function a(){}return a.IsNullOrUndefined=function(a){return"undefined"==typeof a||null===a},a}();a.extensions=b;var c=function(){function a(){}return a.GetLength=function(a){var c=0;if(!b.IsNullOrUndefined(a)){var d="";try{d=a.toString()}catch(e){}c=d.length,c=isNaN(c)?0:c}return c},a}();a.stringUtils=c;var d=function(){function a(){}return a.Now=window.performance&&window.performance.now&&window.performance.timing?function(){return window.performance.now()+window.performance.timing.navigationStart}:function(){return(new Date).getTime()},a.GetDuration=function(a,c){var d=null;return 0===a||0===c||b.IsNullOrUndefined(a)||b.IsNullOrUndefined(c)||(d=c-a),d},a}();a.dateTime=d;var e=function(){function a(){}return a.AttachEvent=function(a,c,d){var e=!1;return b.IsNullOrUndefined(a)||(b.IsNullOrUndefined(a.attachEvent)?b.IsNullOrUndefined(a.addEventListener)||(a.addEventListener(c,d,!1),e=!0):(a.attachEvent("on"+c,d),e=!0)),e},a.DetachEvent=function(a,c,d){b.IsNullOrUndefined(a)||(b.IsNullOrUndefined(a.detachEvent)?b.IsNullOrUndefined(a.removeEventListener)||a.removeEventListener(c,d,!1):a.detachEvent("on"+c,d))},a}();a.EventHelper=e}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){"use strict";var b=function(){function a(){this.openDone=!1,this.setRequestHeaderDone=!1,this.sendDone=!1,this.abortDone=!1,this.onreadystatechangeCallbackAttached=!1}return a}();a.XHRMonitoringState=b;var c=function(){function c(c){this.completed=!1,this.requestHeadersSize=null,this.ttfb=null,this.responseReceivingDuration=null,this.callbackDuration=null,this.ajaxTotalDuration=null,this.aborted=null,this.pageUrl=null,this.requestUrl=null,this.requestSize=0,this.method=null,this.status=null,this.requestSentTime=null,this.responseStartedTime=null,this.responseFinishedTime=null,this.callbackFinishedTime=null,this.endTime=null,this.originalOnreadystatechage=null,this.xhrMonitoringState=new b,this.clientFailure=0,this.CalculateMetrics=function(){var b=this;b.ajaxTotalDuration=Math.round(1e3*a.dateTime.GetDuration(b.requestSentTime,b.responseFinishedTime))/1e3},this.id=c}return c.prototype.getAbsoluteUrl=function(){return this.requestUrl?a.UrlHelper.getAbsoluteUrl(this.requestUrl):null},c.prototype.getPathName=function(){return this.requestUrl?a.Telemetry.Common.DataSanitizer.sanitizeUrl(a.UrlHelper.getCompleteUrl(this.method,this.requestUrl)):null},c}();a.ajaxRecord=c}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(b){"use strict";var c=function(){function c(a){this.currentWindowHost=window.location.host,this.appInsights=a,this.initialized=!1,this.Init()}return c.prototype.Init=function(){this.supportsMonitoring()&&(this.instrumentOpen(),this.instrumentSend(),this.instrumentAbort(),this.initialized=!0)},c.prototype.isMonitoredInstance=function(a,d){return this.initialized&&(d===!0||!b.extensions.IsNullOrUndefined(a.ajaxData))&&a[c.DisabledPropertyName]!==!0},c.prototype.supportsMonitoring=function(){var a=!0;(b.extensions.IsNullOrUndefined(XMLHttpRequest)||b.extensions.IsNullOrUndefined(XMLHttpRequest.prototype)||b.extensions.IsNullOrUndefined(XMLHttpRequest.prototype.open)||b.extensions.IsNullOrUndefined(XMLHttpRequest.prototype.send)||b.extensions.IsNullOrUndefined(XMLHttpRequest.prototype.abort))&&(a=!1);try{" a ".trim()}catch(c){a=!1}return a},c.prototype.instrumentOpen=function(){var d=XMLHttpRequest.prototype.open,e=this;XMLHttpRequest.prototype.open=function(f,g,h){try{!e.isMonitoredInstance(this,!0)||this.ajaxData&&this.ajaxData.xhrMonitoringState.openDone||e.openHandler(this,f,g,h)}catch(i){b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:c.getFailedAjaxDiagnosticsMessage(this),exception:a.ApplicationInsights.Util.dump(i)})}return d.apply(this,arguments)}},c.prototype.openHandler=function(a,c,d,e){var f=new b.ajaxRecord(b.Util.newId());f.method=c,f.requestUrl=d,f.xhrMonitoringState.openDone=!0,a.ajaxData=f,this.attachToOnReadyStateChange(a)},c.getFailedAjaxDiagnosticsMessage=function(a){var c="";try{b.extensions.IsNullOrUndefined(a)||b.extensions.IsNullOrUndefined(a.ajaxData)||b.extensions.IsNullOrUndefined(a.ajaxData.requestUrl)||(c+="(url: '"+a.ajaxData.requestUrl+"')")}catch(d){}return c},c.prototype.instrumentSend=function(){var d=XMLHttpRequest.prototype.send,e=this;XMLHttpRequest.prototype.send=function(f){try{e.isMonitoredInstance(this)&&!this.ajaxData.xhrMonitoringState.sendDone&&e.sendHandler(this,f)}catch(g){b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:c.getFailedAjaxDiagnosticsMessage(this),exception:a.ApplicationInsights.Util.dump(g)})}return d.apply(this,arguments)}},c.prototype.sendHandler=function(a,c){if(a.ajaxData.requestSentTime=b.dateTime.Now(),!this.appInsights.config.disableCorrelationHeaders&&b.UrlHelper.parseUrl(a.ajaxData.getAbsoluteUrl()).host==this.currentWindowHost){var d=this.appInsights.context.operation.id;a.setRequestHeader("x-ms-request-root-id",d),a.setRequestHeader("x-ms-request-id",a.ajaxData.id)}a.ajaxData.xhrMonitoringState.sendDone=!0},c.prototype.instrumentAbort=function(){var d=XMLHttpRequest.prototype.abort,e=this;XMLHttpRequest.prototype.abort=function(){try{e.isMonitoredInstance(this)&&!this.ajaxData.xhrMonitoringState.abortDone&&(this.ajaxData.aborted=1,this.ajaxData.xhrMonitoringState.abortDone=!0)}catch(f){b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:c.getFailedAjaxDiagnosticsMessage(this),exception:a.ApplicationInsights.Util.dump(f)})}return d.apply(this,arguments)}},c.prototype.attachToOnReadyStateChange=function(d){var e=this;d.ajaxData.xhrMonitoringState.onreadystatechangeCallbackAttached=b.EventHelper.AttachEvent(d,"readystatechange",function(){try{e.isMonitoredInstance(d)&&4===d.readyState&&e.onAjaxComplete(d)}catch(f){var g=a.ApplicationInsights.Util.dump(f);g&&g.toLowerCase().indexOf("c00c023f")!=-1||b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:c.getFailedAjaxDiagnosticsMessage(d),exception:a.ApplicationInsights.Util.dump(f)})}})},c.prototype.onAjaxComplete=function(a){a.ajaxData.responseFinishedTime=b.dateTime.Now(),a.ajaxData.status=a.status,a.ajaxData.CalculateMetrics(),a.ajaxData.ajaxTotalDuration<0?b._InternalLogging.throwInternal(b.LoggingSeverity.WARNING,b._InternalMessageId.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",{ajaxDiagnosticsMessage:c.getFailedAjaxDiagnosticsMessage(a),requestSentTime:a.ajaxData.requestSentTime,responseFinishedTime:a.ajaxData.responseFinishedTime}):(this.appInsights.trackDependency(a.ajaxData.id,a.ajaxData.method,a.ajaxData.getAbsoluteUrl(),a.ajaxData.getPathName(),a.ajaxData.ajaxTotalDuration,+a.ajaxData.status>=200&&+a.ajaxData.status<400,+a.ajaxData.status),a.ajaxData=null)},c.instrumentedByAppInsightsName="InstrumentedByAppInsights",c.DisabledPropertyName="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",c}();b.AjaxMonitor=c}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){"use strict";var b=function(){function a(a){this._config=a,this._buffer=[]}return a.prototype.enqueue=function(a){this._buffer.push(a)},a.prototype.count=function(){return this._buffer.length},a.prototype.clear=function(){this._buffer.length=0},a.prototype.getItems=function(){return this._buffer.slice(0)},a.prototype.batchPayloads=function(a){if(a&&a.length>0){var b=this._config.emitLineDelimitedJson()?a.join("\n"):"["+a.join(",")+"]";return b}return null},a.prototype.markAsSent=function(a){this.clear()},a.prototype.clearSent=function(a){},a}();a.ArraySendBuffer=b;var c=function(){function b(a){this._bufferFullMessageSent=!1,this._config=a;var c=this.getBuffer(b.BUFFER_KEY),d=this.getBuffer(b.SENT_BUFFER_KEY);this._buffer=c.concat(d),this._buffer.length>b.MAX_BUFFER_SIZE&&(this._buffer.length=b.MAX_BUFFER_SIZE),this.setBuffer(b.SENT_BUFFER_KEY,[]),this.setBuffer(b.BUFFER_KEY,this._buffer)}return b.prototype.enqueue=function(c){return this._buffer.length>=b.MAX_BUFFER_SIZE?void(this._bufferFullMessageSent||(a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.SessionStorageBufferFull,"Maximum buffer size reached: "+this._buffer.length,!0),this._bufferFullMessageSent=!0)):(this._buffer.push(c),void this.setBuffer(b.BUFFER_KEY,this._buffer))},b.prototype.count=function(){return this._buffer.length},b.prototype.clear=function(){this._buffer.length=0,this.setBuffer(b.BUFFER_KEY,[]),this.setBuffer(b.SENT_BUFFER_KEY,[]),this._bufferFullMessageSent=!1},b.prototype.getItems=function(){return this._buffer.slice(0)},b.prototype.batchPayloads=function(a){if(a&&a.length>0){var b=this._config.emitLineDelimitedJson()?a.join("\n"):"["+a.join(",")+"]";return b}return null},b.prototype.markAsSent=function(c){this._buffer=this.removePayloadsFromBuffer(c,this._buffer),this.setBuffer(b.BUFFER_KEY,this._buffer);var d=this.getBuffer(b.SENT_BUFFER_KEY);d instanceof Array&&c instanceof Array&&(d=d.concat(c),d.length>b.MAX_BUFFER_SIZE&&(a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+d.length,!0),d.length=b.MAX_BUFFER_SIZE),this.setBuffer(b.SENT_BUFFER_KEY,d))},b.prototype.clearSent=function(a){var c=this.getBuffer(b.SENT_BUFFER_KEY);c=this.removePayloadsFromBuffer(a,c),this.setBuffer(b.SENT_BUFFER_KEY,c)},b.prototype.removePayloadsFromBuffer=function(a,b){var c=[];for(var d in b){var e=!1;for(var f in a)if(a[f]===b[d]){e=!0;break}e||c.push(b[d])}return c},b.prototype.getBuffer=function(b){try{var c=a.Util.getSessionStorage(b);if(c){var d=JSON.parse(c);if(d)return d}}catch(e){a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.FailedToRestoreStorageBuffer," storage key: "+b+", "+a.Util.getExceptionName(e),{exception:a.Util.dump(e)})}return[]},b.prototype.setBuffer=function(b,c){try{var d=JSON.stringify(c);a.Util.setSessionStorage(b,d)}catch(e){a.Util.setSessionStorage(b,JSON.stringify([])),a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.FailedToSetStorageBuffer," storage key: "+b+", "+a.Util.getExceptionName(e)+". Buffer cleared",{exception:a.Util.dump(e)})}},b.BUFFER_KEY="AI_buffer",b.SENT_BUFFER_KEY="AI_sentBuffer",b.MAX_BUFFER_SIZE=2e3,b}();a.SessionStorageSendBuffer=c}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){"use strict";var b=function(){function b(b){if(this._XMLHttpRequestSupported=!1,this._consecutiveErrors=0,this._retryAt=null,this._lastSend=0,this._config=b,this._sender=null,this._buffer=a.Util.canUseSessionStorage()&&this._config.enableSessionStorageBuffer()?new a.SessionStorageSendBuffer(b):new a.ArraySendBuffer(b),!this._config.isBeaconApiDisabled()&&a.Util.IsBeaconApiSupported())this._sender=this._beaconSender;else if("undefined"!=typeof XMLHttpRequest){var c=new XMLHttpRequest;"withCredentials"in c?(this._sender=this._xhrSender,this._XMLHttpRequestSupported=!0):"undefined"!=typeof XDomainRequest&&(this._sender=this._xdrSender)}}return b.prototype.send=function(b){try{if(this._config.disableTelemetry())return;if(!b)return void a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.CannotSendEmptyTelemetry,"Cannot send empty telemetry");if(!this._sender)return void a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.SenderNotInitialized,"Sender was not initialized");var c=a.Serializer.serialize(b),d=this._buffer.getItems(),e=this._buffer.batchPayloads(d);e&&e.length+c.length>this._config.maxBatchSizeInBytes()&&this.triggerSend(),this._buffer.enqueue(c),this._setupTimer()}catch(f){a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+a.Util.getExceptionName(f),{exception:a.Util.dump(f)})}},b.prototype._setupTimer=function(){var a=this;if(!this._timeoutHandle){var b=this._retryAt?Math.max(0,this._retryAt-Date.now()):0,c=Math.max(this._config.maxBatchInterval(),b);this._timeoutHandle=setTimeout(function(){a.triggerSend()},c)}},b.prototype._getSizeInBytes=function(a){var b=0;if(a&&a.length)for(var c=0;c<a.length;c++){var d=a[c];d&&d.length&&(b+=d.length)}return b},b.prototype.triggerSend=function(b){void 0===b&&(b=!0);try{if(this._config.disableTelemetry())this._buffer.clear();else{if(this._buffer.count()>0){var c=this._buffer.getItems();this._sender(c,b)}this._lastSend=+new Date}clearTimeout(this._timeoutHandle),this._timeoutHandle=null,this._retryAt=null}catch(d){(!a.Util.getIEVersion()||a.Util.getIEVersion()>9)&&a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+a.Util.getExceptionName(d),{exception:a.Util.dump(d)})}},b.prototype._setRetryTime=function(){var a,b=10;if(this._consecutiveErrors<=1)a=b;else{var c=(Math.pow(2,this._consecutiveErrors)-1)/2,d=Math.floor(Math.random()*c*b)+1;a=Math.max(Math.min(d,3600),b)}var e=Date.now()+1e3*a;this._retryAt=e},b.prototype._parseResponse=function(b){try{var c=JSON.parse(b);if(c&&c.itemsReceived&&c.itemsReceived>=c.itemsAccepted&&c.itemsReceived-c.itemsAccepted==c.errors.length)return c}catch(d){a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.InvalidBackendResponse,"Cannot parse the response. "+a.Util.getExceptionName(d))}return null},b.prototype._isRetriable=function(a){return 408==a||429==a||500==a||503==a},b.prototype._resendPayload=function(a){if(a&&0!==a.length){this._buffer.clearSent(a),this._consecutiveErrors++;for(var b=0,c=a;b<c.length;b++){var d=c[b];this._buffer.enqueue(d)}this._setRetryTime(),this._setupTimer()}},b.prototype._formatErrorMessageXhr=function(a,b){return a?"XMLHttpRequest,Status:"+a.status+",Response:"+a.responseText||a.response||"":b},b.prototype._formatErrorMessageXdr=function(a,b){return a?"XDomainRequest,Response:"+a.responseText||"":b},b.prototype._xhrSender=function(b,c){var d=this,e=new XMLHttpRequest;e[a.AjaxMonitor.DisabledPropertyName]=!0,e.open("POST",this._config.endpointUrl(),c),e.setRequestHeader("Content-type","application/json"),e.onreadystatechange=function(){return d._xhrReadyStateChange(e,b,b.length)},e.onerror=function(a){return d._onError(b,d._formatErrorMessageXhr(e),a)};var f=this._buffer.batchPayloads(b);e.send(f),this._buffer.markAsSent(b)},b.prototype._xdrSender=function(b,c){var d=this,e=new XDomainRequest;e.onload=function(){return d._xdrOnLoad(e,b)},e.onerror=function(a){return d._onError(b,d._formatErrorMessageXdr(e),a)};var f=window.location.protocol;if(0!==this._config.endpointUrl().lastIndexOf(f,0))return a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void this._buffer.clear();var g=this._config.endpointUrl().replace(/^(https?:)/,"");e.open("POST",g);var h=this._buffer.batchPayloads(b);e.send(h),this._buffer.markAsSent(b)},b.prototype._beaconSender=function(b,c){var d=this._config.endpointUrl(),e=this._buffer.batchPayloads(b),f=navigator.sendBeacon(d,e);f?this._buffer.markAsSent(b):a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.TransmissionFailed,". Failed to send telemetry with Beacon API.")},b.prototype._xhrReadyStateChange=function(b,c,d){if(4===b.readyState)if((b.status<200||b.status>=300)&&0!==b.status)!this._config.isRetryDisabled()&&this._isRetriable(b.status)?(this._resendPayload(c),a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.TransmissionFailed,". Response code "+b.status+". Will retry to send "+c.length+" items.")):this._onError(c,this._formatErrorMessageXhr(b));else if(206===b.status){var e=this._parseResponse(b.responseText||b.response);e&&!this._config.isRetryDisabled()?this._onPartialSuccess(c,e):this._onError(c,this._formatErrorMessageXhr(b))}else this._consecutiveErrors=0,this._onSuccess(c,d)},b.prototype._xdrOnLoad=function(a,b){if(!a||a.responseText+""!="200"&&""!==a.responseText){var c=this._parseResponse(a.responseText);c&&c.itemsReceived&&c.itemsReceived>c.itemsAccepted&&!this._config.isRetryDisabled()?this._onPartialSuccess(b,c):this._onError(b,this._formatErrorMessageXdr(a))}else this._consecutiveErrors=0,this._onSuccess(b,0)},b.prototype._onPartialSuccess=function(b,c){for(var d=[],e=[],f=c.errors.reverse(),g=0,h=f;g<h.length;g++){var i=h[g],j=b.splice(i.index,1)[0];this._isRetriable(i.statusCode)?e.push(j):d.push(j)}b.length>0&&this._onSuccess(b,c.itemsAccepted),d.length>0&&this._onError(d,this._formatErrorMessageXhr(null,["partial success",c.itemsAccepted,"of",c.itemsReceived].join(" "))),e.length>0&&(this._resendPayload(e),a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.TransmissionFailed,"Partial success. Delivered: "+b.length+", Failed: "+d.length+". Will retry to send "+e.length+" our of "+c.itemsReceived+" items"))},b.prototype._onError=function(b,c,d){a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.OnError,"Failed to send telemetry.",{message:c}),this._buffer.clearSent(b)},b.prototype._onSuccess=function(a,b){this._buffer.clearSent(a)},b.MaxBeaconPayloadSize=65536,b}();a.Sender=b}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){"use strict";var b=function(){function a(){}return a}();a.Domain=b}(b=a.Telemetry||(a.Telemetry={}))}(Microsoft||(Microsoft={}));var AI;!function(a){"use strict";var b=function(a){function b(){var b=a.call(this)||this;return b.ver=2,b.properties={},b=a.call(this)||this}return __extends(b,a),b}(Microsoft.Telemetry.Domain);a.MessageData=b}(AI||(AI={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){}return b.sanitizeKeyAndAddUniqueness=function(a,c){var d=a.length,e=b.sanitizeKey(a);if(e.length!==d){for(var f=0,g=e;void 0!==c[g];)f++,g=e.substring(0,b.MAX_NAME_LENGTH-3)+b.padNumber(f);e=g}return e},b.sanitizeKey=function(c){return c&&(c=a.Util.trim(c.toString()),c.length>b.MAX_NAME_LENGTH&&(c=c.substring(0,b.MAX_NAME_LENGTH),a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.NameTooLong,"name is too long.  It has been truncated to "+b.MAX_NAME_LENGTH+" characters.",{name:c},!0))),c},b.sanitizeString=function(c){return c&&(c=a.Util.trim(c),c.toString().length>b.MAX_STRING_LENGTH&&(c=c.toString().substring(0,b.MAX_STRING_LENGTH),a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.StringValueTooLong,"string value is too long. It has been truncated to "+b.MAX_STRING_LENGTH+" characters.",{value:c},!0))),c},b.sanitizeUrl=function(c){return c&&(c=a.Util.trim(c),c.length>b.MAX_URL_LENGTH&&(c=c.substring(0,b.MAX_URL_LENGTH),a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.UrlTooLong,"url is too long, it has been truncated to "+b.MAX_URL_LENGTH+" characters.",{url:c},!0))),c},b.sanitizeMessage=function(c){return c&&c.length>b.MAX_MESSAGE_LENGTH&&(c=c.substring(0,b.MAX_MESSAGE_LENGTH),a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.MessageTruncated,"message is too long, it has been truncated to "+b.MAX_MESSAGE_LENGTH+" characters.",{message:c},!0)),c},b.sanitizeException=function(c){return c&&c.length>b.MAX_EXCEPTION_LENGTH&&(c=c.substring(0,b.MAX_EXCEPTION_LENGTH),a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.ExceptionTruncated,"exception is too long, it has been truncated to "+b.MAX_EXCEPTION_LENGTH+" characters.",{exception:c},!0)),c},b.sanitizeProperties=function(a){if(a){var c={};for(var d in a){var e=b.sanitizeString(a[d]);d=b.sanitizeKeyAndAddUniqueness(d,c),c[d]=e}a=c}return a},b.sanitizeMeasurements=function(a){if(a){var c={};for(var d in a){var e=a[d];d=b.sanitizeKeyAndAddUniqueness(d,c),c[d]=e}a=c}return a},b.padNumber=function(a){var b="00"+a;return b.substr(b.length-3)},b.MAX_NAME_LENGTH=150,b.MAX_STRING_LENGTH=1024,b.MAX_URL_LENGTH=2048,b.MAX_MESSAGE_LENGTH=32768,b.MAX_EXCEPTION_LENGTH=32768,b}();b.DataSanitizer=c}(c=b.Common||(b.Common={}))}(b=a.Telemetry||(a.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(c){function d(d,e,f){var g=c.call(this)||this;return g.aiDataContract={ver:a.FieldType.Required,message:a.FieldType.Required,severityLevel:a.FieldType.Default,properties:a.FieldType.Default},d=d||a.Util.NotSpecified,g.message=b.Common.DataSanitizer.sanitizeMessage(d),g.properties=b.Common.DataSanitizer.sanitizeProperties(e),f&&(g.severityLevel=f),g}return __extends(d,c),d.envelopeType="Microsoft.ApplicationInsights.{0}.Message",d.dataType="MessageData",d}(AI.MessageData);b.Trace=c}(b=a.Telemetry||(a.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(a){"use strict";var b=function(a){function b(){var b=a.call(this)||this;return b.ver=2,b.properties={},b.measurements={},b=a.call(this)||this}return __extends(b,a),b}(Microsoft.Telemetry.Domain);a.EventData=b}(AI||(AI={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(b){function c(c,d,e){var f=b.call(this)||this;return f.aiDataContract={ver:a.FieldType.Required,name:a.FieldType.Required,properties:a.FieldType.Default,measurements:a.FieldType.Default},f.name=a.Telemetry.Common.DataSanitizer.sanitizeString(c)||a.Util.NotSpecified,f.properties=a.Telemetry.Common.DataSanitizer.sanitizeProperties(d),f.measurements=a.Telemetry.Common.DataSanitizer.sanitizeMeasurements(e),f}return __extends(c,b),c.envelopeType="Microsoft.ApplicationInsights.{0}.Event",c.dataType="EventData",c}(AI.EventData);b.Event=c}(b=a.Telemetry||(a.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(a){"use strict";var b=function(){function a(){this.hasFullStack=!0,this.parsedStack=[]}return a}();a.ExceptionDetails=b}(AI||(AI={}));var AI;!function(a){"use strict";var b=function(a){function b(){var b=a.call(this)||this;return b.ver=2,b.exceptions=[],b.properties={},b.measurements={},b=a.call(this)||this}return __extends(b,a),b}(Microsoft.Telemetry.Domain);a.ExceptionData=b}(AI||(AI={}));var AI;!function(a){"use strict";var b=function(){function a(){}return a}();a.StackFrame=b}(AI||(AI={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(b){function c(c,e,f,g,h){var i=b.call(this)||this;return i.aiDataContract={ver:a.FieldType.Required,handledAt:a.FieldType.Required,exceptions:a.FieldType.Required,severityLevel:a.FieldType.Default,properties:a.FieldType.Default,measurements:a.FieldType.Default},i.properties=a.Telemetry.Common.DataSanitizer.sanitizeProperties(f),i.measurements=a.Telemetry.Common.DataSanitizer.sanitizeMeasurements(g),i.handledAt=e||"unhandled",i.exceptions=[new d(c)],h&&(i.severityLevel=h),i}return __extends(c,b),c.CreateSimpleException=function(a,b,c,d,e,f,g){return{handledAt:g||"unhandled",exceptions:[{hasFullStack:!0,message:a,stack:e,typeName:b}]}},c.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",c.dataType="ExceptionData",c}(AI.ExceptionData);b.Exception=c;var d=function(c){function d(d){var e=c.call(this)||this;e.aiDataContract={id:a.FieldType.Default,outerId:a.FieldType.Default,typeName:a.FieldType.Required,message:a.FieldType.Required,hasFullStack:a.FieldType.Default,stack:a.FieldType.Default,parsedStack:a.FieldType.Array},e.typeName=b.Common.DataSanitizer.sanitizeString(d.name)||a.Util.NotSpecified,e.message=b.Common.DataSanitizer.sanitizeMessage(d.message)||a.Util.NotSpecified;var f=d.stack;return e.parsedStack=e.parseStack(f),e.stack=b.Common.DataSanitizer.sanitizeException(f),e.hasFullStack=a.Util.isArray(e.parsedStack)&&e.parsedStack.length>0,e}return __extends(d,c),d.prototype.parseStack=function(a){var b=void 0;if("string"==typeof a){var c=a.split("\n");b=[];for(var d=0,f=0,g=0;g<=c.length;g++){var h=c[g];if(e.regex.test(h)){var i=new e(c[g],(d++));f+=i.sizeInBytes,b.push(i)}}var j=32768;if(f>j)for(var k=0,l=b.length-1,m=0,n=k,o=l;k<l;){var p=b[k].sizeInBytes,q=b[l].sizeInBytes;if(m+=p+q,m>j){var r=o-n+1;b.splice(n,r);break}n=k,o=l,k++,l--}}return b},d}(AI.ExceptionDetails),e=function(b){function c(d,e){var f=b.call(this)||this;f.sizeInBytes=0,f.aiDataContract={level:a.FieldType.Required,method:a.FieldType.Required,assembly:a.FieldType.Default,fileName:a.FieldType.Default,line:a.FieldType.Default},f.level=e,f.method="<no_method>",f.assembly=a.Util.trim(d);var g=d.match(c.regex);return g&&g.length>=5&&(f.method=a.Util.trim(g[2])||f.method,f.fileName=a.Util.trim(g[4]),f.line=parseInt(g[5])||0),f.sizeInBytes+=f.method.length,f.sizeInBytes+=f.fileName.length,f.sizeInBytes+=f.assembly.length,f.sizeInBytes+=c.baseSize,f.sizeInBytes+=f.level.toString().length,f.sizeInBytes+=f.line.toString().length,f}return __extends(c,b),c.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,c.baseSize=58,c}(AI.StackFrame);b._StackFrame=e}(b=a.Telemetry||(a.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(a){"use strict";var b=function(a){function b(){var b=a.call(this)||this;return b.ver=2,b.metrics=[],b.properties={},b=a.call(this)||this}return __extends(b,a),b}(Microsoft.Telemetry.Domain);a.MetricData=b}(AI||(AI={}));var AI;!function(a){"use strict";var b;!function(a){a[a.Measurement=0]="Measurement",a[a.Aggregation=1]="Aggregation"}(b=a.DataPointType||(a.DataPointType={}))}(AI||(AI={}));var AI;!function(a){"use strict";var b=function(){function b(){this.kind=a.DataPointType.Measurement}return b}();a.DataPoint=b}(AI||(AI={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(b){function c(){var c=null!==b&&b.apply(this,arguments)||this;return c.aiDataContract={name:a.FieldType.Required,kind:a.FieldType.Default,value:a.FieldType.Required,count:a.FieldType.Default,min:a.FieldType.Default,max:a.FieldType.Default,stdDev:a.FieldType.Default},c}return __extends(c,b),c}(AI.DataPoint);b.DataPoint=c}(c=b.Common||(b.Common={}))}(b=a.Telemetry||(a.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(b){var c;!function(c){"use strict";var d=function(d){function e(e,f,g,h,i,j){var k=d.call(this)||this;k.aiDataContract={ver:b.FieldType.Required,metrics:b.FieldType.Required,properties:b.FieldType.Default};var l=new a.ApplicationInsights.Telemetry.Common.DataPoint;return l.count=g>0?g:void 0,l.max=isNaN(i)||null===i?void 0:i,l.min=isNaN(h)||null===h?void 0:h,l.name=c.Common.DataSanitizer.sanitizeString(e)||b.Util.NotSpecified,l.value=f,k.metrics=[l],k.properties=b.Telemetry.Common.DataSanitizer.sanitizeProperties(j),k}return __extends(e,d),e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}(AI.MetricData);c.Metric=d}(c=b.Telemetry||(b.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(a){"use strict";var b=function(a){function b(){var b=a.call(this)||this;return b.ver=2,b.properties={},b.measurements={},b=a.call(this)||this}return __extends(b,a),b}(a.EventData);a.PageViewData=b}(AI||(AI={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(c){function d(d,e,f,g,h){var i=c.call(this)||this;return i.aiDataContract={ver:a.FieldType.Required,name:a.FieldType.Default,url:a.FieldType.Default,duration:a.FieldType.Default,properties:a.FieldType.Default,measurements:a.FieldType.Default},i.url=b.Common.DataSanitizer.sanitizeUrl(e),i.name=b.Common.DataSanitizer.sanitizeString(d)||a.Util.NotSpecified,isNaN(f)||(i.duration=a.Util.msToTimeSpan(f)),i.properties=a.Telemetry.Common.DataSanitizer.sanitizeProperties(g),i.measurements=a.Telemetry.Common.DataSanitizer.sanitizeMeasurements(h),i}return __extends(d,c),d.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",d.dataType="PageviewData",d}(AI.PageViewData);b.PageView=c}(b=a.Telemetry||(a.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(a){"use strict";var b=function(a){function b(){var b=a.call(this)||this;return b.ver=2,b.properties={},b.measurements={},b=a.call(this)||this}return __extends(b,a),b}(a.PageViewData);a.PageViewPerfData=b}(AI||(AI={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(c){function d(e,f,g,h,i){var j=c.call(this)||this;j.aiDataContract={ver:a.FieldType.Required,name:a.FieldType.Default,url:a.FieldType.Default,duration:a.FieldType.Default,perfTotal:a.FieldType.Default,networkConnect:a.FieldType.Default,
sentRequest:a.FieldType.Default,receivedResponse:a.FieldType.Default,domProcessing:a.FieldType.Default,properties:a.FieldType.Default,measurements:a.FieldType.Default},j.isValid=!1;var k=d.getPerformanceTiming();if(k){var l=d.getDuration(k.navigationStart,k.loadEventEnd),m=d.getDuration(k.navigationStart,k.connectEnd),n=d.getDuration(k.requestStart,k.responseStart),o=d.getDuration(k.responseStart,k.responseEnd),p=d.getDuration(k.responseEnd,k.loadEventEnd);0==l?a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.ErrorPVCalc,"error calculating page view performance.",{total:l,network:m,request:n,response:o,dom:p}):d.shouldCollectDuration(l,m,n,o,p)?l<Math.floor(m)+Math.floor(n)+Math.floor(o)+Math.floor(p)?a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.ClientPerformanceMathError,"client performance math error.",{total:l,network:m,request:n,response:o,dom:p}):(j.durationMs=l,j.perfTotal=j.duration=a.Util.msToTimeSpan(l),j.networkConnect=a.Util.msToTimeSpan(m),j.sentRequest=a.Util.msToTimeSpan(n),j.receivedResponse=a.Util.msToTimeSpan(o),j.domProcessing=a.Util.msToTimeSpan(p),j.isValid=!0):a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:l,network:m,request:n,response:o,dom:p})}return j.url=b.Common.DataSanitizer.sanitizeUrl(f),j.name=b.Common.DataSanitizer.sanitizeString(e)||a.Util.NotSpecified,j.properties=a.Telemetry.Common.DataSanitizer.sanitizeProperties(h),j.measurements=a.Telemetry.Common.DataSanitizer.sanitizeMeasurements(i),j}return __extends(d,c),d.prototype.getIsValid=function(){return this.isValid},d.prototype.getDurationMs=function(){return this.durationMs},d.getPerformanceTiming=function(){return d.isPerformanceTimingSupported()?window.performance.timing:null},d.isPerformanceTimingSupported=function(){return"undefined"!=typeof window&&window.performance&&window.performance.timing},d.isPerformanceTimingDataReady=function(){var a=window.performance.timing;return a.domainLookupStart>0&&a.navigationStart>0&&a.responseStart>0&&a.requestStart>0&&a.loadEventEnd>0&&a.responseEnd>0&&a.connectEnd>0&&a.domLoading>0},d.getDuration=function(a,b){var c=void 0;return isNaN(a)||isNaN(b)||(c=Math.max(b-a,0)),c},d.shouldCollectDuration=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=navigator.userAgent,e=!!c&&c.toLowerCase().indexOf("googlebot")!==-1;if(e)return!1;for(var f=0;f<a.length;f++)if(a[f]>=d.MAX_DURATION_ALLOWED)return!1;return!0},d.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",d.dataType="PageviewPerformanceData",d.MAX_DURATION_ALLOWED=36e5,d}(AI.PageViewPerfData);b.PageViewPerformance=c}(b=a.Telemetry||(a.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(b){"use strict";var c=function(){function c(a){this._config=a,this._sender=new b.Sender(a),this.telemetryInitializers=[],"undefined"!=typeof window&&(this._sessionManager=new b.Context._SessionManager(a),this.application=new b.Context.Application,this.device=new b.Context.Device,this.internal=new b.Context.Internal(a),this.location=new b.Context.Location,this.user=new b.Context.User(a),this.operation=new b.Context.Operation,this.session=new b.Context.Session,this.sample=new b.Context.Sample(a.sampleRate())),this._addDefaultTelemetryInitializers()}return c.prototype.addTelemetryInitializer=function(a){this.telemetryInitializers.push(a)},c.prototype.track=function(a){return a?(a.name===b.Telemetry.PageView.envelopeType&&b._InternalLogging.resetInternalMessageCount(),this.session&&"string"!=typeof this.session.id&&this._sessionManager.update(),this._track(a)):b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.TrackArgumentsNotSpecified,"cannot call .track() with a null or undefined argument",null,!0),a},c.prototype._addDefaultTelemetryInitializers=function(){if(!this._config.isBrowserLinkTrackingEnabled()){var b=["/browserLinkSignalR/","/__browserLink/"],c=function(c){if(c.name===a.ApplicationInsights.Telemetry.RemoteDependencyData.envelopeType){var d=c.data;if(d&&d.baseData)for(var e=0;e<b.length;e++)if(d.baseData.name.indexOf(b[e])>=0)return!1}return!0};this.addTelemetryInitializer(c)}},c.prototype._track=function(a){this.session&&("string"==typeof this.session.id?this._applySessionContext(a,this.session):this._applySessionContext(a,this._sessionManager.automaticSession)),this._applyApplicationContext(a,this.application),this._applyDeviceContext(a,this.device),this._applyInternalContext(a,this.internal),this._applyLocationContext(a,this.location),this._applySampleContext(a,this.sample),this._applyUserContext(a,this.user),this._applyOperationContext(a,this.operation),a.iKey=this._config.instrumentationKey();var c=!1;try{for(var d=this.telemetryInitializers.length,e=0;e<d;++e){var f=this.telemetryInitializers[e];if(f&&f.apply(null,[a])===!1){c=!0;break}}}catch(g){c=!0,b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+b.Util.getExceptionName(g),{exception:b.Util.dump(g)},!0)}if(!c)if(this._fixDepricatedValues(a),a.name===b.Telemetry.Metric.envelopeType||this.sample.isSampledIn(a)){var h=this._config.instrumentationKey().replace(/-/g,"");a.name=a.name.replace("{0}",h),this._sender.send(a)}else b._InternalLogging.throwInternal(b.LoggingSeverity.WARNING,b._InternalMessageId.TelemetrySampledAndNotSent,"Telemetry is sampled and not sent to the AI service.",{SampleRate:this.sample.sampleRate},!0);return a},c.prototype._applyApplicationContext=function(a,b){if(b){var c=new AI.ContextTagKeys;"string"==typeof b.ver&&(a.tags[c.applicationVersion]=b.ver),"string"==typeof b.build&&(a.tags[c.applicationBuild]=b.build)}},c.prototype._applyDeviceContext=function(a,b){var c=new AI.ContextTagKeys;b&&("string"==typeof b.id&&(a.tags[c.deviceId]=b.id),"string"==typeof b.ip&&(a.tags[c.deviceIp]=b.ip),"string"==typeof b.language&&(a.tags[c.deviceLanguage]=b.language),"string"==typeof b.locale&&(a.tags[c.deviceLocale]=b.locale),"string"==typeof b.model&&(a.tags[c.deviceModel]=b.model),"undefined"!=typeof b.network&&(a.tags[c.deviceNetwork]=b.network),"string"==typeof b.oemName&&(a.tags[c.deviceOEMName]=b.oemName),"string"==typeof b.os&&(a.tags[c.deviceOS]=b.os),"string"==typeof b.osversion&&(a.tags[c.deviceOSVersion]=b.osversion),"string"==typeof b.resolution&&(a.tags[c.deviceScreenResolution]=b.resolution),"string"==typeof b.type&&(a.tags[c.deviceType]=b.type))},c.prototype._applyInternalContext=function(a,b){if(b){var c=new AI.ContextTagKeys;"string"==typeof b.agentVersion&&(a.tags[c.internalAgentVersion]=b.agentVersion),"string"==typeof b.sdkVersion&&(a.tags[c.internalSdkVersion]=b.sdkVersion)}},c.prototype._applyLocationContext=function(a,b){if(b){var c=new AI.ContextTagKeys;"string"==typeof b.ip&&(a.tags[c.locationIp]=b.ip)}},c.prototype._applyOperationContext=function(a,b){if(b){var c=new AI.ContextTagKeys;"string"==typeof b.id&&(a.tags[c.operationId]=b.id),"string"==typeof b.name&&(a.tags[c.operationName]=b.name),"string"==typeof b.parentId&&(a.tags[c.operationParentId]=b.parentId),"string"==typeof b.rootId&&(a.tags[c.operationRootId]=b.rootId),"string"==typeof b.syntheticSource&&(a.tags[c.operationSyntheticSource]=b.syntheticSource)}},c.prototype._applySampleContext=function(a,b){b&&(a.sampleRate=b.sampleRate)},c.prototype._applySessionContext=function(a,b){if(b){var c=new AI.ContextTagKeys;"string"==typeof b.id&&(a.tags[c.sessionId]=b.id),"undefined"!=typeof b.isFirst&&(a.tags[c.sessionIsFirst]=b.isFirst)}},c.prototype._applyUserContext=function(a,b){if(b){var c=new AI.ContextTagKeys;"string"==typeof b.accountId&&(a.tags[c.userAccountId]=b.accountId),"string"==typeof b.agent&&(a.tags[c.userAgent]=b.agent),"string"==typeof b.id&&(a.tags[c.userId]=b.id),"string"==typeof b.authenticatedId&&(a.tags[c.userAuthUserId]=b.authenticatedId),"string"==typeof b.storeRegion&&(a.tags[c.userStoreRegion]=b.storeRegion)}},c.prototype._fixDepricatedValues=function(c){try{var d=c.data;if(d&&d.baseType===a.ApplicationInsights.Telemetry.RemoteDependencyData.dataType){var e=d.baseData;e&&this._fixRDDDepricatedValues(e)}}catch(f){b._InternalLogging.throwInternal(b.LoggingSeverity.WARNING,b._InternalMessageId.FailedToFixDepricatedValues,"Failed to parse the base data object, to fix the depricated values "+b.Util.getExceptionName(f),{exception:b.Util.dump(f)})}},c.prototype._fixRDDDepricatedValues=function(a){a.commandName&&(a.data=a.commandName,a.commandName=void 0),a.dependencyTypeName&&(a.type=a.dependencyTypeName,a.dependencyTypeName=void 0),a.value&&0!==a.value&&(a.duration=b.Util.msToTimeSpan(a.value),a.value=void 0),a.kind&&(a.kind=void 0),a.dependencySource&&(a.dependencySource=void 0),a.async&&(a.async=void 0),a.count&&(a.count=void 0),a.min&&(a.min=void 0),a.max&&(a.max=void 0),a.stdDev&&(a.stdDev=void 0),a.dependencyKind&&(a.dependencyKind=void 0)},c}();b.TelemetryContext=c}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(b){"use strict";var c=function(a){function b(){return a.call(this)||this}return __extends(b,a),b}(a.Telemetry.Base);b.Data=c}(b=a.Telemetry||(a.Telemetry={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(b){var c;!function(c){var d;!function(c){"use strict";var d=function(a){function c(c,d){var e=a.call(this)||this;return e.aiDataContract={baseType:b.FieldType.Required,baseData:b.FieldType.Required},e.baseType=c,e.baseData=d,e}return __extends(c,a),c}(a.Telemetry.Data);c.Data=d}(d=c.Common||(c.Common={}))}(c=b.Telemetry||(b.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function c(a,b){this.pageViewPerformanceSent=!1,this.overridePageViewDuration=!1,this.overridePageViewDuration=b,this.appInsights=a}return c.prototype.trackPageView=function(c,d,e,f,g){var h=this;"string"!=typeof c&&(c=window.document&&window.document.title||""),"string"!=typeof d&&(d=window.location&&window.location.href||"");var i=!1,j=void 0;if(b.PageViewPerformance.isPerformanceTimingSupported()){var k=b.PageViewPerformance.getPerformanceTiming().navigationStart;j=b.PageViewPerformance.getDuration(k,+new Date),b.PageViewPerformance.shouldCollectDuration(j)||(j=void 0)}else this.appInsights.sendPageViewInternal(c,d,isNaN(g)?void 0:g,e,f),this.appInsights.flush(),i=!0;i||!this.overridePageViewDuration&&isNaN(g)||(this.appInsights.sendPageViewInternal(c,d,isNaN(g)?j:g,e,f),this.appInsights.flush(),i=!0);var l=6e4;if(!b.PageViewPerformance.isPerformanceTimingSupported())return void a._InternalLogging.throwInternal(a.LoggingSeverity.WARNING,a._InternalMessageId.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var m=setInterval(function(){try{if(b.PageViewPerformance.isPerformanceTimingDataReady()){clearInterval(m);var g=new b.PageViewPerformance(c,d,null,e,f);g.getIsValid()||i?(i||h.appInsights.sendPageViewInternal(c,d,g.getDurationMs(),e,f),h.pageViewPerformanceSent||(h.appInsights.sendPageViewPerformanceInternal(g),h.pageViewPerformanceSent=!0),h.appInsights.flush()):(h.appInsights.sendPageViewInternal(c,d,j,e,f),h.appInsights.flush())}else b.PageViewPerformance.getDuration(k,+new Date)>l&&(clearInterval(m),i||(h.appInsights.sendPageViewInternal(c,d,l,e,f),h.appInsights.flush()))}catch(n){a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+a.Util.getExceptionName(n),{exception:a.Util.dump(n)})}},100)},c}();b.PageViewManager=c}(b=a.Telemetry||(a.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function b(a){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=a}return b.prototype.trackPreviousPageVisit=function(b,c){try{var d=this.restartPageVisitTimer(b,c);d&&this.pageVisitTimeTrackingHandler(d.pageName,d.pageUrl,d.pageVisitTime)}catch(e){a._InternalLogging.warnToConsole("Auto track page visit time failed, metric will not be collected: "+a.Util.dump(e))}},b.prototype.restartPageVisitTimer=function(b,c){try{var d=this.stopPageVisitTimer();return this.startPageVisitTimer(b,c),d}catch(e){return a._InternalLogging.warnToConsole("Call to restart failed: "+a.Util.dump(e)),null}},b.prototype.startPageVisitTimer=function(b,c){try{if(a.Util.canUseSessionStorage()){if(null!=a.Util.getSessionStorage(this.prevPageVisitDataKeyName))throw new Error("Cannot call startPageVisit consecutively without first calling stopPageVisit");var e=new d(b,c),f=JSON.stringify(e);a.Util.setSessionStorage(this.prevPageVisitDataKeyName,f)}}catch(g){a._InternalLogging.warnToConsole("Call to start failed: "+a.Util.dump(g))}},b.prototype.stopPageVisitTimer=function(){try{if(a.Util.canUseSessionStorage()){var b=Date.now(),c=a.Util.getSessionStorage(this.prevPageVisitDataKeyName);if(c){var d=JSON.parse(c);return d.pageVisitTime=b-d.pageVisitStartTime,a.Util.removeSessionStorage(this.prevPageVisitDataKeyName),d}return null}return null}catch(e){return a._InternalLogging.warnToConsole("Stop page visit timer failed: "+a.Util.dump(e)),null}},b}();b.PageVisitTimeManager=c;var d=function(){function a(a,b){this.pageVisitStartTime=Date.now(),this.pageName=a,this.pageUrl=b}return a}();b.PageVisitData=d}(b=a.Telemetry||(a.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var AI;!function(a){"use strict";var b;!function(a){a[a.SQL=0]="SQL",a[a.Http=1]="Http",a[a.Other=2]="Other"}(b=a.DependencyKind||(a.DependencyKind={}))}(AI||(AI={}));var AI;!function(a){"use strict";var b;!function(a){a[a.Undefined=0]="Undefined",a[a.Aic=1]="Aic",a[a.Apmc=2]="Apmc"}(b=a.DependencySourceType||(a.DependencySourceType={}))}(AI||(AI={}));var AI;!function(a){"use strict";var b=function(b){function c(){var c=b.call(this)||this;return c.ver=2,c.kind=a.DataPointType.Aggregation,c.dependencyKind=a.DependencyKind.Other,c.success=!0,c.dependencySource=a.DependencySourceType.Apmc,c.properties={},c.measurements={},c=b.call(this)||this}return __extends(c,b),c}(Microsoft.Telemetry.Domain);a.RemoteDependencyData=b}(AI||(AI={}));var Microsoft;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(c){function d(d,e,f,g,h,i,j,k,l){var m=c.call(this)||this;if(m.aiDataContract={id:a.FieldType.Required,ver:a.FieldType.Required,name:a.FieldType.Default,resultCode:a.FieldType.Default,duration:a.FieldType.Default,success:a.FieldType.Default,data:a.FieldType.Default,target:a.FieldType.Default,type:a.FieldType.Default,properties:a.FieldType.Default,measurements:a.FieldType.Default,kind:a.FieldType.Default,value:a.FieldType.Default,count:a.FieldType.Default,min:a.FieldType.Default,max:a.FieldType.Default,stdDev:a.FieldType.Default,dependencyKind:a.FieldType.Default,async:a.FieldType.Default,dependencySource:a.FieldType.Default,commandName:a.FieldType.Default,dependencyTypeName:a.FieldType.Default},m.id=d,m.duration=a.Util.msToTimeSpan(g),m.success=h,m.resultCode=i+"",m.dependencyKind=AI.DependencyKind.Http,m.type="Ajax",m.data=b.Common.DataSanitizer.sanitizeUrl(f),e&&e.length>0){var n=a.UrlHelper.parseUrl(e);if(m.target=n.host,null!=n.pathname){var o=0===n.pathname.length?"/":n.pathname;"/"!==o.charAt(0)&&(o="/"+o),m.name=b.Common.DataSanitizer.sanitizeString(j?j+" "+o:o)}else m.name=b.Common.DataSanitizer.sanitizeString(e)}else m.target=f,m.name=f;return m.properties=a.Telemetry.Common.DataSanitizer.sanitizeProperties(k),m.measurements=a.Telemetry.Common.DataSanitizer.sanitizeMeasurements(l),m}return __extends(d,c),d.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",d.dataType="RemoteDependencyData",d}(AI.RemoteDependencyData);b.RemoteDependencyData=c}(b=a.Telemetry||(a.Telemetry={}))}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){"use strict";var b=function(){function b(){this.hashCodeGeneragor=new a.HashCodeScoreGenerator}return b.prototype.isEnabled=function(a,b){return this.hashCodeGeneragor.getHashCodeScore(a)<b},b}();a.SplitTest=b}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(b){"use strict";b.Version="1.0.14";var c=function(){function c(e){var f=this;this._trackAjaxAttempts=0,this.config=e||{};var g=c.defaultConfig;if(void 0!==g)for(var h in g)void 0===this.config[h]&&(this.config[h]=g[h]);b._InternalLogging.verboseLogging=function(){return f.config.verboseLogging},b._InternalLogging.enableDebugExceptions=function(){return f.config.enableDebug};var i={instrumentationKey:function(){return f.config.instrumentationKey},accountId:function(){return f.config.accountId},sessionRenewalMs:function(){return f.config.sessionRenewalMs},sessionExpirationMs:function(){return f.config.sessionExpirationMs},endpointUrl:function(){return f.config.endpointUrl},emitLineDelimitedJson:function(){return f.config.emitLineDelimitedJson},maxBatchSizeInBytes:function(){return!f.config.isBeaconApiDisabled&&b.Util.IsBeaconApiSupported()?Math.min(f.config.maxBatchSizeInBytes,b.Sender.MaxBeaconPayloadSize):f.config.maxBatchSizeInBytes},maxBatchInterval:function(){return f.config.maxBatchInterval},disableTelemetry:function(){return f.config.disableTelemetry},sampleRate:function(){return f.config.samplingPercentage},cookieDomain:function(){return f.config.cookieDomain},enableSessionStorageBuffer:function(){return(f.config.isBeaconApiDisabled||!b.Util.IsBeaconApiSupported())&&f.config.enableSessionStorageBuffer},isRetryDisabled:function(){return f.config.isRetryDisabled},isBeaconApiDisabled:function(){return f.config.isBeaconApiDisabled},sdkExtension:function(){return f.config.sdkExtension},isBrowserLinkTrackingEnabled:function(){return f.config.isBrowserLinkTrackingEnabled}};this.config.isCookieUseDisabled&&b.Util.disableCookies(),this.config.isStorageUseDisabled&&b.Util.disableStorage(),this.context=new b.TelemetryContext(i),this._pageViewManager=new a.ApplicationInsights.Telemetry.PageViewManager(this,this.config.overridePageViewDuration),this._eventTracking=new d("trackEvent"),this._eventTracking.action=function(a,c,d,e,g){g?isNaN(g.duration)&&(g.duration=d):g={duration:d};var h=new b.Telemetry.Event(a,e,g),i=new b.Telemetry.Common.Data(b.Telemetry.Event.dataType,h),j=new b.Telemetry.Common.Envelope(i,b.Telemetry.Event.envelopeType);f.context.track(j)},this._pageTracking=new d("trackPageView"),this._pageTracking.action=function(a,b,c,d,e){f.sendPageViewInternal(a,b,c,d,e)},this._pageVisitTimeManager=new b.Telemetry.PageVisitTimeManager(function(a,b,c){return f.trackPageVisitTime(a,b,c)}),this.config.disableAjaxTracking||(this._ajaxMonitor=new a.ApplicationInsights.AjaxMonitor(this))}return c.prototype.sendPageViewInternal=function(a,c,d,e,f){var g=new b.Telemetry.PageView(a,c,d,e,f),h=new b.Telemetry.Common.Data(b.Telemetry.PageView.dataType,g),i=new b.Telemetry.Common.Envelope(h,b.Telemetry.PageView.envelopeType);this.context.track(i),this._trackAjaxAttempts=0},c.prototype.sendPageViewPerformanceInternal=function(a){var c=new b.Telemetry.Common.Data(b.Telemetry.PageViewPerformance.dataType,a),d=new b.Telemetry.Common.Envelope(c,b.Telemetry.PageViewPerformance.envelopeType);this.context.track(d)},c.prototype.startTrackPage=function(a){try{"string"!=typeof a&&(a=window.document&&window.document.title||""),this._pageTracking.start(a)}catch(c){b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+b.Util.getExceptionName(c),{exception:b.Util.dump(c)})}},c.prototype.stopTrackPage=function(a,c,d,e){try{"string"!=typeof a&&(a=window.document&&window.document.title||""),"string"!=typeof c&&(c=window.location&&window.location.href||""),this._pageTracking.stop(a,c,d,e),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(a,c)}catch(f){b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+b.Util.getExceptionName(f),{exception:b.Util.dump(f)})}},c.prototype.trackPageView=function(a,c,d,e,f){try{this._pageViewManager.trackPageView(a,c,d,e,f),this.config.autoTrackPageVisitTime&&this._pageVisitTimeManager.trackPreviousPageVisit(a,c)}catch(g){b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.TrackPVFailed,"trackPageView failed, page view will not be collected: "+b.Util.getExceptionName(g),{exception:b.Util.dump(g)})}},c.prototype.startTrackEvent=function(a){try{this._eventTracking.start(a)}catch(c){b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+b.Util.getExceptionName(c),{exception:b.Util.dump(c)})}},c.prototype.stopTrackEvent=function(a,c,d){try{this._eventTracking.stop(a,void 0,c,d)}catch(e){b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+b.Util.getExceptionName(e),{exception:b.Util.dump(e)})}},c.prototype.trackEvent=function(a,c,d){try{var e=new b.Telemetry.Event(a,c,d),f=new b.Telemetry.Common.Data(b.Telemetry.Event.dataType,e),g=new b.Telemetry.Common.Envelope(f,b.Telemetry.Event.envelopeType);this.context.track(g)}catch(h){b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.TrackEventFailed,"trackEvent failed, event will not be collected: "+b.Util.getExceptionName(h),{exception:b.Util.dump(h)})}},c.prototype.trackDependency=function(a,c,d,e,f,g,h,i,j){if(this.config.maxAjaxCallsPerView===-1||this._trackAjaxAttempts<this.config.maxAjaxCallsPerView){var k=new b.Telemetry.RemoteDependencyData(a,d,e,f,g,h,c,i,j),l=new b.Telemetry.Common.Data(b.Telemetry.RemoteDependencyData.dataType,k),m=new b.Telemetry.Common.Envelope(l,b.Telemetry.RemoteDependencyData.envelopeType);this.context.track(m)}else this._trackAjaxAttempts===this.config.maxAjaxCallsPerView&&b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++this._trackAjaxAttempts},c.prototype.trackAjax=function(a,b,c,d,e,f,g){this.trackDependency(a,null,b,c,d,e,f)},c.prototype.trackException=function(a,c,d,e,f){try{if(!b.Util.isError(a))try{throw new Error(a)}catch(g){a=g}var h=new b.Telemetry.Exception(a,c,d,e,f),i=new b.Telemetry.Common.Data(b.Telemetry.Exception.dataType,h),j=new b.Telemetry.Common.Envelope(i,b.Telemetry.Exception.envelopeType);this.context.track(j)}catch(k){b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.TrackExceptionFailed,"trackException failed, exception will not be collected: "+b.Util.getExceptionName(k),{exception:b.Util.dump(k)})}},c.prototype.trackMetric=function(a,c,d,e,f,g){try{var h=new b.Telemetry.Metric(a,c,d,e,f,g),i=new b.Telemetry.Common.Data(b.Telemetry.Metric.dataType,h),j=new b.Telemetry.Common.Envelope(i,b.Telemetry.Metric.envelopeType);this.context.track(j)}catch(k){b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+b.Util.getExceptionName(k),{exception:b.Util.dump(k)})}},c.prototype.trackTrace=function(a,c,d){try{var e=new b.Telemetry.Trace(a,c,d),f=new b.Telemetry.Common.Data(b.Telemetry.Trace.dataType,e),g=new b.Telemetry.Common.Envelope(f,b.Telemetry.Trace.envelopeType);this.context.track(g)}catch(h){b._InternalLogging.throwInternal(b.LoggingSeverity.WARNING,b._InternalMessageId.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+b.Util.getExceptionName(h),{exception:b.Util.dump(h)})}},c.prototype.trackPageVisitTime=function(a,b,c){var d={PageName:a,PageUrl:b};this.trackMetric("PageVisitTime",c,1,c,c,d)},c.prototype.flush=function(a){void 0===a&&(a=!0);try{this.context._sender.triggerSend(a)}catch(c){b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.FlushFailed,"flush failed, telemetry will not be collected: "+b.Util.getExceptionName(c),{exception:b.Util.dump(c)})}},c.prototype.setAuthenticatedUserContext=function(a,c,d){void 0===d&&(d=!1);try{this.context.user.setAuthenticatedUserContext(a,c,d)}catch(e){b._InternalLogging.throwInternal(b.LoggingSeverity.WARNING,b._InternalMessageId.SetAuthContextFailed,"Setting auth user context failed. "+b.Util.getExceptionName(e),{exception:b.Util.dump(e)},!0)}},c.prototype.clearAuthenticatedUserContext=function(){try{this.context.user.clearAuthenticatedUserContext()}catch(a){b._InternalLogging.throwInternal(b.LoggingSeverity.WARNING,b._InternalMessageId.SetAuthContextFailed,"Clearing auth user context failed. "+b.Util.getExceptionName(a),{exception:b.Util.dump(a)},!0)}},c.prototype.SendCORSException=function(c){var d=a.ApplicationInsights.Telemetry.Exception.CreateSimpleException("Script error.","Error","unknown","unknown","The browser's same-origin policy prevents us from getting the details of this exception. Consider using 'crossorigin' attribute.",0,null);d.properties=c;var e=new b.Telemetry.Common.Data(b.Telemetry.Exception.dataType,d),f=new b.Telemetry.Common.Envelope(e,b.Telemetry.Exception.envelopeType);this.context.track(f)},c.prototype._onerror=function(a,c,d,e,f){try{var g={url:c?c:document.URL};if(b.Util.isCrossOriginError(a,c,d,e,f))this.SendCORSException(g);else{if(!b.Util.isError(f)){var h="window.onerror@"+g.url+":"+d+":"+(e||0);f=new Error(a),f.stack=h}this.trackException(f,null,g)}}catch(i){var j=f?f.name+", "+f.message:"null",k=b.Util.dump(i);b._InternalLogging.throwInternal(b.LoggingSeverity.CRITICAL,b._InternalMessageId.ExceptionWhileLoggingError,"_onerror threw exception while logging error, error will not be collected: "+b.Util.getExceptionName(i),{exception:k,errorString:j})}},c}();b.AppInsights=c;var d=function(){function a(a){this._name=a,this._events={}}return a.prototype.start=function(a){"undefined"!=typeof this._events[a]&&b._InternalLogging.throwInternal(b.LoggingSeverity.WARNING,b._InternalMessageId.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:this._name,key:a},!0),this._events[a]=+new Date},a.prototype.stop=function(a,c,d,e){var f=this._events[a];if(isNaN(f))b._InternalLogging.throwInternal(b.LoggingSeverity.WARNING,b._InternalMessageId.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:this._name,key:a},!0);else{var g=+new Date,h=b.Telemetry.PageViewPerformance.getDuration(f,g);this.action(a,c,h,d,e)}delete this._events[a],this._events[a]=void 0},a}()}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(a){"use strict";var b=function(){function b(){}return b.reset=function(){b.isEnabled()&&(a.Util.setSessionStorage(b.ITEMS_QUEUED_KEY,"0"),a.Util.setSessionStorage(b.ISSUES_REPORTED_KEY,"0"),b.itemsRestoredFromSessionBuffer=0)},b.isEnabled=function(){return b.enabled&&null!=b.appInsights&&b.appInsights.context._sender._XMLHttpRequestSupported&&a.Util.canUseSessionStorage()},b.getIssuesReported=function(){var c=!b.isEnabled()||isNaN(+a.Util.getSessionStorage(b.ISSUES_REPORTED_KEY))?0:+a.Util.getSessionStorage(b.ISSUES_REPORTED_KEY);return c},b.incrementItemsQueued=function(){try{if(b.isEnabled()){var c=b.getNumberOfLostItems();++c,a.Util.setSessionStorage(b.ITEMS_QUEUED_KEY,c.toString())}}catch(d){}},b.decrementItemsQueued=function(c){try{if(b.isEnabled()){var d=b.getNumberOfLostItems();d-=c,d<0&&(d=0),a.Util.setSessionStorage(b.ITEMS_QUEUED_KEY,d.toString())}}catch(e){}},b.getNumberOfLostItems=function(){var c=0;try{b.isEnabled()&&(c=isNaN(+a.Util.getSessionStorage(b.ITEMS_QUEUED_KEY))?0:+a.Util.getSessionStorage(b.ITEMS_QUEUED_KEY))}catch(d){c=0}return c},b.reportLostItems=function(){try{if(b.isEnabled()&&b.getIssuesReported()<b.LIMIT_PER_SESSION&&b.getNumberOfLostItems()>0){var c=b.getNumberOfLostItems()-b.itemsRestoredFromSessionBuffer;b.appInsights.trackTrace('AI (Internal): Internal report DATALOSS:"'+c+'"',null),b.appInsights.flush();var d=b.getIssuesReported();++d,a.Util.setSessionStorage(b.ISSUES_REPORTED_KEY,d.toString())}}catch(e){a._InternalLogging.throwInternal(a.LoggingSeverity.CRITICAL,a._InternalMessageId.FailedToReportDataLoss,"Failed to report data loss: "+a.Util.getExceptionName(e),{exception:a.Util.dump(e)})}finally{try{b.reset()}catch(e){}}},b.enabled=!1,b.itemsRestoredFromSessionBuffer=0,b.LIMIT_PER_SESSION=10,b.ITEMS_QUEUED_KEY="AI_itemsQueued",b.ISSUES_REPORTED_KEY="AI_lossIssuesReported",b}();a.DataLossAnalyzer=b}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(b){"use strict";var c=function(){function c(b){b.queue=b.queue||[];var d=b.config||{};if(d&&!d.instrumentationKey)if(d=b,d.iKey)a.ApplicationInsights.Version="0.10.0.0",d.instrumentationKey=d.iKey;else{if(!d.applicationInsightsId)throw new Error("Cannot load Application Insights SDK, no instrumentationKey was provided.");a.ApplicationInsights.Version="0.7.2.0",d.instrumentationKey=d.applicationInsightsId}d=c.getDefaultConfig(d),this.snippet=b,this.config=d}return c.prototype.loadAppInsights=function(){var b=new a.ApplicationInsights.AppInsights(this.config);if(this.config.iKey){var c=b.trackPageView;b.trackPageView=function(a,d,e){c.apply(b,[null,a,d,e])}}var d="logPageView";"function"==typeof this.snippet[d]&&(b[d]=function(a,c,d){b.trackPageView(null,a,c,d)});var e="logEvent";return"function"==typeof this.snippet[e]&&(b[e]=function(a,c,d){b.trackEvent(a,c,d)}),b},c.prototype.emptyQueue=function(){try{if(a.ApplicationInsights.Util.isArray(this.snippet.queue)){for(var c=this.snippet.queue.length,d=0;d<c;d++){var e=this.snippet.queue[d];e()}this.snippet.queue=void 0,delete this.snippet.queue}}catch(f){var g={};f&&"function"==typeof f.toString&&(g.exception=f.toString()),a.ApplicationInsights._InternalLogging.throwInternal(b.LoggingSeverity.WARNING,b._InternalMessageId.FailedToSendQueuedTelemetry,"Failed to send queued telemetry",g)}},c.prototype.pollInteralLogs=function(b){return setInterval(function(){for(var c=a.ApplicationInsights._InternalLogging.queue,d=c.length,e=0;e<d;e++)b.trackTrace(c[e].message);c.length=0},this.config.diagnosticLogInterval)},c.prototype.addHousekeepingBeforeUnload=function(b){if(!b.config.disableFlushOnBeforeUnload&&"onbeforeunload"in window){var c=function(){b.context._sender.triggerSend(),b.context._sessionManager.backup()};a.ApplicationInsights.Util.addEventHandler("beforeunload",c)||a.ApplicationInsights._InternalLogging.throwInternal(a.ApplicationInsights.LoggingSeverity.CRITICAL,a.ApplicationInsights._InternalMessageId.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload")}},c.getDefaultConfig=function(a){return a||(a={}),a.endpointUrl=a.endpointUrl||"https://dc.services.visualstudio.com/v2/track",a.sessionRenewalMs=18e5,a.sessionExpirationMs=864e5,a.maxBatchSizeInBytes=a.maxBatchSizeInBytes>0?a.maxBatchSizeInBytes:102400,a.maxBatchInterval=isNaN(a.maxBatchInterval)?15e3:a.maxBatchInterval,a.enableDebug=b.Util.stringToBoolOrDefault(a.enableDebug),a.disableExceptionTracking=b.Util.stringToBoolOrDefault(a.disableExceptionTracking),
a.disableTelemetry=b.Util.stringToBoolOrDefault(a.disableTelemetry),a.verboseLogging=b.Util.stringToBoolOrDefault(a.verboseLogging),a.emitLineDelimitedJson=b.Util.stringToBoolOrDefault(a.emitLineDelimitedJson),a.diagnosticLogInterval=a.diagnosticLogInterval||1e4,a.autoTrackPageVisitTime=b.Util.stringToBoolOrDefault(a.autoTrackPageVisitTime),(isNaN(a.samplingPercentage)||a.samplingPercentage<=0||a.samplingPercentage>=100)&&(a.samplingPercentage=100),a.disableAjaxTracking=b.Util.stringToBoolOrDefault(a.disableAjaxTracking),a.maxAjaxCallsPerView=isNaN(a.maxAjaxCallsPerView)?500:a.maxAjaxCallsPerView,a.isBeaconApiDisabled=b.Util.stringToBoolOrDefault(a.isBeaconApiDisabled,!0),a.disableCorrelationHeaders=b.Util.stringToBoolOrDefault(a.disableCorrelationHeaders),a.disableFlushOnBeforeUnload=b.Util.stringToBoolOrDefault(a.disableFlushOnBeforeUnload),a.enableSessionStorageBuffer=b.Util.stringToBoolOrDefault(a.enableSessionStorageBuffer,!0),a.isRetryDisabled=b.Util.stringToBoolOrDefault(a.isRetryDisabled),a.isCookieUseDisabled=b.Util.stringToBoolOrDefault(a.isCookieUseDisabled),a.isStorageUseDisabled=b.Util.stringToBoolOrDefault(a.isStorageUseDisabled),a.isBrowserLinkTrackingEnabled=b.Util.stringToBoolOrDefault(a.isBrowserLinkTrackingEnabled),a},c}();b.Initialization=c}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={}));var Microsoft;!function(a){var b;!function(b){"use strict";try{if("undefined"!=typeof window&&"undefined"!=typeof JSON){var c="appInsights";if(void 0===window[c])a.ApplicationInsights.AppInsights.defaultConfig=a.ApplicationInsights.Initialization.getDefaultConfig();else{var d=window[c]||{},e=new a.ApplicationInsights.Initialization(d),f=e.loadAppInsights();for(var g in f)d[g]=f[g];e.emptyQueue(),e.pollInteralLogs(f),e.addHousekeepingBeforeUnload(f)}}}catch(h){a.ApplicationInsights._InternalLogging.warnToConsole("Failed to initialize AppInsights JS SDK: "+h.message)}}(b=a.ApplicationInsights||(a.ApplicationInsights={}))}(Microsoft||(Microsoft={})),function(){"use strict";angular.module("ep.telemetry").provider("epTelemetryConfig",function(){var a={instrumentationKey:"",autoStartTelemetry:!1,disableTelemetry:!0,trackPageViews:!0,trackRouteChanges:!0,enableDebug:!1,verboseLogging:!1,censorUrls:!1,samplingPercentage:!1,diagnosticLogInterval:10,disableExceptionTracking:!1,disableAjaxTracking:!1,maxAjaxCallsPerView:-1,customProperties:{}};this.$get=["$log","$q","epSysConfig",function(b,c,d){return d.mergeSection("ep.telemetry",a),a.api={},a.api.initialize=function(){var d=c.defer(),e={config:{instrumentationKey:a.instrumentationKey,disableTelemetry:a.disableTelemetry,enableDebug:a.enableDebug,verboseLogging:a.verboseLogging,samplingPercentage:a.samplingPercentage,diagnosticLogInterval:a.diagnosticLogInterval,disableExceptionTracking:a.disableExceptionTracking,disableAjaxTracking:a.disableAjaxTracking,maxAjaxCallsPerView:a.maxAjaxCallsPerView}};try{var f=new Microsoft.ApplicationInsights.Initialization(e),g=f.loadAppInsights();window.appInsights=g,g.context.addTelemetryInitializer(function(b){var c=b.data.baseData;b.name===Microsoft.ApplicationInsights.Telemetry.PageView.envelopeType&&a.censorUrls&&(c.url="URL CENSORED"),c.properties=c.properties||a.customProperties}),a.trackPageViews&&g.trackPageView(),d.resolve()}catch(h){b.error(h),d.reject()}return d.promise},a.autoStartTelemetry===!0&&a.api.initialize(),a}]})}(),function(){"use strict";function a(a,b,c){function d(){return c.api.initialize()}function e(a,c,d){if(window.appInsights)try{window.appInsights.accountId=a,window.appInsights.setAuthenticatedUserContext(c,a,!0),window.appInsights.context.application.ver=d}catch(e){b.error(e)}}function f(a,c){if(window.appInsights)try{window.appInsights.trackPageView(a,"",c)}catch(d){b.error(d)}}function g(a,c,d){if(window.appInsights)try{window.appInsights.trackEvent(a,c,d)}catch(e){b.error(e)}}function h(a,c,d){if(window.appInsights)try{window.appInsights.trackEvent(a,c,1,1,1,d)}catch(e){b.error(e)}}return c.trackRouteChanges&&a.$on("$routeChangeStart",function(a,b){var c=window.appInsights.accountId?window.appInsights.accountId:"";f(b.$$route.originalPath,{"Account Id":c})}),{initialize:d,setContext:e,trackPageView:f,trackEvent:g,trackMetric:h}}a.$inject=["$rootScope","$log","epTelemetryConfig"],angular.module("ep.telemetry").service("epTelemetryService",a)}(),function(){"use strict";angular.module("ep.theme").provider("epThemeConfig",function(){var a=[{name:"bootstrap",cssFilename:"bootstrap.min.css"},{name:"cerulum",cssFilename:"cerulum.min.css"},{name:"cosmo",cssFilename:"cosmo.min.css"},{name:"cyborg",cssFilename:"cyborg.min.css"},{name:"darkly",cssFilename:"darkly.min.css"},{name:"epicormobile",cssFilename:"epicormobile.min.css"},{name:"flatly",cssFilename:"flatly.min.css"},{name:"journal",cssFilename:"journal.min.css"},{name:"paper",cssFilename:"paper.min.css"},{name:"sandstone",cssFilename:"sandstone.min.css"},{name:"slate",cssFilename:"slate.min.css"},{name:"spacelab",cssFilename:"spacelab.min.css"},{name:"superhero",cssFilename:"superhero.min.css"},{name:"united",cssFilename:"united.min.css"},{name:"yeti",cssFilename:"yeti.min.css"}],b={id:"",disableTheming:!1,defaultPath:"",customPath:"",themes:[{name:"bootstrap",cssFilename:"bootstrap.min.css"},{name:"flatly",cssFilename:"flatly.min.css"}],appendThemes:[],defaultTheme:"flatly",persist:!0,provider:""};this.$get=["epSysConfig","epApplicationConfig",function(c,d){var e=c.mergeSection("ep.theme",b);return"emf"===b.defaultPath&&(b.defaultPath=d.getAssetsPath("shell","ep.theme/themes"),(!angular.isArray(e.themes)||e.themes.length<1)&&(b.themes=a)),b.appendThemes&&angular.isArray(b.appendThemes)&&angular.forEach(b.appendThemes,function(a){var c=_.find(b.themes,function(b){return b.name===a.name});c?c.cssFilename=a.cssFilename||c.cssFilename:b.themes.push(a)}),b}]})}(),function(){"use strict";angular.module("ep.theme").directive("epThemeHref",["$log","$rootScope","epThemeService","epThemeConstants",function(a,b,c,d){function e(a,b){var d,e="";if(c.disableTheming()!==!0&&(d=c.theme(),d&&(e=d.cssPath)),a.href!==e){var f=$("body");if(f.length&&f.attr("class"))for(var g=f.attr("class").split(/\s+/),h=0;h<g.length;h++)0===g[h].indexOf("ep_theme_")&&f.removeClass(g[h]);if(f.length&&f.addClass("ep_theme_"+d.name),a.$set("href",e),angular.element("#epThemeCustomHref").remove(),d){var i=c.getCustomThemeCss(d);if(i){var j=angular.element('<link id="epThemeCustomHref" rel="stylesheet" type="text/css" href="'+i+'" />');j.insertAfter(b)}}}}return{restrict:"A",scope:{},link:function(f,g,h){"LINK"===g[0].tagName?(c.initialize(!1).then(function(){e(h,g)}),b.$on(d.THEME_CHANGE_EVENT,function(){e(h,g)}),b.$on(d.STATE_CHANGE_EVENT,function(){e(h,g)})):a.warn("ep-theme-href can only be used on an <link> tag")}}}])}(),function(){"use strict";angular.module("ep.theme").constant("epThemeConstants",{THEME_CHANGE_EVENT:"EP_THEME_CHANGE_EVENT",STATE_CHANGE_EVENT:"EP_THEME_STATE_CHANGE_EVENT"})}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(c,e){if((!x||c)&&d.disableTheming!==!0){x=!0;var h=f.get(u),i=d.provider;if(i&&"sysconfig"!==i&&e!==!0)try{var j=g.getService(i),l=a.when(j.getThemes(c));return l.then(function(a){a&&0!==a.length?(y||(y=!0,s(a)),w=a,p(),k(t()?h:v)):x=!1}),l}catch(m){b.warn("Custom themes provider not found or failed: "+i)}p(),k(t()?h:v)}var n=a.defer();return n.resolve(w),n.promise}function i(){return w}function j(a){return _.find(w,function(b){return b.name===a})}function k(a){if(a){var b=v,d=angular.isObject(a)?a.name:a;d&&(v=_.find(w,function(a){return a.name.toLowerCase()===d.toLowerCase()})),v||(v=b,v||(v=_.find(w,function(a){return"bootstrap"===a.name}))),!v||b&&b.name===v.name||c.$emit(e.THEME_CHANGE_EVENT,v),t()&&f.update(u,v)}return v}function l(){return z}function m(){k(z)}function n(a){return void 0!==a&&(a===!0&&d.disableTheming===!0&&(d.disableTheming=!1,h()),d.disableTheming!==a&&(d.disableTheming=a,c.$emit(e.STATE_CHANGE_EVENT,a))),d.disableTheming===!0}function o(a){if(d.customPath){var b=angular.isObject(a)?a.name:a,c=j(b);if(c){var e=c.cssFilename.replace(".css",".custom.css");return q(d.customPath,e)}}return""}function p(){angular.forEach(w,function(a){r(a)})}function q(a,b){var c="",d=a;return d&&b?(d=d.trim(),d.lastIndexOf("/")===d.length-1&&(d=d.substr(0,d.length-1)),c=d+"/"+b):c=b,c}function r(a){a.cssPath=q(d.defaultPath,a.cssFilename)}function s(a){u=(d.id||"emf")+".theme.current",w=a&&a.length?a:d.themes,w.length>1&&(v=_.find(w,function(a){return a.name.toLowerCase()===d.defaultTheme.toLowerCase()})),z={},v?angular.copy(v,z):v=w[0],t()&&(v=f.getOrAdd(u,z)),!v&&z&&z.name&&(v=z),p(),v&&r(v)}function t(){return w.length>1&&d.persist}var u,v,w,x,y,z;return s(),{initialize:h,getThemes:i,getTheme:j,theme:k,reset:m,defaultTheme:l,disableTheming:n,getCustomThemeCss:o}}a.$inject=["$q","$log","$rootScope","epThemeConfig","epThemeConstants","epLocalStorageService","epUtilsService"],angular.module("ep.theme").service("epThemeService",a)}(),function(){"use strict";angular.module("ep.tile").provider("epTileConfig",function(){var a={bingTile:{bingImageArchiveUrl:"http://www.bing.com/HPImageArchive.aspx?format=rss&idx=0&mkt=en-US",bingProxyUrl:"//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=50&callback=JSON_CALLBACK&q=",bingNumberOfImages:5,liveSettings:{dataDelay:7e3,dataDirection:"horizontal",dataMode:"carousel"}},imageTile:{liveSettings:{dataDelay:5e3,dataDirection:"vertical",dataMode:"carousel"}}};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.tile",a),a}]})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h){function i(a){var b=d.defer(),g=h.getAssetsPath("shell","ep.tile/bing"),i=function(a){e.error("Error parsing retrieving bing images: "+a);for(var c={images:[]},d=1;d<6;d++)c.images.push({src:g+d+".jpg",title:"Bing Image of the day (offline)"});b.resolve(c)};try{var j=f.bingTile.bingImageArchiveUrl+"&n="+a;c.jsonp(f.bingTile.bingProxyUrl+encodeURIComponent(j)).success(function(a){if(a&&a.responseData&&a.responseData.feed&&a.responseData.feed.entries&&a.responseData.feed.entries.length){var c={images:[]};angular.forEach(a.responseData.feed.entries,function(a){c.images.push({src:"http://www.bing.com"+a.link,title:a.title})}),b.resolve(c)}else{var d="unknown response failure";a&&a.responseStatus&&(d="status - "+a.responseStatus),a&&a.responseDetails&&(d+=" "+a.responseDetails),i(d)}}).error(function(a,b){i("$http status - "+b)})}catch(k){i(k.message)}return b.promise}function j(a,b){var c="",d=["half","one","two","three","four","five","six","seven","eight","nine","ten"];if(angular.isNumber(a)){var e=-1;a>=0&&a<1?e=0:a>=1&&a<=10&&(e=Math.round(a)),e!==-1&&(c=" "+d[e]+b)}return c}function k(b){if(b){var c=0;angular.forEach(b,function(b){a.state.images.push({src:b.src,title:b.title||a.tile.footer,index:c,data:b}),c++})}}a.initializeTile=function(){var c=!1,d=a.tile;if(!d)return void e.error("tile object must be defined for ep.tile directive");var h=void 0!==d.width?d.width:a.width,l=void 0!==d.height?d.height:a.height;a.state.tileClass="",a.state.images=[],"custom"===d.type?a.state.templateOptions=d.templateOptions:"image"===d.type||"bing"===d.type?(c=!0,void 0===h&&(h="image"===d.type?2:3),void 0===l&&(l=2),a.state.templateUrl="src/components/ep.tile/ep-tile-templates/ep-tile-image.html",a.state.liveSettings="bing"===d.type?f.bingTile.liveSettings:f.imageTile.liveSettings,d.liveSettings&&g.copyProperties(d.liveSettings,a.state.liveSettings),"bing"===d.type?i(f.bingTile.bingNumberOfImages).then(function(a){k(a.images)}):(d.liveSettings&&g.copyProperties(),k(d.images))):(void 0===h&&(h=2),a.state.templateUrl="src/components/ep.tile/ep-tile-templates/ep-tile-menu.html"),c&&d.isLive!==!1&&(a.state.optionsClass+="ep-live-tile"),d.tileClass&&(a.state.tileClass+=" "+d.tileClass),a.state.tileClass+=j(h,"-wide"),a.state.tileClass+=j(l,"-tall");var m;d.caption&&(m=d.caption.length,m>30?a.state.optionsClass+=" ep-tile-opt-cap-30":m>15&&(a.state.optionsClass+=" ep-tile-opt-cap-15")),d.description&&(m=d.description.length,m>40?a.state.optionsClass+=" ep-tile-opt-desc-40":m>20&&(a.state.optionsClass+=" ep-tile-opt-desc-20")),d.icon&&(a.state.optionsClass+=" ep-tile-opt-icon"),d.closeButton!==!1&&(a.state.optionsClass+=" ep-tile-opt-close-btn"),a.state.color=d.color||a.color||"",a.state.closeAction=function(a,b){b.stopPropagation(),a.closeAction&&a.closeAction(a,b)},a.state.action=function(b,c){if(b.action){var d,e;if("image"===b.type){var f=angular.element(a.state.tileElement).find(".ha .active img");if(f&&f.length){var g=angular.element(f).attr("image-index");""!==g&&(d=parseInt(g),e=a.state.images[d].data)}}b.action(b,c,d,e)}},b(function(){angular.element(a.state.tileElement).find(".ep-live-tile .live-tile").liveTile()},1e3)},a.$watch("sizeMode",function(b){a.state.sizeMode="container"===b?"ep-tile-size-container":"ep-tile-size-responsive"}),a.$watch("color",function(b,c){b&&b!==c&&(a.tile&&a.tile.color||(a.state.color=b||""))}),a.$watch("tile",function(b,c){b&&b!==c&&a.initializeTile()})}a.$inject=["$scope","$timeout","$http","$q","$log","epTileConfig","epUtilsService","epApplicationConfig"],angular.module("ep.tile").controller("epTileCtrl",a)}(),function(){"use strict";function a(a){return{restrict:"E",controller:"epTileCtrl",templateUrl:"src/components/ep.tile/ep-tile.html",scope:{tile:"=",color:"=",sizeMode:"=",width:"=",height:"=",liveSettings:"="},link:function(b,c){b.state={optionsClass:"",tileElement:c,templateUrl:"",images:[],closeAction:void 0,sizeMode:"ep-tile-size-responsive",color:"",liveSettings:{dataMode:"carousel",dataDirection:"horizontal",dataDelay:"7000"},templateOptions:{}},a(function(){b.initializeTile()})}}}a.$inject=["$timeout"],angular.module("ep.tile").directive("epTile",a)}(),function(){"use strict";function a(a,b,c,d,e,f){function g(a,c){if(b.menuId===c.menuId){b.state.list||(b.state.list=[]);var d=c.factory,e=d.data.favorites;angular.forEach(e,function(a){var c=_.find(b.state.list,function(b){return a===b.menuItem});c||b.state.list.push(b.createItem(d,a))})}}function h(a,c){if(b.menuId===c.menuId){b.state.list||(b.state.list=[]);var d=c.factory,e=d.data.favorites,f=[];angular.forEach(b.state.list,function(a){var b=_.find(e,function(b){return b===a.menuItem});b||f.push(a)}),angular.forEach(f,function(a){var c=_.findIndex(b.state.list,function(b){return b===a});c!==-1&&b.state.list.splice(c,1)})}}b.getFooter=function(a,b){var c="Last Accessed: ",d=a.getItemLastAccess(b);return c+=d?moment(d).calendar():"never"},b.createItem=function(a,c){b.fnCloseAction=function(b){var c=a.findMenuItemById(b.id);c&&a.toggleFavorite(c)};var d=b.getFooter(a,c),e={id:c.id,closeAction:b.fnCloseAction,icon:b.menuIcon||c.icon||"fa fa-dashboard",caption:c.caption,description:c.description,type:"menu",footer:d,menuItem:c,sort:c.caption,color:c.color};return c.tile&&f.copyProperties(c.tile,e),e.action=function(){a.triggerAction(c)},e},b.onMenuChange=function(a,c){if(b.menuId===c.menuId){var d=c.factory,e=[];angular.forEach(d.data.favorites,function(a){e.push(b.createItem(d,a))}),b.state.list=e}},b.onFavoritesChange=function(a,c){b.menuId===c.menuId&&(b.state.list||(b.state.list=[]),h(a,c),g(a,c))},b.onMenuItemClicked=function(a,c){if(b.menuId===c.menuId&&b.state.list&&c.menuItem){var d=c.factory,e=_.find(b.state.list,function(a){return a.id===c.menuItem.id});e&&(e.footer=b.getFooter(d,c.menuItem))}},a.$on(d.MLM_INITIALIZED_EVENT,b.onMenuChange),a.$on(d.MLM_MENU_DATA_CHANGED,b.onMenuChange),a.$on(d.MLM_FAVORITES_ADDED,g),a.$on(d.MLM_FAVORITES_DELETED,h),a.$on(d.MLM_ITEM_CLICKED,b.onMenuItemClicked),b.$watch("menuId",function(a,c){a&&a!==c&&(b.menuFactory=e.getMenuFactory(a),b.menuFactory&&b.$watch(b.menuFactory.data,function(){var a={eventId:d.MLM_MENU_DATA_CHANGED,menuId:b.menuId,factory:b.menuFactory};b.onMenuChange(d.MLM_MENU_DATA_CHANGED,a)}))}),b.prepareBeforeList=function(){var a=[];b.bing&&a.push({id:"bing-image-of-the-day",sort:"__abing",type:"bing",width:b.bingWidth||3,height:b.bingHeight||2}),b.beforeList&&angular.forEach(b.beforeList,function(b){a.push(b)}),b.state.beforeList=a},b.$watch("bing",function(a,c){a!==!0&&a!==!1||a===c||b.prepareBeforeList()}),b.$watch("beforeList",function(a,c){a&&c!==a&&b.prepareBeforeList()}),b.$watch("afterList",function(a){if(a){var c=[];angular.forEach(a,function(a){c.push(a)}),b.state.afterList=c}})}a.$inject=["$rootScope","$scope","$timeout","epMultiLevelMenuConstants","epMultiLevelMenuService","epUtilsService"],angular.module("ep.tiles.panel").controller("epTilesMenuFavoritesCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",controller:"epTilesMenuFavoritesCtrl",template:"<ep-tiles-panel list=state.list before-list=state.beforeList after-list=state.afterList color=color size-mode=sizeMode width=width height=height disable-sort=disableSort></ep-tiles-panel>",scope:{menuId:"=",beforeList:"=",afterList:"=",sizeMode:"=",color:"=",bing:"=",menuIcon:"=",width:"=",height:"=",bingHeight:"=",bingWidth:"=",disableSort:"="},link:function(a,b){a.state={theElement:b,list:[],beforeList:[],afterList:[]},a.prepareBeforeList()}}}angular.module("ep.tiles.panel").directive("epTilesMenuFavorites",a)}(),function(){"use strict";function a(a){function b(a){return a.sort||a.caption}var c=["amber","blue","brown","cobalt","crimson","cyan","magenta","lime","indigo","green","emerald","mango","mauve","olive","orange","pink","red","sienna","steel","teal","violet","yellow"];a.sortList=a.disableSort!==!0?b:void 0,a.initColors=function(){if(a.state.tileColor="","function"==typeof a.color)a.state.tileColor="",a.state.colorFunc=function(b){return a.color(b)};else if("mix"===a.color||"random"===a.color){a.state.tileColor="";var b=_.shuffle(c);a.state.colorIndex=-1,a.state.colorFunc=function(d){return d.color||("random"===a.color?d.color=b[a.state.colorIndex++%c.length]:d.color=c[a.state.colorIndex++%c.length]),""}}else a.color&&angular.isString(a.color)&&(a.state.tileColor=a.color)},a.$watch("color",function(b,c){b&&b!==c&&a.initColors()}),a.$watch("list",function(b,c){b&&b!==c&&a.initColors()}),a.$watch("beforeList",function(b,c){b&&b!==c&&a.initColors()}),a.$watch("afterList",function(b,c){b&&b!==c&&a.initColors()}),a.$watch("disableSort",function(c,d){c!==!0&&c!==!1||c===d||(a.sortList=a.disableSort!==!0?b:void 0)})}a.$inject=["$scope"],angular.module("ep.tiles.panel").controller("epTilesPanelCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",controller:"epTilesPanelCtrl",templateUrl:"src/components/ep.tiles.panel/ep-tiles-panel.html",scope:{list:"=",beforeList:"=",afterList:"=",color:"=",sizeMode:"=",width:"=",height:"=",disableSort:"="},link:function(a,b){a.state={tilePanelElement:b,list:[],beforeList:[],afterList:[],tileColor:"",colorFunc:void 0},a.initColors()}}}angular.module("ep.tiles.panel").directive("epTilesPanel",a)}(),function(){angular.module("ep.token").service("epErpRestService",["$q","$log","$http","$resource","epTokenService",function(a,b,c,d,e){function f(a,b,c,d,e){var f={message:"REST CALL: "+a,kind:"rest",details:{source:b,start:new Date,url:c,query:d,callSettings:e.CallSettings||{}}};return f}function g(a,c){if(t&&a){var d=new Date,e=d.getTime()-a.details.start.getTime();a.details.time=Number((e/1e3).toFixed(2)),a.details=angular.merge(a.details,c),b.debug(a)}}function h(a,c,d){var e=i(d);e&&(a.message=e);var f=new Date,g=f.getTime()-a.details.start.getTime();a.details.time=Number((g/1e3).toFixed(2)),c&&(a.details=angular.merge(a.details,c)),b.error(a),angular.forEach(u,function(b,c){angular.isFunction(b)&&b(c,e,d,a)})}function i(a,b){var c="";return a&&(c=a.ErrorMessage||"",!c&&a["odata.error"]&&(c=a["odata.error"].message.value),!c&&a.statusText&&(c=a.statusText),!c&&a.message&&(c=a.message),!c&&a.data&&angular.isString(a.data)&&(c=a.data),!c&&a.data&&a.data.ErrorMessage&&angular.isString(a.data.ErrorMessage)&&(c=a.data.ErrorMessage)),c||(c=b||"Unkown error in erpRestService"),c}function j(a,b,c){a.headers||(a.headers={});var d=r;if(b&&b.disableToken&&(d=b.disableToken),d!==!0){var e;e||(e="Bearer "+c.token.AccessToken),a.headers.Authorization=e}a.headers["Content-Type"]||(a.headers["Content-Type"]="application/json"),b&&b.headers&&angular.isObject(b.headers)&&angular.forEach(b.headers,function(b,c){a.headers[c]=JSON.stringify(b)})}function k(b){var c=a.defer();return c.resolve([]),b===!0?c.promise:{$promise:c.promise}}function l(a,b){var c=r;return b&&b.disableToken&&(c=b.disableToken),!(!a&&!c)}function m(a,b,c,g,h){var i=e.getToken();if(!l(i,g))return k(!1);var m=b?b:"",n=s+m;if(b){var o=m.toLowerCase();0===o.indexOf("http")?n=m:0===o.indexOf("/api/swagger")&&(n=i.user.serverUrl+m)}var p={method:"GET",headers:{}};return j(p,g,i),h.logEntry=f(m,"ep-rest-service (get)",n,c,p.headers),d(n,c,{get:p})}function n(a,b,d,i){var m=e.getToken();if(!l(m,i))return k(!0);var n=d;d&&!angular.isString(d)&&(n=JSON.stringify(d));var o=s+b,p={method:"POST",dataType:"json",data:n,headers:{Accept:"application/json"},url:o};j(p,i,m);var q=f(b,"ep-rest-service (post)",o,n,p.headers),r=c(p);return r.then(function(a){g(q,{numRecords:a&&a.value?a.value.length:"unknown"})},function(a){h(q,null,a)}),r}function o(a,b){var d=e.getToken();if(!l(d,b))return k(!0);var i=s+a,m={method:"DELETE",dataType:"json",headers:{Accept:"application/json"},url:i};j(m,b,d);var n=f(a,"ep-rest-service (delete)",i,{},m.headers),o=c(m);return o.then(function(a){g(n,{numRecords:a&&a.value?a.value.length:"unknown"})},function(a){h(n,null,a)}),o}function p(a,b,d){var i=e.getToken();if(!l(i,d)||!s)return k(!0);var m=b;b&&!angular.isString(b)&&(m=JSON.stringify(m));var n=s+a,o={method:"PATCH",dataType:"json",data:m,headers:{Accept:"application/json"},url:n};j(o,d,i);var p=f(a,"ep-rest-service (patch)",n,m,o.headers),q=c(o);return q.then(function(a){g(p,{numRecords:a&&a.value?a.value.length:"unknown"})},function(a){return h(p,null,a),!1}),q}function q(a,b){var d=e.getToken();if(!l(d,b))return k(!0);var i=s+a,m={method:"GET",headers:{"Content-Type":"application/xml; charset=utf-8",Accept:"application/xml"},url:i};j(m,b,d);var n=f(a,"ep-rest-service (get-xml)",i,{},m.headers),o=c(m);return o.then(function(a){g(n,{numRecords:a&&a.value?a.value.length:"unknown"})},function(a){return h(n,null,a),!1}),o}var r=!1,s="",t=!0,u={};return{setUrl:function(a){s=a},disableToken:function(a){return void 0===a||a!==!0&&a!==!1||(r=a),r},addErrorHandler:function(a,b){u[a]=b},enableLogs:function(a){t=a},get:function(a,b,c){var d,e={},f=m("GET",a,b,c,e);if(f&&f.get){d=f.get();var i=d.$promise;i.then(function(a){g(e.logEntry,{numRecords:a&&a.value?a.value.length:"unknown"})},function(a){h(e.logEntry,null,a)})}else g(e.logEntry,{numRecords:0}),d=f;return d},post:function(a,b,c){return n("POST",a,b,c)},remove:function(a,b){return o(a,b)},patch:p,getXML:q,getErrorMsg:i}}])}(),function(){"use strict";function a(a,b,c,d,e,f){b.settings={username:"",password:"",demoPwd:"",serverName:"",serverUrl:"",tokenUrl:"",token:{},allowBlankPassword:!1},c.copyProperties(b.options,b.settings),b.settings.demoPwd=b.settings.demoPwd,b.options.status&&(b.status=b.options.status),b.resetApplication=function(){b.options.fnResetApplication&&b.options.fnResetApplication()},b.loginUserAAD=function(){return b.status="",b.hasError=!1,""===b.settings.serverName?(b.hasError=!0,b.status=f.getString("emf.ep.token.ep-login-view.message.missingServer"),void d.hide()):(b.showLoader=!0,void(b.options.fnOnLoginAAD&&a.when(b.options.fnOnLoginAAD(b.settings)).then(function(a){return a&&angular.isString(a)?(b.showLoader=!1,b.hasError=!0,void(b.status=a)):a===!1?(b.showLoader=!1,void(b.hasError=!0)):void(b.options.fnOnSuccess&&b.options.fnOnSuccess(b.settings))},function(a){b.showLoader=!1,b.hasError=!0,b.status=a})))},b.loginUser=function(){if(b.status="",b.hasError=!1,b.options.fnOnLogin){var g=b.options.fnOnLogin(b.settings);return void(g&&g.hasError&&(b.hasError=!0,b.status=g.status))}if(""===b.settings.username||""===b.settings.password&&b.settings.allowBlankPassword!==!0)return b.hasError=!0,""===b.settings.username?b.status=f.getString("emf.ep.token.ep-login-view.message.missingUserName"):b.status=f.getString("emf.ep.token.ep-login-view.message.youForgotPassword"),void d.hide();if(""===b.settings.serverName)return b.hasError=!0,b.status=f.getString("emf.ep.token.ep-login-view.message.missingServer"),void d.hide();var h=e.resolveServerUrl(b.settings.serverName);b.settings.serverUrl=h.serverUrl,b.settings.tokenUrl=h.tokenUrl;var i={username:b.settings.username,password:b.settings.password||"",serverUrl:b.settings.serverUrl,serverName:h.serverName},j={restUri:b.settings.tokenUrl};c.copyProperties(b.settings,j),"demo"===b.settings.username.toLowerCase()&&b.settings.password===b.settings.demoPwd&&b.settings.serverName&&"demo"===b.settings.serverName.toLowerCase()&&(j.debug=!0,j.timeout="10000"),b.showLoader=!0,e.login(i,j).then(function(c){b.accessToken=c.AccessToken;try{if(b.settings.token=e.getToken(),!b.settings.token)return;b.options.username=b.settings.username,b.options.serverName=b.settings.serverName,b.options.fnOnGetToken?a.when(b.options.fnOnGetToken(b.settings)).then(function(a){return a&&angular.isString(a)?(b.showLoader=!1,b.hasError=!0,void(b.status=a)):a===!1?(b.showLoader=!1,void(b.hasError=!0)):void(b.options.fnOnSuccess&&b.options.fnOnSuccess(b.settings))},function(a){b.showLoader=!1,b.hasError=!0,b.status=a}):b.options.fnOnSuccess&&(b.showLoader=!1,b.options.fnOnSuccess(b.settings))}catch(d){alert(d.message)}},function(a){switch(b.showLoader=!1,b.hasError=!0,a.status){case 401:b.status=f.getString("emf.ep.token.ep-login-view.message.connectionUserPassword");break;case 400:b.status=f.getString("emf.ep.token.ep-login-view.message.tokenAuthError");break;case 403:b.status=f.getString("emf.ep.token.ep-login-view.message.connectionPasswordExpired");break;default:b.status=f.getString("emf.ep.token.ep-login-view.message.connectionUserPassword")}})},b.passwordKeyPress=function(a){b.hasError=!1,b.status="";var c="undefined"==typeof a.which?a.keyCode:a.which;13===c&&b.loginUser()},b.clearWarning=function(){b.hasError=!1,b.status=""},b.showServer=function(){b.showServerName=!b.showServerName}}a.$inject=["$q","$scope","epUtilsService","epModalDialogService","epTokenService","epTranslationService"],angular.module("ep.token").controller("epLoginViewCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"src/components/ep.token/ep-login-view/ep-login-view.html",controller:"epLoginViewCtrl",scope:{options:"="}}}angular.module("ep.token").directive("epLoginView",a)}(),function(){"use strict";function a(a,b){var c=b.getToken();a.user=c?c.user:{},a.status="",a.$watch(function(a){return a.hasToken=b.hasToken(),b.hasToken()}),a.login=function(){return a.hasError=!1,a.status="",a.user&&a.user.hasOwnProperty("username")&&a.user.hasOwnProperty("password")&&a.user.username&&a.user.password?void b.login(a.user).success(function(){a.hasToken=!0,a.onLoginSuccess&&a.onLoginSuccess(a.user)}).error(function(b,c,d,e){var f=void 0!==e&&null!==e?e.url:"";a.status="Login Failure at: "+f,a.hasError=!0,a.onLoginFail&&a.onLoginFail(a.status)}):(a.hasError=!0,void(a.status="Please fill required fields."))},a.logout=function(){b.logout(),a.user={},a.hasToken=!1},a.cancel=function(){a.onLoginCancel&&a.onLoginCancel()}}a.$inject=["$scope","epTokenService"],angular.module("ep.token").controller("epLoginCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",controller:"epLoginCtrl",templateUrl:"src/components/ep.token/ep-login/login.html",scope:{showTitle:"=",showLabels:"=",showCancel:"=",onLoginFail:"&",onLoginSuccess:"&",onLoginCancel:"&"}}}angular.module("ep.token").directive("epLogin",a)}(),function(){"use strict";angular.module("ep.token").provider("epTokenConfig",function(){var a={restUri:"https://localhost/ICE3/TokenResource.svc/",tokenId:"emf.token.auth",timeout:0,warnExpire:!0,warnExpireDuration:60,storePassword:!0,autoRenew:!1,debug:!1};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.token",a),a}]})}(),function(){"use strict";angular.module("ep.token").constant("epTokenConstants",{EP_TOKEN_LOGOUT_EVENT:"EP_TOKEN_LOGOUT_EVENT"})}(),function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j,k,l){function m(a,b){return C.options={},h.copyProperties(g,C.options),h.copyProperties(b,C.options),y(a,C.options.restUri)}function n(){j.update(g.tokenId,void 0),C.tokenTimeoutPromise&&d.cancel(C.tokenTimeoutPromise)}function o(a,b,c){var d={title:"Login",closeButton:!0,templateOptions:{template:'<ep-login show-title="false" on-login-cancel="config.onLoginCancel()"></ep-login>'},onLoginCancel:function(){i.hide()}};h.copyProperties(c,d),i.showCustomDialog(d)}function p(){var a=j.get(g.tokenId);if(a&&a.expiresInSecs&&C.options.neverExpire!==!0){var b=q(a);b||(A(),a=null)}return a}function q(a){var b=a||p(),c=0;if(b){var d=new Date;c=b.expiresUTC-d.getTime(),c=c<=0?0:Math.floor(c/1e3)}return c}function r(){var a=p();return void 0!==a&&!angular.equals({},a)}function s(){var a=j.get(g.tokenId);z(a)}function t(a,b){var c=h.ensureEndsWith(a,"/");c=c.substring(0,c.length-1);var d=c.toLowerCase().trim(),e="https://";0===d.indexOf("https://")?(e="https://",c=c.substring(e.length)):0===d.indexOf("http://")&&(e="http://",c=c.substring(e.length));var f="";return""!==b&&(f=b?"/"+b:"/TokenResource.svc"),{prefix:e,serverName:c,serverUrl:e+c,tokenUrl:e+c+f}}function u(c,d){var e={headers:{username:c.username,password:c.password,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},f=h.ensureEndsWith(d,"/"),g=k.getFeatures();if(g.platform&&"Cordova"===g.platform.app&&"iOS"===g.platform.os){var i=b.get("cordovaHTTP");return i.post(f,{},e.headers).then(function(a){return a.data=JSON.parse(a.data),a})}return a.post(f,null,e)}function v(a,b){var d=c.defer(),e=d.promise;e.success=function(a){return e.then(a),e},e.error=function(a){return e.then(null,a),e};var f={TokenType:"Bearer",AccessToken:"mySampleTokenDataValue"};return w(f,a,b),d.resolve(f),e}function w(a,b,c){var d=a&&a.AccessToken&&"Bearer"===a.TokenType?a:void 0,e=d&&a.ExpiresIn?a.ExpiresIn:C.options.timeout;C.options.timeout&&C.options.timeout<e&&(e=C.options.timeout);var f=new Date,h=new Date(f);h.setTime(h.getTime()+1e3*e),j.update(g.tokenId,{uri:c,user:b,token:d,createdUTC:f.getTime(),expiresUTC:h.getTime(),expiresInSecs:e}),B(e)}function x(){if(C.tokenTimeoutPromise&&d.cancel(C.tokenTimeoutPromise),C.options.neverExpire!==!0){var a=q();a?B(a):A()}}function y(a,b){A(!0);var c=b||C.options.restUri;if(C.options.debug)return v(a,c);var d=C.options.fnUserFetchToken||u;return d(a,c).then(function(b){return w(b.data,a,c),b.data})}function z(a){a&&(C.options.fnRenewToken?c.when(C.options.fnRenewToken(a),function(b){w(b.data,a.user||"",a.uri)}):a&&a.user&&y(a.user,a.uri))}function A(a){n(),a!==!0&&(e.$emit(l.EP_TOKEN_LOGOUT_EVENT),C.options.fnOnLogout&&C.options.fnOnLogout())}function B(a){if(C.tokenTimeoutPromise&&d.cancel(C.tokenTimeoutPromise),C.options.neverExpire!==!0&&(C.options.warnExpire||C.options.autoRenew)){var b=a>C.options.warnExpireDuration?a-C.options.warnExpireDuration:a;b-=5,C.tokenTimeoutPromise=d(function(){var a=p();if(a){var b=q();if(C.options.warnExpire){var c={title:"Expiration Notice",message:"Your session is about to expire in {timer} seconds...",autoClose:b,icon:"fa fa-warning fa-4x",buttons:[{text:"Continue",action:function(){z(a)}},{text:"Log Out",action:function(){A()}}],fnDefaultAction:function(){A()}};h.copyProperties(C.options.warnExpireDialogOptions,c),i.showMessage(c)}else C.options.autoRenew&&z(a)}},1e3*b)}}var C={tokenTimeoutPromise:void 0,options:{}};return x(),{login:m,logout:n,getToken:p,hasToken:r,getExpiresIn:q,renewToken:s,showLoginDialog:o,resolveServerUrl:t}}a.$inject=["$http","$injector","$q","$timeout","$rootScope","epTranslationService","epTokenConfig","epUtilsService","epModalDialogService","epLocalStorageService","epFeatureDetectionService","epTokenConstants"],angular.module("ep.token").service("epTokenService",a);
}(),function(){"use strict";angular.module("ep.ui.range.slider").controller("epRangeSliderCtrl",["$scope",function(a){function b(b){a.range.css("left",b+"px")}function c(b,c){var d="left"===b?a.minHandle:a.maxHandle;d.css("left",c+"px")}function d(d,e){var g,h=f(e),i=parseInt(a.minHandle.css("left")),k=parseInt(a.maxHandle.css("left"));if(r=a.axis.width(),null!==p&&void 0!==p||(p=n),d.x>p){if(g=h.x-p,k+o>=r)return;b(parseInt(a.range.css("left"))+g),s=i+g,t=k+g,c("left",s),c("right",t)}else{if(g=p-h.x,i<=0)return;b(parseInt(a.range.css("left"))-g),s=i-g,t=k-g,c("left",s),c("right",t)}a.rangeMin=1===i?a.min:j(i),a.rangeMax=j(k+o),p=d.x,a.$digest()}function e(b,d){function e(){return q&&i>=t-o}function g(){return!q&&s+o>=i}var h,i,k,l=f(d),q=m.is(".js-handle-min");if((0===t||isNaN(t))&&(t=r-o),null!==p&&void 0!==p||(p=n),b.x>p){if(h=l.x-p,i=parseInt(m.css("left"))+h,i>r)return;if(e())return;if(!q&&i+o>=r)return;k=q?a.range.width()-h:a.range.width()+h}else{if(h=p-l.x,i=(parseInt(m.css("left"))||t)-h,i<=0)return;if(g())return;k=q?a.range.width()+h:a.range.width()-h}q?(s=i,a.rangeMin=1===i?a.min:j(i)):(t=i,a.rangeMax=i+o>=r?a.max:j(i+o)),a.range.css({left:s+o+"px",width:k}),c(q?"left":"right",i),p=b.x,a.$digest()}function f(a){var b={x:0,y:0};return a.originalEvent&&a.originalEvent instanceof TouchEvent?(b.x=a.originalEvent.changedTouches[0].clientX,b.y=a.originalEvent.changedTouches[0].clientY):a.originalEvent&&a.originalEvent instanceof MouseEvent&&(b.x=a.clientX,b.y=a.clientY),b}function g(b){var c=$(b.target);c.is(".ep-range-slide-handle")||c.is(".ep-range-ctr")||c.is(".ep-range-slider-value-axis")||(a.axis.trigger("touchend"),$(document.body).off("mouseup",g)),a.axis.removeClass("ep-range-handle-drag").removeClass("ep-range-drag"),q=!1,b.stopPropagation()}function h(){if(!a.touch){var b=parseInt(a.rangeMax);b>a.max&&(b=a.max,a.rangeMax=b),t=(b-a.min)/(a.max-a.min)*r-o,c("right",t),a.range.css({left:s+o,width:t-s-o})}}function i(){if(!a.touch){var b=parseInt(a.rangeMin);b<a.min&&(b=a.min,a.rangeMin=b),s=(b-a.min)/(a.max-a.min)*r,c("left",s),0===t&&(t=r-o),a.range.css({left:s+o,width:t-s-o})}}function j(b){var c=b/r;return a.newPoint=Math.ceil(a.min+c*(a.max-a.min)),a.newPoint}function k(){return{min:a.rangeMin,max:a.rangeMax}}function l(){a.rangeMin=a.min,a.rangeMax=a.max}var m,n,o,p,q,r,s=0,t=0;a.value=0,a.touch=!0,a.rangeMax=a.max,a.rangeMin=a.min,a.steps=[25,50,75],a.$watch("rangeMin",i),a.$watch("rangeMax",h),a.toggleRangeInputMode=function(){r=r||a.axis.width(),o=o||a.minHandle.outerWidth(),a.touch=!a.touch},a.onSwipe=function(a,b){q?e(a,b):d(a,b),b.stopPropagation()},a.onAxisClick=function(b){var c=$(b.target);n=f(b).x,r=a.axis.width(),a.axisWithAndX=r+", "+a.axis.position().left,c.is(".ep-range-slide-handle")?(m=c,o=m.outerWidth(),a.axis.addClass("ep-range-handle-drag").removeClass("ep-range-drag"),q=!0):(c.is(".ep-range-ctr")||c.is(".ep-range"))&&a.axis.addClass("ep-range-drag").removeClass("ep-range-handle-drag"),$(document.body).mouseup(g),b.stopPropagation()},a.swipeStart=function(){a.axis.parent().addClass("active")},a.swipeEnd=function(){a.axis.parent().removeClass("active"),p=n=null},a.out.getSelection=k,a.out.clear=l}])}(),function(){"use strict";angular.module("ep.ui.range.slider").directive("epRangeSlider",["$swipe",function(a){return{restrict:"E",controller:"epRangeSliderCtrl",templateUrl:"src/components/ep.ui.range.slider/ep-range-slider.html",scope:{min:"=",max:"=",out:"="},compile:function(){return function(b,c){b.container=c.parent(),b.min=b.min||0,b.minHandle=b.container.find(".js-handle-min"),b.maxHandle=b.container.find(".js-handle-max"),b.range=b.container.find(".ep-range-ctr"),b.axis=b.container.find(".ep-range-slider-value-axis"),b.axis.mousedown(b.onAxisClick),b.axis.bind("touchstart",b.onAxisClick),a.bind(b.axis,{move:b.onSwipe,start:b.swipeStart,end:b.swipeEnd})}}}}])}(),function(){"use strict";angular.module("ep.utils").provider("utilsConfig",function(){var a={debug:!1};this.$get=["epSysConfig",function(b){return b.mergeSection("ep.utils",a),a}]})}(),function(){"use strict";angular.module("ep.utils").filter("tel",function(){return function(a){if(!a)return"";var b=a.toString().trim().replace(/^\+/,"");if(b.match(/[^0-9]/))return a;var c,d,e;switch(b.length){case 10:c=1,d=b.slice(0,3),e=b.slice(3);break;case 11:c=b[0],d=b.slice(1,4),e=b.slice(4);break;case 12:c=b.slice(0,3),d=b.slice(3,5),e=b.slice(5);break;default:return a}return 1===c&&(c=""),e=e.slice(0,3)+"-"+e.slice(3),(c+" ("+d+") "+e).trim()}})}(),function(){"use strict";function a(a,b,c,d){function e(a){if(!a||arguments.length<1)return"";var b=a;if(arguments.length>1){var c=arguments,d=1;2===arguments.length&&angular.isArray(arguments[1])&&(c=arguments[1],d=0),b=b.replace(/\{\d+}/g,function(a){var b=+a.slice(1,-1),e=null;return b+d<c.length&&(e=c[b+d]),e})}return b}function f(a,b){var c={};return a.forEach(function(a){var d,e;if(angular.isString(b))e=a[b];else{if(!angular.isFunction(b))throw new Error("mapArray called with an invalid idAccessor.");e=b(a)}d=angular.isFunction(e)?e():e,c[d]=a}),c}function g(a,b,c){return a&&b?void angular.forEach(a,function(d,e){null!==a[e]&&(angular.isArray(a[e])?b[e]=a[e]:angular.isObject(a[e])?(angular.isObject(b[e])||(b[e]={}),g(a[e],b[e],c)):c===!1&&void 0!==b[e]||(b[e]=a[e]))}):a||b}function h(a,b){return b&&0!==b.indexOf(a)?a+b:b||""}function i(a,b){return a&&a.lastIndexOf(b)!==a.length-b.length?a+b:a||""}function j(){var a="",b=_.flatten(arguments,!0);return b&&1===b.length&&angular.isObject(b[0])&&0===b[0].length?a:(angular.forEach(b,function(b){a+="/"+b}),a)}function k(){var a="app",b=_.flatten(arguments,!0);return b&&1===b.length&&angular.isObject(b[0])&&0===b[0].length?a:(angular.forEach(b,function(b){a+="/"+b}),a)}function l(d,e){var f,g=c.defer(),h="script:"+d;return d&&e.get(h)?g.resolve(h+" from cache"):(f=a[0].createElement("script"),f.src=d,f.onload=function(){g.resolve(h)},f.onerror=function(a){b.error("Error loading url: ["+d+"]"),g.reject(a,h)},a[0].documentElement.appendChild(f),e.put(h,1)),g.promise}function m(a,b){var c=a;return!!angular.isObject(a)&&(!(!angular.isString(b)||!b)&&!_.find(b.split("."),function(a){var b=c.hasOwnProperty(a);return b&&(c=c[a]),!b}))}function n(a,b,c,e,f){b--,b>=0?a()?e():d(function(){n(a,b,c,e,f)},c):f&&f()}function o(a,b,c){for(var d=0,e=b.length;d<e;++d){var f=b[d];if(_.isObject(f)||_.isFunction(f))for(var g=_.union(Object.keys(f),Object.keys(a)),h=0,i=g.length;h<i;h++){var j=g[h],k=f[j];c&&_.isObject(k)?_.isDate(k)?a[j]=new Date(k.valueOf()):_.isRegExp(k)?a[j]=new RegExp(k):k.nodeName?a[j]=k.cloneNode(!0):_.isElement(k)?a[j]=k.clone():_.isNull(k)?a[j]=null:_.isUndefined(k)?a[j]=void 0:(_.isObject(a[j])||(a[j]=_.isArray(k)?[]:{}),o(a[j],[k],!0)):a[j]=k}}return a}function p(a){return o(a,Array.prototype.slice.call(arguments,1),!0)}function q(a,e){var f=function(){var c;try{c=angular.element("html").injector().get(a)}catch(d){b.error("Failed to retrieve requested service:"+a+"\nDetails:"+d.message)}return c};if(e){var g=c.defer();return d(function(){var a=f();g.resolve(a)}),g.promise}return f()}function r(a,b){b=Math.abs(parseInt(b))||0;var c=Math.pow(10,b);return Math.round(a*c)/c}return{copyProperties:g,ensureEndsWith:i,ensureStartsWith:h,hasProperty:m,loadScript:l,makePath:j,makeAppPath:k,mapArray:f,merge:p,strFormat:e,wait:n,getService:q,roundNumber:r}}a.$inject=["$document","$log","$q","$timeout"],angular.module("ep.utils").service("epUtilsService",a)}(),function(){"use strict";function a(a){a.peek=!1,a.closeClick=function(){a.peek=!1;var b=!0;a.options.onClose&&(b=a.options.onClose(a.options)),a.options.showViewModal=!b},a.peekClick=function(){a.peek=!a.peek}}a.$inject=["$scope"],angular.module("ep.viewmodal").controller("epViewmodalCtrl",a)}(),function(){"use strict";function a(){return{restrict:"E",replace:!0,transclude:!0,controller:"epViewmodalCtrl",templateUrl:"src/components/ep.viewmodal/ep-viewmodal.html",scope:{options:"="},link:function(a){a.options={showCloseButton:!0}}}}angular.module("ep.viewmodal").directive("epViewmodal",a)}(),angular.module("ep.templates").run(["$templateCache",function(a){"use strict";a.put("src/components/ep.accordion.menu/ep-accordion-menu-item_template.html",'<div class="clearfix list-group-item" ng-class="{ \'ep-accordion-expanded\': item.isExpanded && item.menuitems.length, \'ep-accordion-expanded-odd\' : item._depth%2 == 1, \'ep-accordion-expanded-even\': item._depth%2 == 0}"><div class="clearfix container-fluid" id=mnu_{{item.id}} ng-keydown="($event.which === 13 && item.menuitems.length === 0)? navigate(item, false, $event) : onKeydown(item, $event)" role=group tabindex=-1 ng-click="item.isExpanded = !item.isExpanded"><div id=menuItem class="list-group-item row" ng-class="{ \'ep-accordion-expanded\': item.isExpanded && item.menuitems.length, \'ep-accordion-expanded-odd\' : item._depth%2 == 1, \'ep-accordion-expanded-even\': item._depth%2 == 0}" ng-if="!(item.menuitems && item.menuitems.length)" ng-click="navigate(item, false, $event)" tabindex=-1><!-- Menu item caption/text --><span class="clearfix ep-vertical-align-center"><span class="pull-left col-xs-10 {{item.captionClass}}" title={{item.caption}} ng-bind=item.caption></span><!--Open in new window--> <i class="fa fa-lg {{navigateAlternateIcon}} pull-left" ng-if=!isMobile ng-click="navigateAlternate(item, $event)"></i><!-- Favorite icon --><!-- Favorite icon --> <i ng-if="(item.hideFavorite !== true)" class="fa fa-lg col-xs-2 pull-left" ng-click="toggleFavorite(item, $event)" ng-class="{ \'fa-star-o\': !item.favorite, \'fa-star text-warning\': item.favorite }"></i></span></div><div class="ep-submenu-header list-group-item row" ng-class="{ \'ep-accordion-expanded\': item.isExpanded && item.menuitems.length, \'ep-accordion-expanded-odd\' : item._depth%2 == 1, \'ep-accordion-expanded-even\': item._depth%2 == 0}" ng-if=item.menuitems.length tabindex=-1><!-- Menu item caption/text --><span class="clearfix ep-vertical-align-center"><span class="pull-left col-xs-10 {{item.captionClass}}" title={{item.caption}} ng-bind=item.caption></span><!-- Expand icon --> <i class="fa fa-lg col-xs-2" ng-class="{ \'fa-caret-right\': !item.isExpanded, \'fa-caret-down\': item.isExpanded }"></i></span></div></div><div class=col-xs-12 ng-click="navigate(item, false, $event)" ng-if="item.description && (!item.menuitems.length || !item.isExpanded) && !hideDescription"><div class=ep-accordion-menu-desc><sup class=text-info ng-bind=item.description></sup></div></div><!-- Sub-menu --><div class=list-group-submenu ng-class="{\'collapsed\': !item.isExpanded }" id=mnu_children ng-if="item.isExpanded && item.menuitems.length"><ep-accordion-menu-item ng-repeat="child in item.menuitems | orderBy:orderByMenu" item=child hide-description=hideDescription commit-menu-state=commitMenuState navigate=navigate navigate-alternate=navigateAlternate navigate-alternate-icon=navigateAlternateIcon toggle-favorite=toggleFavorite></ep-accordion-menu-item></div></div>'),a.put("src/components/ep.accordion.menu/ep-accordion-menu_template.html",'<div id=MainMenu class=ep-accordion-menu><form class=ep-mlm-search ng-hide=searchDisabled><input type=search class="form-control ep-mlm-search-input" placeholder=Search ng-model=state.searchTerm ng-change=search() ng-keydown=onKeydown($event) ng-focus="isRightToLeft = false" tabindex=-1> <span class=ep-mlm-search-cancel ng-show=state.searchTerm><i class="fa fa-times" ng-click="state.searchTerm=\'\'"></i></span></form><div class=ep-accordion-menu-content><div ng-show=state.searchTerm><div class="bg-primary ep-menu-header"><span ng-bind=searchResultsHeader></span></div><div class="list-group panel"><ep-accordion-menu-item ng-repeat="item in currentItems | orderBy:orderByMenu" id={{item.id}} hide-description=false navigate-alternate-icon=navigateAlternateIcon item=item navigate=navigate navigate-alternate=navigateAlternate toggle-favorite=toggleFavorite></ep-accordion-menu-item></div></div><div ng-show=!state.searchTerm><div class="bg-primary ep-menu-header" ng-if="data.favorites && data.favorites.length"><span ng-bind=favoritesHeader></span></div><div class="list-group panel"><ep-accordion-menu-item ng-repeat="item in data.favorites | orderBy:orderByMenu" id={{item.id}} hide-description=false navigate-alternate-icon=navigateAlternateIcon item=item navigate=navigate navigate-alternate=navigateAlternate toggle-favorite=toggleFavorite tabindex=-1></ep-accordion-menu-item></div><div class="bg-primary ep-menu-header" ng-hide=!mainHeader><span ng-bind=mainHeader></span></div><div class="list-group panel"><ep-accordion-menu-item ng-repeat="item in menu.menuitems | orderBy:orderByMenu" id={{item.id}} hide-description=true commit-menu-state=commitMenuState item=item navigate=navigate navigate-alternate=navigateAlternate navigate-alternate-icon=navigateAlternateIcon toggle-favorite=toggleFavorite on-expand=onExpand tabindex=-1></ep-accordion-menu-item></div></div></div></div>'),a.put("src/components/ep.action.set/action-menu/action-menu.html",'<div id=ep-actions-menu-ctr ng-show=actionMenuCtrl.actions><ul class="dropdown-menu ep-actions-menu list-unstyled noselect" role=menu><li ng-repeat="action in actionMenuCtrl.actions" ng-if="!action.switch || action.switch(action.switchParams) == action.switchResult" ng-switch=action.type ng-class="{\'hidden\': action.switch != null && action.switch == false}"><a ng-switch-when=action class=ep-actions-menu-item ng-click="actionMenuCtrl.invokeAction($event, action)"><span class="icon {{action.icon}}"></span><span>{{::action.title}}</span></a><div ng-switch-when=separator class=ep-actions-menu-item-separator></div></li><li class=ep-actions-menu-item-mobile><a class="ep-actions-menu-item edd-red separate" ng-click=actionMenuCtrl.close()><span class="icon icon-clear"></span><span>Close</span></a></li></ul></div>'),a.put("src/components/ep.azure/azure-erp-tenant-view.html","<div class=row><label class=col-xs-7>{{'emf.ep.azure.azure-erp-tenant-view.label' | epTranslate}}:</label><input class=\"input-mini col-xs-4\" ng-model=config.tenantID placeholder=\"{{'emf.ep.azure.azure-erp-tenant-view.placeholder' | epTranslate}}\"></div>"),a.put("src/components/ep.binding/controls/ep-binding-editor.html","<ep-editor-control drag-enabled=false column=state.column value=epBindingInfo.value is-row=isRow></ep-editor-control>"),a.put("src/components/ep.binding/controls/ep-binding-label.html",'<div class="ep-binding-label {{labelClass}}"><label for={{forCtrl}}>{{state.label}}<span ng-if="state.requiredFlag && required !== false" class="ep-required-indicator text-danger fa fa-asterisk"></span></label></div>'),a.put("src/components/ep.binding/controls/ep-binding-pagination.html","<!--This is a partial for the ep-binding directive --><div class=ep-binding><uib-pagination previous-text=&lsaquo; next-text=&rsaquo; items-per-page=1 total-items=totalItems ng-model=currentPage ng-change=onPageChange() max-size=maxSize class=pagination-sm boundary-link-numbers=true rotate=false></uib-pagination></div>"),a.put("src/components/ep.binding/controls/ep-binding-record-editor.html","<ep-binding-scope ep-binding=epBinding><ep-record-editor options=options record=epb.rec isreadonly=readonly size-class=sizeClass on-init=onInitThis(factory) class={{activeClass}}></ep-record-editor></ep-binding-scope>"),a.put("src/components/ep.binding/controls/ep-binding-selector.html",'<!--This is a partial for the ep-binding directive --><div class=ep-binding-selector ng-controller=epBindingSelectorCtrl><div class="panel panel-default"><div class="panel-heading panel-heading-small"><ul class="nav nav-tabs"><li class=active><a data-toggle=pill href=.binding>Binding</a></li><li><a data-toggle=pill href=.preview>Data Preview</a></li></ul></div><div class=panel-body><div class="tab-content ep-padding-bottom"><div class="binding tab-pane fade in active"><ep-editor-control column=viewList value=meta.view></ep-editor-control><div ng-if=meta.view><div class=text-center ng-show=loadingColumns><i class="fa fa-spinner fa-spin fa-2x"></i><label>loading columns...</label></div><div ng-hide=loadingColumns><ep-editor-control column=columnList value=meta.column></ep-editor-control></div></div><ep-editor-control column=columnBinding value=config.binding></ep-editor-control></div><div class="preview tab-pane fade"><textarea class="form-control alert-info" ng-model=meta.preview style="min-height: 400px; min-width: 300px"></textarea><div><a ng-show="isAllDataPreview !== true" ng-click=showAllData(true) style="margin-right: 15px"><i></i>Show All</a> <a ng-show="isAllDataPreview === true" ng-click=showAllData(false) style="margin-right: 15px"><i></i>Show Current Record</a></div></div><div class="preview tab-pane fade"><textarea class="form-control alert-info" ng-model=meta.info style="min-height: 400px; min-width: 300px"></textarea></div></div></div></div></div>'),a.put("src/components/ep.binding/controls/ep-binding-table.html","<ep-table ng-if=ready data=state.data track-selected-row=trackSelectedRow column-headers={{headers}} column-properties={{dataColumns}} striped=true class={{activeClass}} on-select-row=onSelectRow($row) on-double-click-row=dblClickRow($row)></ep-table>"),a.put("src/components/ep.binding/ep-binding.html","<!--This is a partial for the ep-binding directive --><div class=ep-binding></div>"),a.put("src/components/ep.card/ep-card-block-template.html","<div class=card-block ng-transclude></div>"),a.put("src/components/ep.card/ep-card-template.html",'<div><section class=ep-card><div class="card card-inverse card-primary text-center" ng-transclude></div></section></div>'),a.put("src/components/ep.card/ep-card-title-template.html","<div class=card-title ng-transclude></div>"),a.put("src/components/ep.card/ep-card.html","<!--This is a partial for the ep-card directive --><div class=ep-card></div>"),a.put("src/components/ep.chart/ep-chart-c3-legends.html",'<div class="ep-chart-c3-legends form-group"><span><label class=checkbox-inline><input type=checkbox ng-model=state.selectAllLegend ng-change=fnLegendSelectAllChanged()>All</label></span><div ng-repeat="item in menuLegends"><button type=button class="btn btn-sm btn-block" ng-class="{\'ep-legend-off\': item.checked !== true}" ng-style=item.style ng-model=item.checked uib-btn-checkbox ng-click=fnOnLegendChanged(item)>{{item.caption}}</button></div></div>'),a.put("src/components/ep.chart/ep-chart-c3.html",'<div class=ep-chart-c3 ep-chart-id=state.chartId><div class="ep-chart-options form-group" ng-if="settings.showOptions !== false"><div class=checkbox><div ng-if=state.optLegendListDisplay class="ep-c3-legend-btn btn-group" dropdown><button id=split-button type=button class="btn btn-default btn-sm" uib-popover-template="\'src/components/ep.chart/ep-chart-c3-legends.html\'" popover-placement=bottom-left popover-title=Legend popover-trigger="" ng-click=fnOnLegendList()>Legend</button></div><span ng-if=state.optStackedDisplay><label class=radio-inline><input name=optradio type=radio value=grouped ng-model=state.optStacked ng-change=fnOptStackedChanged()>Grouped</label><label class=radio-inline><input name=optradio type=radio value=stacked ng-model=state.optStacked ng-change=fnOptStackedChanged()>Stacked</label></span> <span ng-if=state.optDataFmtDisplay><label class=radio-inline><input name=optradio type=radio value=percent ng-model=state.optDataFmt ng-change=fnOptDataFmtChanged()>Percent</label><label class=radio-inline><input name=optradio type=radio value=value ng-model=state.optDataFmt ng-change=fnOptDataFmtChanged()>Value</label></span> <span ng-if=state.optZoomDisplay style="margin-left: 10px"><label class=checkbox-inline><input type=checkbox ng-model=state.optZoom ng-change=fnOptZoomChanged()>Zoom</label></span> <span ng-if="state.optZoomDisplay && state.optZoom && state.optZoomTip" ng-click="state.optZoomTip = false" class="well ep-fadein-animation" style="margin-left: 10px">to zoom-in select an area on the lower chart; to zoom-out double click on the lower chart.</span> <span ng-if=state.optLegendDisplay style="margin-left: 5px" class=ep-opt-legend><label class=checkbox-inline><a ng-click=fnOptLegendChanged()>{{state.optLegend ? \'Hide legend\' : \'Show legend\' }}</a></label></span> <span ng-if="!state.optLegendDisplay && state.criteriaHideLegend && state.legendSupported && settings.legendHiddenText !== \'\'" class=ep-opt-legend-hidden><label class=checkbox-inline>{{settings.legendHiddenText || \'[legend hidden]\'}}</label></span></div></div><div class=ep-chart-div><div id=chartc3></div></div></div>'),a.put("src/components/ep.color.selector/color_selector.html",'<div class="ep-color-selector-container vertical-align" ng-style="{ \'width\': width }"><div class=input-group><input class=form-control value="{{ngModel}}"><div class=input-group-btn><button type=button class="btn btn-default dropdown-toggle" colorpicker colorpicker-parent=true ng-attr-colorpicker-close-on-select="{{closeOnSelect == \'true\' ? \'\' : undefined}}" colorpicker-position="{{position ? position : \'bottom\'}}" colorpicker-size="{{size ? size : 100}}" ng-model=ngModel ng-style="applyColorToBtn == \'true\' && {\'background-color\': ngModel}"><span class="fa {{icon ? icon : \'fa-eyedropper\'}}"></span></button></div></div></div>'),a.put("src/components/ep.color.tile/ep-color-tile.html",'<!-- Color Tile Component --><div class="ep-color-tile ep-align-container {{colorclass}}" ng-style="{\'background-color\': color}"><h3>{{title}}</h3><h5>{{description}}</h5><small>{{fineprint}}</small><div class="ep-color-tile-icon ep-align-content ep-align-vcenter"><i class="fa {{icon}}"></i></div></div>'),a.put("src/components/ep.customization/ep-customization-container.html",'<div class="row ep-customization-container" ng-style=state.style><div ng-repeat="control in state.controls | orderBy:orderByControls" class="ep-custom-element {{control.class}}" id={{control.id}} ep-drop-area drop-handler=handleDrop1 drop-item-types=ep-custom-element drop-enabled=epCustomizationInfo.isCustomizeActive ep-draggable drag-enabled=epCustomizationInfo.isCustomizeActive drag-item=control drag-item-type="\'ep-custom-element\'"><ep-binding-editor ng-if="control.type === \'binding-editor\'" ep-binding=control.binding column=control.props></ep-binding-editor><ep-editor-control ng-if="control.type === \'editor-control\'" value=epCustomizationInfo.data[control.columnName] column=control.props></ep-editor-control><ep-include ng-if="control.type === \'html\'" user-data=epCustomizationInfo.data template-scope=epCustomizationInfo.parentScope template=control.props.html template-style=control.props.style></ep-include></div></div>'),a.put("src/components/ep.customization/ep-customization-editor-box.html",'<div ng-if="config.editorOptions.type === \'html\'"><script type=text/ng-template id=sample-panel.html><div class="well panel panel-default">\r\n            <div class="panel-heading panel-heading-small">\r\n                Your panel header goes here\r\n            </div>\r\n            <div class="panel-body ep-padding-none">\r\n                Your panel body goes here\r\n            </div>\r\n            <div class="panel-footer">\r\n                Your panel footer goes here                \r\n            </div>\r\n        </div></script><script type=text/ng-template id=sample-color-tile.html><div>\r\n            <ep-color-tile title="Customer Address" description="{{CustomerAddress}}" fineprint="" icon="fa-refresh" color="deepskyblue"></ep-color-tile>\r\n        </div></script><script type=text/ng-template id=sample-button.html><div>\r\n            <button class="btn btn-default" ng-click="someFunction()">Your Button Text</button>\r\n        </div></script><ep-editor-control column=config.editorOptions.sampleCol value=config.editorOptions.sampleVal></ep-editor-control></div><textarea style="width:100%; height: 300px; border: solid; border-width: thin" ng-model=config.editText autofocus></textarea>'),a.put("src/components/ep.customization/ep-customization-eptable.html",'<!--This is a partial for the ep-customization directive --><div class="ep-customization-record-editor ep-padding-top ep-padding-bottom"><div class=text-center ng-show=loadingColumns><i class="fa fa-spinner fa-spin fa-2x"></i></div><div class=text-center ng-hide=loadingColumns><ep-editor-control column=columnList value=column.name></ep-editor-control></div><ep-editor-control column=colCaption value=curColProps.caption></ep-editor-control><ep-editor-control column=colHidden value=curColProps.hidden></ep-editor-control><ep-editor-control column=colReadOnly value=curColProps.readonly></ep-editor-control><hr><button ng-hide=curColCtx type=button class="btn btn-primary btn-block ep-padding-top" ng-click=addColumn()>Add Column</button> <button ng-show="curColCtx && curColCtx.isCustom" type=button class="btn btn-primary btn-block ep-padding-top" ng-click=removeColumn()>Remove Column</button></div>'),a.put("src/components/ep.customization/ep-customization-freeform.html",'<!--This is a partial for the ep-customization directive --><div class=ep-customization-freeform style="padding-bottom: 5px"><ep-editor-control column=controlsList value=state.control></ep-editor-control><div ng-show="state.control === \'$new\'"><ep-editor-control column=controlKinds value=state.controlKind></ep-editor-control><ep-editor-control column=colId value=curColProps.id></ep-editor-control></div><div ng-show="state.control === \'$container\'"><ep-editor-control column=colStyle value=curColProps.style></ep-editor-control><ep-editor-control column=colContainerScript value=curColProps.script></ep-editor-control></div><div ng-show="state.controlKind == \'editor\'"><div ng-hide="state.control === \'$new\'"><ep-editor-control column=colBinding value=curColProps.binding></ep-editor-control><ep-editor-control column=colCaption value=curColProps.caption></ep-editor-control><ep-editor-control column=colHidden value=curColProps.hidden></ep-editor-control><ep-editor-control column=colReadOnly value=curColProps.updatable></ep-editor-control><ep-editor-control column=colStyle value=curColProps.style></ep-editor-control><ep-editor-control column=colValidate value=curColProps.validate></ep-editor-control></div></div><div ng-show="state.controlKind == \'html\'"><div ng-hide="state.control === \'$new\'"><ep-editor-control column=colHTML value=curColProps.html></ep-editor-control><ep-editor-control column=colStyle value=curColProps.style></ep-editor-control></div></div><button ng-show="state.control === \'$new\'" class="btn btn-primary btn-block" ng-click=addColumn() style="margin-right: 15px"><i class="fa fa-plus"></i> Add Control</button> <button ng-hide="state.control === \'$new\' || state.control === \'$container\' || !state.control" class="btn btn-primary btn-block" ng-click=removeColumn() style="margin-right: 15px"><i class="fa fa-minus"></i> Remove Control</button></div>'),a.put("src/components/ep.customization/ep-customization-manage.html",'<div class="well panel panel-default" style="max-width: 300px" ng-controller=epCustomManageCtrl><div class="panel-heading panel-heading-small"><div class=ep-align-hcenter>Actions</div></div><div class="panel-body ep-padding-none"><button type=button class="btn btn-primary btn-block ep-padding-top" ng-click=btnClickClearAllCustomizations()>Clear All Customizations</button> <button type=button class="btn btn-primary btn-block ep-padding-top" ng-click=btnClickExport()>Export</button> <button type=button class="btn btn-primary btn-block ep-padding-top" ng-click="config.manage.showImport = !config.manage.showImport">Import</button> <input ng-show="config.manage.showImport === true" input id=file type="file"></div></div>'),a.put("src/components/ep.customization/ep-customization-record-editor.html",'<!--This is a partial for the ep-customization directive --><div class="ep-customization-record-editor ep-padding-top ep-padding-bottom"><ep-editor-control column=columnList value=column.name></ep-editor-control><div><a ng-hide="curColCtx || !column.name" class="btn btn-primary pull-right" ng-click=addColumn() style="margin-right: 15px"><i class="fa fa-plus"></i> Add Column</a> <a ng-show="curColCtx && curColCtx.col.isCustom" class="btn btn-primary pull-right" ng-click=removeColumn() style="margin-right: 15px"><i class="fa fa-remove"></i> Remove Column</a></div><div ng-show="curColCtx && column.name"><ep-editor-control column=colCaption value=curColProps.caption></ep-editor-control><ep-editor-control column=colHidden value=curColProps.hidden></ep-editor-control><ep-editor-control column=colReadOnly value=curColProps.readonly></ep-editor-control><ep-editor-control column=colStyle value=curColProps.style></ep-editor-control><ep-editor-control column=colValidate value=curColProps.validate></ep-editor-control></div></div>'),a.put("src/components/ep.customization/ep-customization.html",'<!--This is a partial for the ep-customization directive --><div class="ep-customization container" style="width:250px; padding: 2px"><nav class="ep-main-navbar navbar-sm navbar-default navbar-fixed"><ul class="nav navbar-nav align-right" ng-controller1=NavCtrl><li><a class="ep-navbar-button fa fa-cog fa-2x" ng-click=btnClickManage()></a></li><li><a class="ep-navbar-button fa fa-save fa-2x" ng-click=btnClickSave()></a></li><li><a class="ep-navbar-button fa fa-times fa-2x" ng-click=btnClickClearCustomization()></a></li></ul></nav><div class="well row"><ep-editor-control column=customizationsList value=customListValue></ep-editor-control><div ng-if="customization && customization.kind === \'ep-record-editor\'"><ep-customization-record-editor customization-data=customizationData></ep-customization-record-editor></div><div ng-if="customization && customization.kind === \'ep-customizable-freeform\'"><ep-customization-freeform customization-data=customizationData></ep-customization-freeform></div><div ng-if="customization && customization.kind === \'ep-table\'"><ep-customization-eptable customization-data=customizationData></ep-customization-eptable></div><hr><!--<button ng-if="customization" type="button" class="btn btn-primary btn-block ep-padding-top" ng-click="btnClickSave()">Save</button>\r\n        <button ng-if="customization" type="button" class="btn btn-primary btn-block ep-padding-top" ng-click="btnClickClearCustomization()">Clear Customization</button>\r\n        <button type="button" class="btn btn-primary btn-block ep-padding-top" ng-click="btnClickClearAllCustomizations()">Clear All Customizations</button>\r\n        <button type="button" class="btn btn-primary btn-block ep-padding-top" ng-click="btnClickExport()">Export</button>\r\n        <button type="button" class="btn btn-primary btn-block ep-padding-top" ng-click="showImport = !showImport">Import</button>\r\n        <input ng-show="showImport === true" input id="file" type="file"  />--></div></div>'),a.put("src/components/ep.datagrid/datagrid-dialog.html",'<div class="form-group ep-datagrid-dialog" ng-class=config.gridClass><ep-data-grid ep-data-grid-on-init=config.onDataGrid(factory)></ep-data-grid></div>'),a.put("src/components/ep.datagrid/datagrid-filter/datagrid-filter-row.html",'<tr id=rowFilter class=ep-datagrid-filter-row ng-show="state.filterShowFlag === true"><th ng-repeat="ctx in state.filterEditors" class=ep-datagrid-filter-header ng-class=ctx.className><div ng-if="ctx.hidden !== true"><div class="ep-datagrid-filter-group input-group"><span class="ep-datagrid-filter-op input-group-addon fa-stack fa-lg" ng-click=fnFilterOpChange(ctx)><i class="ep-datagrid-filter-op-icon fa fa-circle-thin fa-stack-2x"></i> <i class="ep-datagrid-filter-text fa-stack-1x fa" ng-class="{\'fa-asterisk\': ctx.operator === \'*\', \'\': ctx.operator !== \'*\' }" operator={{ctx.operator}} col={{ctx.columnIndex}} id=filterOp_{{ctx.columnIndex}}>{{ctx.operatorText}}</i></span> <input class="col-md-8 form-control editor" style="color: black" ng-model=ctx.value type={{ctx.type}} col={{ctx.columnIndex}} colname={{ctx.columnName}} operator={{ctx.operator}} id=filterInput_{{ctx.columnIndex}} ng-blur=fnFilterBlur(ctx) ng-keyup="fnFilterKeyUp(ctx, $event)" name="filterInput_{{ctx.columnIndex}}"></div></div></th></tr>'),
a.put("src/components/ep.datagrid/datagrid-summary/datagrid-summary-row.html",'<th ng-repeat="ctx in state.summaryRow.columns" class=ep-dg-summary-col ng-class=ctx.className><div ng-if=ctx.value>{{ctx.value}}</div><div ng-if=ctx.valueList ng-repeat="v in ctx.valueList">{{v.value}}</div></th>'),a.put("src/components/ep.datagrid/datagrid.html",'<div class=ep-data-grid id={{state.dataGridId}} ng-class="{\'ep-data-grid-child\' : state.isChildGrid}"><div class="ep-dg-grid-search clearfix" ng-show=state.allowSearchInput ng-class="(options.showConfigButton === true) ? \'input-group\' : \'\'"><span ng-show="options.showConfigButton === true" class="ep-dg-config input-group-addon"><ep-dropdown-btn menu=configmenu icon=""></ep-dropdown-btn></span> <input class="ep-dg-search-input form-control input-sm pull-left" name=search type=search placeholder=Search ng-class=searchInputClass ng-model=state.searchValue ng-init=fnOnSearchBlur() ng-blur=fnOnSearchBlur($event) ng-focus=fnOnSearchFocus($event) ng-keyup=fnOnSearchKeyUp($event) ng-change="fnOnSearchChange($event)"> <span class="ep-dg-search-icon-overlay pull-right" ng-class="{\'invisible\': state.searchValue + \'\' === \'\'}" ng-click=clearSearch()><i class="fa fa-lg fa-times"></i></span></div><div ng-if=options.showHeaderSection class="panel-footer ep-datagrid-header-section" ng-controller=headerSectionController><div ng-if=state.headerSectionTemplate ng-bind-html=state.headerSectionTemplate></div><div ng-if=state.headerSectionTemplateUrl ng-include=state.headerSectionTemplateUrl></div></div><div id=tblArea_{{state.dataGridId}} class=ep-dg-grid-table-area><table id=tbl_{{state.dataGridId}} cellpadding=0 cellspacing=0 border=0 class="ep-dg-grid-table table table-bordered table-hover" fixed-header></table><div class=ep-dg-progressIndicator ng-show=showProgress><span class="fa fa-spinner fa-pulse fa-5x"></span></div></div><div ng-if=options.showFooterSection class="panel-footer ep-datagrid-footer-section" ng-controller=footerSectionController><div ng-if=state.footerSectionTemplate ng-bind-html=state.footerSectionTemplate></div><div ng-if=state.footerSectionTemplateUrl ng-include=state.footerSectionTemplateUrl></div></div></div>'),a.put("src/components/ep.datagrid/ep.datagrid.json/ep-datagrid-json.html",'<div class="form-group ep-datagrid-simple" ng-class=gridClass><ep-data-grid ep-data-grid-on-init=onDataGrid(factory)></ep-data-grid></div>'),a.put("src/components/ep.dock.panel/epDockPanel.html","<div class=\"ep-dock-panel ep-fullscreen\" id={{panelId}} ng-style=\"{ 'flex-flow': mainFlow}\"><div id={{id}}_left class=ep-dock-panel-left ng-show=leftVisible ng-style=\"{ 'flex': leftFlex, 'flex-flow': leftFlow, 'justify-content': leftJustify }\"></div><div id={{id}}_right class=ep-dock-panel-right ng-show=rightVisible ng-style=\"{ 'flex': rightFlex, 'flex-flow': rightFlow, 'justify-content': rightJustify  }\"></div><div id={{id}}_top class=ep-dock-panel-top ng-show=topVisible ng-style=\"{ 'flex': topFlex, 'flex-flow': topflow, 'justify-content': topJustify  }\"></div><div id={{id}}_bottom class=ep-dock-panel-bottom ng-show=bottomVisible ng-style=\"{ 'flex': bottomFlex, 'flex-flow': bottomFlow, 'justify-content': bottomJustify  }\"></div><div id={{id}}_cross class=ep-dock-panel-cross-axis ng-style=\"{ 'flex-flow': crossFlow, 'flex': crossFlex }\"><div id={{id}}_center class=ep-dock-panel-center ng-show=centerVisible ng-style=\"{ 'flex':centerFlex, 'flex-flow': centerflow, 'justify-content': centerJustify  }\"></div></div><div ng-show=false id=transclusion ng-transclude></div></div>"),a.put("src/components/ep.dropdown/ep-dropdown-btn/ep-dropdown-btn.html",'<!--This is a partial for the ep-dropdown directive --><div class=ep-dropdown-btn><div class=row><div class=col-lg-12><div class=button-group><button type=button class="btn btn-default btn-sm dropdown-toggle" data-toggle=dropdown><span ng-class="icon ? icon : \'glyphicon glyphicon-cog\'"></span> <span class=caret></span></button><ul class=dropdown-menu><li ng-repeat="item in menu" ng-hide="item.visible === false"><a href=# ng-click="menuClick(item, $event)" class=small tabindex=-1><input type=checkbox class=ep-dropdown-btn-chk ng-model="item.checked">&nbsp;{{item.caption}}</a></li></ul></div></div></div></div>'),a.put("src/components/ep.embedded.apps/embedded-apps.html",'<div id=appHost><div id=splash ng-if=appConfig.splash ng-show=showSplash ep-animation options=appConfig.splash.transition><div id=splashContainer ng-include="getEmbeddedAppPath(appConfig.id, appConfig.splash.templateUrl)"></div></div><div id=appContent ng-show=showApp ep-animation options=currentView.transition><ep-embedded-apps-loader config=appConfig on-complete=onLoaderComplete()></ep-embedded-apps-loader></div></div>'),a.put("src/components/ep.filter.list/filter_list.html",'<div class=ep-search-list-container><div class=row><div class="col-xs-9 col-sm-10 col-md-10"><span class="fa fa-search ep-pad-left-10"></span> <input id=searchinput class="search-query form-control" ng-focus="showRemove=true" ng-model=searchBy placeholder="{{searchPrompt || (\'emf.ep.filter.list.label.search\' | epTranslate)}}" ng-change="changeHandler(searchBy)"> <span class="ep-cicrm-delete text-danger" ng-if=showRemove ng-click=clearSearch()></span></div><div class="col-xs-3 col-sm-2 col-md-2 result-count-container text-center"><div>{{count}}</div><div>{{\'emf.ep.filter.list.label.result\' | epTranslate}}</div></div></div></div>'),a.put("src/components/ep.icon.selector/icon_selector.html",'<div class=ep-icon-selector-container ng-style="{ \'width\': width }"><div class=input-group><input class=form-control ng-model=ngModel><div class=input-group-btn><button type=button class="btn btn-default dropdown-toggle" data-toggle=dropdown aria-expanded=false><span class="fa {{ngModel}}"></span></button><div class="dropdown-menu dropdown-menu-right" role=menu ng-style="{ \'width\': iconListWidth }"><div class="icon-filter-field vertical-align text-center"><input class=form-control placeholder="Type to filter" ng-model=filteredIcon></div><ul class=icon-list ng-style="{ \'max-height\': iconListHeight }"><li ng-repeat="icon in icons | orderBy | filter: filteredIcon" ng-click=selectIcon(icon)><span class="fa fa-{{icon}}"></span>fa-{{icon}}</li></ul></div></div></div></div>'),a.put("src/components/ep.list/ep-list.html",'<div class=ep-list-container><script id=defaultItemContentTemplate type=text/ng-template><div class="ep-list-item-text">\r\n            <div class="ep-list-item-title ep-crm-text-ellipsis">{{ obj[mainTitle] }}</div>\r\n            <div ng-if="subTitle" class="ep-list-item-sub-title ep-crm-text-ellipsis">{{wrapFormatSubtitle(subTitle, obj)}}</div>\r\n            <div ng-if="additionalTitle" class="ep-list-item-additional-title ep-crm-text-ellipsis">{{wrapFormatAdditionalTitle(additionalTitle, obj)}}</div>\r\n            <div ng-if="otherAdditionalTitle" class="ep-list-item-additional-title ep-crm-text-ellipsis">{{wrapFormatOtherAdditionalTitle(otherAdditionalTitle, obj)}}</div>\r\n        </div>\r\n        <div class="ep-list-item-details">\r\n            <span class="ep-crm-text-ellipsis">{{obj[id]}}</span>\r\n            <div ng-if="statuses" class="ep-list-item-status  ep-crm-text-ellipsis">\r\n                <div class="status-period ep-crm-text-ellipsis">{{formatStatusPeriod(statuses, obj)}}</div>\r\n                <div class="status status-text ep-crm-text-ellipsis {{getStatusTextClass(statuses, obj)}}">{{formatStatusText(statuses, obj)}}</div>\r\n                <div class="status-source ep-crm-text-ellipsis {{getStatusSourceClass(statuses, obj)}}">{{formatStatusSource(statuses, obj)}}</div>\r\n            </div>\r\n        </div>\r\n        <div class="ep-list-item-decorator">\r\n            <div class="ep-list-arrow" ng-if="arrow"><i class="ep-cicrm-right-chevron"></i></div>\r\n            <div class="ep-margin-right-15 text-primary" ng-if="(!multiSelect && selectMarkField && obj[selectMarkField] == selectMarkFieldValue) || (multiSelect && selectMarkField && selectMarkFieldValue.indexOf(obj[selectMarkField]) > -1)"\r\n                ng-class="{\'ep-margin-top-10\':subTitle && !additionalTitle && !otherAdditionalTitle, \'ep-margin-top-15\': additionalTitle || otherAdditionalTitle}"><i class="fa fa-check"></i></div>\r\n        </div></script><script id=listItemTemplate type=text/ng-template><div ng-if="groupBy && directory[obj[groupBy]] && directory[obj[groupBy]].data === obj" class="ep-dir-divider ep-group-heading"><b>{{wrapFormatGroupTitle(obj)}}</b></div>\r\n        <div class="ep-list-item-content" ng-include="itemContentTemplate"></div></script><!--Calling filter list component for search option--><ep-filter-list search-by=listSearch count="filtered ? filterState.filterResult.length : items.count" search-prompt=searchPrompt></ep-filter-list><!--Header as optional--><div class=ep-list-sub-header ng-if="subHeader == \'true\'"><label ng-click=filter() ng-hide="hideDisplayOptions == \'true\'">{{\'emf.ep.list.label.filter\' | epTranslate}} <i class="fa fa-check ep-list-filter-indicator" ng-if=showFilterOn></i></label><label ng-click=sort() ng-hide="hideDisplayOptions == \'true\'">{{\'emf.ep.list.label.sort\' | epTranslate}} <i class="fa fa-check ep-list-filter-indicator" ng-if=showSortOn></i></label><span class="pull-right ep-pad-right-20 text-primary" ng-hide="hideAdd == \'true\'" ng-click=add()><i class="fa fa-plus fa-lg" aria-hidden=true></i></span></div><!-- Alphabet Selector --><div class=ep-list-directory ng-class="{\'ep-header-visible\':subHeader == \'true\'}" ng-if="showDirectory && groupBy"><div class=ep-list-directory-item ng-repeat="(id,dir) in directory | epOrderObjectBy:\'sort\'"><a ng-if="dir.letter === \'*\'" class=ep-list-directory-item-enabled ng-click=goToDirectory(dir)><i class="fa fa-asterisk"></i></a> <span ng-if="(dir.letter !== \'*\') && dir.disabled" class=text-muted>{{dir.letter}}</span> <a ng-if="(dir.letter !== \'*\') && !dir.disabled" class=ep-list-directory-item-enabled ng-class="{ \'text-danger\': selectedDirectoryEntry.letter === dir.letter && filtered }" ng-click=goToDirectory(dir)>{{dir.letter}}</a></div></div><div ng-if=useVirtualScrolling><ul class=ep-list ng-class="{\'ep-header-visible\':subHeader == \'true\'}" ng-if=!filtered id={{localId}} vs-repeat={{vsItemSize}} vs-excess={{vsRenderBufferSize}} vs-options="{ latch: {{vsLatch}} }"><li ng-repeat="obj in listData" ng-click=handler(obj) class=ep-list-item ng-include="\'listItemTemplate\'"></li></ul><ul class=ep-list ng-class="{\'ep-header-visible\':subHeader == \'true\'}" ng-if=filtered id={{localId}} vs-repeat={{vsItemSize}} vs-excess={{vsRenderBufferSize}} vs-options="{ latch: {{vsLatch}} }"><li ng-repeat="obj in (filterState.filterResult = (filteredData | filter:filterByName))" ng-click=handler(obj) class=ep-list-item ng-include="\'listItemTemplate\'"></li></ul></div><div ng-if=!useVirtualScrolling><ul class=ep-list ng-class="{\'ep-header-visible\':subHeader == \'true\'}" ng-if=!filtered id={{localId}}><li ng-repeat="obj in listData track by $index" ng-click=handler(obj) class=ep-list-item ng-include="\'listItemTemplate\'"></li></ul><ul class=ep-list ng-class="{\'ep-header-visible\':subHeader == \'true\'}" ng-if=filtered id={{localId}}><li ng-repeat="obj in (filterState.filterResult = (filteredData | filter:filterByName))" ng-click=handler(obj) class=ep-list-item ng-include="\'listItemTemplate\'"></li></ul></div></div>'),a.put("src/components/ep.menu.builder/context.menu/ep-context-menu.html",'<span class="ep-relative ep-context-menu-owner"><span class="ep-actionset ep-interactivity-context-menu"><span class=ep-context-menu ng-click=contextMenuCtrl.onDynamicMenuCall($event)></span></span></span>'),a.put("src/components/ep.menu.builder/dynamic.menu/ep-dynamic-menu.html",'<div id=ep-dynamic-menu ng-show=dynamicMenuCtrl.menuItems><ul class="dropdown-menu ep-actions-menu list-unstyled noselect" role=menu><li ng-repeat="menuItem in dynamicMenuCtrl.menuItems" ng-switch=menuItem.type><a ng-switch-when=action class=ep-actions-menu-item ng-click="dynamicMenuCtrl.invokeAction($event, menuItem, dynamicMenuCtrl.context)"><span class="icon {{menuItem.icon}}"></span><span>{{::menuItem.caption}}</span></a><div ng-switch-when=separator class=ep-actions-menu-item-separator></div></li><li class=ep-actions-menu-item-mobile><a class="ep-actions-menu-item edd-red separate" ng-click=dynamicMenuCtrl.closeMenu()><span class="icon icon-clear"></span><span>Close</span></a></li></ul></div>'),a.put("src/components/ep.modaldialog/modals/modaldialog-custom.html",'<div id=modaldialog class="ep-modaldialog ep-modaldialog-custom"><div id=dialog-header class="modal-header ep-modal-header ep-padding-none"><span class=close ng-show=config.closeButton><a class="fa fa-times fa-lg ep-navbar-button" data-dismiss=modal aria-label=Close ng-click="btnclick({isCancel: true})"></a></span> <span class=help ng-show="config.helpTemplateOptions || config.fnHelpAction"><a class="fa fa-question-circle fa-lg ep-navbar-button" ng-click=helpButtonClick()></a></span><h4 id=dialogTitle class="bg-primary modal-title ep-margin-none clearfix"><span class="ep-dlg-title-icon {{config.icon}}"></span> <span class=ep-dlg-title ng-bind=config.fnGetTitle()></span></h4></div><div id=dialog-area class="modal-body ep-modal-area"><form id=dialogForm name=dialogForm><uib-alert ng-if=config.helpTemplateOptions ng-show=showHelp type=info close=closeHelp()><ep-include options=config.helpTemplateOptions></ep-include></uib-alert><!--<div ng-include="config.templateUrl"></div>--><ep-include options=config.templateOptions></ep-include><div class="ep-dlg-rememberMe col-md-10" ng-show=config.rememberMe><div class=form-group><div class="row col-md-1"><input tabindex=1 id=cbxRemember class=form-control type=checkbox ng-model=config.rememberMeValue></div><label class="col-md-10 control-label">{{\'emf.ep.modaldialog.label.doNotShowMsgAgain\' | epTranslate}}</label></div></div></form></div><div id=dialog-footer class="modal-footer ep-modal-footer" ng-show="config.buttons && config.buttons.length"><div class=ep-dlg-buttons><button ng-repeat="btn in config.buttons" id={{btn.id}} tabindex="$index + 100" data-dismiss=modal ng-hide=btn.hidden ng-disabled="btn.isPrimary && !dialogForm.$valid" class="btn btn-{{btn.type}} {{config.btnBlock == true ? \'btn-block\':\'\'}}" ng-click=btnclick(btn)><i ng-if=btn.icon ng-class=btn.icon></i> &nbsp;{{btn.text}}</button></div></div><div id=dialog-status class=ep-dlg-status ng-show=config.statusBar><h4 class="bg-primary modal-title"><span ng-if=!config.statusBarTextHTML ng-bind=config.statusBarText></span> <span ng-if=config.statusBarTextHTML ng-bind-html=config.statusBarTextHTML></span></h4></div></div>'),a.put("src/components/ep.modaldialog/modals/modaldialog-error.html",'<!--Custom Dialog Error Template--><div id=modal-error class="ep-modaldialog-error ep-error-dialog" ng-controller=epModalDialogErrorCtrl><section ng-if=config.callFnHideModalError ng-hide=config.fnHideModalError()></section><div class="alert clearfix ep-dialog-alert" ng-class=config.statusClass><table class=ep-dlg-bodytable><tr><td><span ng-if=config.showSpinner class="ep-dlg-icon fa-stack fa-2x"><i class="ep-dlg-spinner-icon fa fa-spin fa-stack-2x" ng-class=config.spinnerIconClass></i> <i ng-if=config.showTimer class="ep-dlg-spinner-text fa fa-stack-1x {{config.spinnerTextClass}}" ng-class=config.spinnerTextClass>{{config.countDown}}</i></span> <span ng-if=!config.showSpinner class=ep-dlg-icon><i class="fa fa-3x" ng-class=config.statusIcon></i></span></td><td><span class=ep-dlg-message ng-class=config.messageClass ng-bind=config.fnGetMessage()></span></td></tr></table></div><div class=ep-message-details ng-show=config.messageDetails><a href="" ng-click="config.showDetails = !config.showDetails;">{{config.showDetails ? (\'emf.ep.modaldialog.label.hideDetails\' | epTranslate): (\'emf.ep.modaldialog.label.showDetails\' | epTranslate)}}</a><div ng-show=config.showDetails><textarea ng-model=config.messageDetails ng-readonly=true disabled></textarea></div></div></div>'),a.put("src/components/ep.modaldialog/modals/modaldialog-pane.html",'<div class="ep-modaldialog ep-modaldialog-pane ep-ease-animation ep-hide-fade" ng-hide=!dialogState.isVisible><div class=ep-dlg-container ng-class="[config.dialogTypeClass, config.containerClass]"><div class="ep-dlg-center clearfix"><span ng-if=!config.showLoading class="ep-dlg-icon pull-left" ng-class=config.iconClass style="margin-right: 10px; margin-top: 5px"><span ng-if=config.showSpinner class="ep-dlg-icon fa-stack fa-2x"><i class="ep-dlg-spinner-icon fa fa-spin fa-stack-2x" ng-class=config.spinnerIconClass></i> <i ng-if=config.showTimer class="ep-dlg-spinner-text fa fa-stack-1x" ng-class=config.spinnerTextClass>{{config.countDown}}</i></span> <i ng-if=!config.showSpinner ng-class=config.icon></i></span><div ng-class="{\'pull-left\': !config.showLoading}"><span class=ep-dlg-title ng-class=config.titleClass ng-bind=config.fnGetTitle()></span> <span class="ep-dlg-icon fa-stack fa-2x" ng-if=config.showLoading><i class="ep-dlg-spinner-icon fa fa-spin fa-stack-2x fa-spinner fa-pulse"></i></span><p class=ep-dlg-message ng-class=config.messageClass ng-bind=config.fnGetMessage()></p><div class="ep-dlg-rememberMe form-group" ng-show=config.rememberMe><div class=checkbox><input tabindex=1 id=cbxRemember type=checkbox ng-model=config.rememberMeValue><label>{{\'emf.ep.modaldialog.label.doNotShowMsgAgain\' | epTranslate}}</label></div></div><!--<div class="ep-dlg-progress-indicator" ng-show="config.showProgress"><span class="fa fa-pulse fa-spinner fa-5x" ng-class="config.progressClass"></span></div>--><!--<div class="ep-dlg-progress-indicator" ng-show="config.showProgress && config.showTimer"><span ng-class="config.timerClass">{{config.countDown}}</span></div>--><div class=ep-dlg-buttons ng-if="config.buttons && config.buttons.length > 0"><button ng-repeat="btn in config.buttons" id=btn.id tabindex="$index + 100" data-dismiss=modal ng-hide=btn.hidden class="btn btn-{{btn.type}} btn-sm" ng-click=btnclick(btn)><i ng-if=btn.icon ng-class=btn.icon></i> &nbsp;{{btn.text}}</button></div></div></div></div></div>'),a.put("src/components/ep.multi.level.menu/ep-shell-menu/ep-shell-menu.html",'<div ng-controller=epShellMenuCtrl class=ep-shell-menu-container><ep-multi-level-menu ng-if="menuOptions.menuType !== \'accordion\'" menu=menuOptions.menu menu-id=menuId search-disabled=menuOptions.searchDisabled sort-disabled=menuOptions.sortDisabled icon-disabled=menuOptions.iconDisabled init-favorites=menuOptions.initFavorites on-top-menu-click=onTopMenuClick on-menu-init=menuOptions.onMenuInit(factory)></ep-multi-level-menu><ep-accordion-menu ng-if="menuOptions.menuType === \'accordion\'" menu=menuOptions.menu menu-id=menuId main-header="menuOptions.title || \'Menu\'" favorites-header="menuOptions.favoritesHeader || \'Favorites\'" search-results-header="menuOptions.searchResultsHeader || \'Search Results\'" search-disabled=menuOptions.searchDisabled sort-disabled=menuOptions.sortDisabled icon-disabled=menuOptions.iconDisabled init-favorites=menuOptions.initFavorites navigate-alternate-icon=menuOptions.navigateAlternateIcon on-top-menu-click=onTopMenuClick on-expand=menuOptions.onExpand commit-menu-state=commitMenuState alternate-search-enabled=!!menuOptions.alternateSearch alternate-search="menuOptions.alternateSearch(source, searchTerm, results)" on-menu-init=menuOptions.onMenuInit(factory)></ep-accordion-menu></div>'),a.put("src/components/ep.multi.level.menu/multi-level-menu.html",'<div class=ep-mlm-container ng-class="{\'ep-left-to-right\': !isRightToLeft, \'ep-right-to-left\': isRightToLeft}"><form class=ep-mlm-search ng-hide=searchDisabled><input class="form-control ep-mlm-search-input" placeholder=Search ng-model=state.searchTerm ng-change=search() ng-focus="isRightToLeft = false"> <span class=ep-mlm-search-cancel ng-show=state.searchTerm><i class="fa fa-times" ng-click="state.searchTerm=\'\'"></i></span></form><div ng-if=data.next class="ep-mlm-content ep-fadein-animation"><div ng-hide=state.searchTerm class=ep-mlm-header ng-class="{ \'pointer\': data.next._parent._id !== \'topmenu\'}" ng-click="navigate(data.next._parent, true, $event)"><span ng-if="data.next._parent._id !== \'topmenu\'" class="ep-mlm-back-button pull-left fa fa-lg fa-caret-left"></span> <span>{{data.next.caption}}</span></div><div ng-show=state.searchTerm class=ep-mlm-header><span>Search Results</span></div><ul><li ng-repeat="mi in currentItems | orderBy:orderByMenu" class="ep-mlm-item clearfix ep-repeat-animation"><div ng-if="mi.separator && !mi.separator.isBottom" class="ep-mlm-separator ep-mlm-separator-top {{mi.separator.class}}"><i ng-if=mi.separator.icon class="ep-mlm-separator-icon fa fa-lg pull-left {{mi.separator.icon}}"></i><div ng-if=mi.separator.text class=ep-mlm-separator-text>{{mi.separator.text}}</div></div><i ng-if="mi.icon && !iconDisabled" class="ep-mlm-icon fa fa-lg pull-left {{mi.icon}}"></i><div class="pull-left clearfix ep-mlm-item-div" ng-class="{ \'ep-mlm-item-div-icon\': mi.icon }" ng-click="navigate(mi, false, $event)"><div class="ep-mlm-item-text pull-left {{mi.captionClass}}" title={{mi.caption}}>{{mi.caption}}</div></div><i ng-if="(mi._type === \'item\' && mi.hideFavorite !== true)" class="ep-mlm-favorite fa fa-lg pull-right" ng-click="toggleFavorite(mi, $event)" ng-class="{ \'fa-star-o\': !mi.favorite, \'fa-star text-warning\': mi.favorite}"></i> <i ng-if="mi._type === \'menu\'" class="ep-mlm-submenu fa fa-lg fa-caret-right pull-right" ng-click="navigate(mi, false, $event)"></i><div ng-if="mi.separator && mi.separator.isBottom"><br><div class="ep-mlm-separator ep-mlm-separator-top {{mi.separator.class}}"><i ng-if=mi.separator.icon class="ep-mlm-separator-icon fa fa-lg pull-left {{mi.separator.icon}}"></i><div ng-if=mi.separator.text class=ep-mlm-separator-text>{{mi.separator.text}}</div></div></div></li></ul><uib-alert class="ep-mlm-alert ep-fadein-animation" ng-show="state.searchTerm && (!currentItems || currentItems.length === 0)" type=warning>The term "{{state.searchTerm}}" did not match any menu items.</uib-alert></div></div>'),a.put("src/components/ep.photo.browser/ep-photo-browser.html","<!--This is a partial for the ep-photo-browser directive --><div class=content ng-controller=epPhotoBrowserCtrl><ng-gallery images=images show-preview=showPreview></ng-gallery></div>"),a.put("src/components/ep.record.editor/editors/ep-checkbox-editor.html",'<section><section ng-if="checkBoxMode ===\'checkbox\'" class="ep-editor-checkbox ep-center-item editor" tabindex=0 ng-keyup=handleKey($event) ng-click=ctx.toggleValue(ctx,$event) ng-hide=ctx.fnDoValidations()><span ng-class="{\'fa-square-o\': !value, \'fa-check-square-o\': value}" class="fa fa-{{ctx.checkBoxSize}}"></span></section><section ng-if="checkBoxMode ===\'switch\'" class="ep-editor-switch editor" ng-keyup=handleKey($event) ng-hide=ctx.fnDoValidations()><ep-switch ng-model=temp.chk></ep-switch></section></section>'),a.put("src/components/ep.record.editor/editors/ep-date-editor.html",'<section class=ep-date-editor><input id=dd_{{ctx.name}} ng-model=value ep-date-convert=toDate ng-hide="true"><div class="input-group date datepicker" id=dp_{{ctx.name}} ng-if=!ctx.useDateInput><span ng-if=ctx.classLeftBtns class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'pre\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span> <input size=16 ep-date-convert=toString id={{ctx.name}} name={{ctx.name}} ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly class="form-control editor {{isMeridian ? \'ep-time-meridian\' : \'\'}}" ng-hide=ctx.fnDoValidations() ng-model=ctx.dateValue ng-change=ctx.fnOnChange($event) ng-blur=ctx.fnBlur($event) pattern={{ctx.pattern}} ng-keydown=ctx.fnDateKeyDown($event) uib-datepicker-popup={{ctx.format}} data-container=body datepicker-options111={{ctx.dateOptions}} placeholder={{ctx.format}} ng-pattern={{ctx.pattern}} is-open="ctx.dateOpened"> <span ng-if="showTime === true" class="input-group-addon ep-time-picker {{isMeridian ? \'ep-time-meridian\' : \'\'}} {{showInNewLine ? \'ep-time-new-line\' : \'\'}}" uib-timepicker show-spinners=false ng-model=ctx.timeValue ng-change=timeChanged() hour-step=hourStep minute-step=minuteStep show-meridian=isMeridian></span> <span class=input-group-addon ng-click=ctx.fnDateOpen($event) ng-style="{ \'cursor\': ctx.disabled ? \'not-allowed\' : \'pointer\' }"><a ng-if=!ctx.disabled><i class="fa fa-calendar"></i></a> <i ng-if=ctx.disabled class="fa fa-calendar"></i></span> <span ng-if=ctx.classRightBtns class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'post\'}" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span></div><div class="input-group date" id=dp_{{ctx.name}} ng-if="ctx.useDateInput === true"><span ng-if=ctx.classLeftBtns class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'pre\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span> <input size=16 type=date ep-date-convert=toString id={{ctx.name}} name={{ctx.name}} ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly class="form-control editor {{isMeridian ? \'ep-time-meridian\' : \'\'}}" ng-hide=ctx.fnDoValidations(this) ng-model=ctx.dateValue ng-change=ctx.fnOnChange($event) ng-blur="ctx.fnBlur($event)"> <span ng-if="showTime === true" class="input-group-addon ep-time-picker {{isMeridian ? \'ep-time-meridian\' : \'\'}} {{showInNewLine ? \'ep-time-new-line\' : \'\'}}" uib-timepicker show-spinners=false ng-model=ctx.timeValue ng-change=timeChanged() hour-step=hourStep minute-step=minuteStep show-meridian=isMeridian></span> <span ng-if=ctx.classRightBtns class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'post\'}" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span></div></section>'),a.put("src/components/ep.record.editor/editors/ep-editor-control.html",'<div class="ep-editor-control {{ctx.sizeClass}} ep-editor-mode-{{ctx.mode}} {{ctx.classRightBtns}} {{ctx.classLeftBtns}}" ng-hide=ctx.hidden ep-drop-area drop-enabled="isDropEnabled === true" drop-handler=handleDrop drop-item-types=typeEditorCtrl ng-style=ctx.style><fieldset ng-if="isRow !== true" class="form-group ep-record-editor-container" ng-class="{\'has-error\': ctx.invalidFlag}" ep-draggable drag-enabled="isDragEnabled === true" drag-item=ctx drag-item-type="\'typeEditorCtrl\'"><!--display caption above editor or just editor (mini mode)--><div class="ep-div-editor-label {{ctx.col.classLabel}}"><label class=ep-editor-label for={{ctx.name}} ng-if="ctx.mode !== \'mini\'">{{ctx.label}}<span ng-if=ctx.requiredFlag class="required-indicator text-danger fa fa-asterisk"></span></label></div><div class={{ctx.col.classEditor}}><section id=xtemplate></section></div></fieldset><div ng-if="isRow === true" class="ep-record-editor-container ep-is-row-editor row"><!--display caption and editor in a bootstrap grid system in horizontal row--><div class="ep-div-editor-label {{ctx.col.classLabel || \'col-xs-4\'}}"><label class=ep-editor-label for={{ctx.name}}>{{ctx.label}}<span ng-if=ctx.requiredFlag class="required-indicator text-danger fa fa-asterisk"></span></label></div><div class={{ctx.col.classEditor}}><section id=xtemplate></section></div></div></div>'),a.put("src/components/ep.record.editor/editors/ep-image-editor.html",'<section><img alt={{ctx.label}} id={{ctx.name}} ng-src={{value}} width={{ctx.imageWidth}} height="{{ctx.imageHeight}}"></section>'),a.put("src/components/ep.record.editor/editors/ep-multiline-editor.html",'<section><div ng-class="{\'input-group\': ctx.buttons && ctx.buttons.length > 0 }"><span ng-if=ctx.classLeftBtns class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'pre\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span><textarea id={{ctx.name}} name={{ctx.name}} placeholder={{ctx.placeholder}} ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly ng-model=value ng-change=ctx.fnOnChange($event) ng-blur=ctx.fnBlur($event) rows={{ctx.rows}} class="form-control editor" ng-hide=ctx.fnDoValidations() maxlength={{ctx.maxlength}} ng-style="{\'text-align\': ctx.justification }"></textarea><span ng-if=ctx.classRightBtns class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'post\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span></div></section>'),a.put("src/components/ep.record.editor/editors/ep-number-editor-rbutton.html",'<section><div ng-class=input-group><input id={{ctx.name}} ng-cloak ep-number-editor-format={{inputNumberFmt}} name={{ctx.name}} type="{{inputType || \'number\'}}" ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly ng-model=value ng-change=ctx.fnOnChange($event) ng-keydown="fnKeyDown($event, value)" ng-blur="fnBlur($event, value)" ng-focus="fnFocus($event, value)" class="form-control editor" ng-style="{ \'text-align\': ctx.justification }" maxlength={{ctx.maxlength}} min={{ctx.min}} max={{ctx.max}} ng-hide=ctx.fnDoValidations() pattern="{{ctx.pattern}}"> <span class=input-group-addon ng-click="ctx.fnBtnClick(ctx.buttons[0], this, $event)" style="cursor: pointer"><i class={{ctx.buttons[0].style}}>{{ctx.buttons[0].text}}</i></span></div></section>'),a.put("src/components/ep.record.editor/editors/ep-number-editor-simple.html",'<section><div><input id={{ctx.name}} ng-cloak ep-number-editor-format={{inputNumberFmt}} name={{ctx.name}} type="{{inputType || \'number\'}}" ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly ng-model=value ng-change=ctx.fnOnChange($event) ng-keydown="fnKeyDown($event, value)" ng-blur="fnBlur($event, value)" ng-focus="fnFocus($event, value)" class="form-control editor" ng-style="{ \'text-align\': ctx.justification }" maxlength={{ctx.maxlength}} min={{ctx.min}} max={{ctx.max}} ng-hide=ctx.fnDoValidations() pattern="{{ctx.pattern}}"></div></section>'),a.put("src/components/ep.record.editor/editors/ep-number-editor.html",'<section><div ng-class="{\'input-group\': ctx.buttons && ctx.buttons.length > 0 }"><span ng-if=ctx.classLeftBtns class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'pre\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span> <input id={{ctx.name}} ng-cloak ep-number-editor-format={{inputNumberFmt}} name={{ctx.name}} type="{{inputType || \'number\'}}" ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly ng-model=value ng-change=ctx.fnOnChange($event) ng-keydown="fnKeyDown($event, value)" ng-blur="fnBlur($event, value)" ng-focus="fnFocus($event, value)" class="form-control editor" ng-style="{ \'text-align\': ctx.justification }" maxlength={{ctx.maxlength}} min={{ctx.min}} max={{ctx.max}} ng-hide=ctx.fnDoValidations() pattern="{{ctx.pattern}}"> <span ng-if=ctx.classRightBtns class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'post\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span></div></section>'),
a.put("src/components/ep.record.editor/editors/ep-select-editor.html",'<section><div ng-class="{\'input-group\': ctx.buttons && ctx.buttons.length > 0 }"><span ng-if=ctx.classLeftBtns class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'pre\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span><select class="form-control editor" id={{ctx.name}} name={{ctx.name}} ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly ng-change=ctx.fnOnChange($event) ng-blur=ctx.fnBlur($event) ng-hide=ctx.fnDoValidations() ng-model=value><option ng-repeat="opt in ctx.options" label={{opt.label}} value={{opt.value}} ng-selected=opt.getIsSelected()>{{opt.label}}</option></select><span ng-if=ctx.classRightBtns class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'post\'}" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span></div></section>'),a.put("src/components/ep.record.editor/editors/ep-text-editor-rbutton.html",'<section><div class=input-group><input id={{ctx.name}} ng-cloak name={{ctx.name}} type={{ctx.type}} placeholder={{ctx.placeholder}} ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly ng-model=value ng-change=ctx.fnOnChange($event) ng-blur=ctx.fnBlur($event) class="form-control editor" ng-hide=ctx.fnDoValidations() maxlength={{ctx.maxlength}} ng-style="{ \'text-align\': ctx.justification }"> <span class=input-group-addon ng-click="ctx.fnBtnClick(ctx.buttons[0], this, $event)" style="cursor: pointer"><i class={{ctx.buttons[0].style}}>{{ctx.buttons[0].text}}</i></span></div></section>'),a.put("src/components/ep.record.editor/editors/ep-text-editor-simple.html",'<section><div><input id={{ctx.name}} ng-cloak name={{ctx.name}} type={{ctx.type}} placeholder={{ctx.placeholder}} ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly ng-model=value ng-change=ctx.fnOnChange($event) ng-blur=ctx.fnBlur($event) class="form-control editor" ng-hide=ctx.fnDoValidations() maxlength={{ctx.maxlength}} ng-style="{ \'text-align\': ctx.justification }"></div></section>'),a.put("src/components/ep.record.editor/editors/ep-text-editor.html",'<section><div ng-class="{\'input-group\': ctx.buttons && ctx.buttons.length > 0 }"><span ng-if=ctx.classLeftBtns class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'pre\' }" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span> <input id={{ctx.name}} ng-cloak name={{ctx.name}} type={{ctx.type}} placeholder={{ctx.placeholder}} ng-required=ctx.required ng-disabled=ctx.disabled ng-readonly=ctx.readonly ng-model=value ng-change=ctx.fnOnChange($event) ng-blur=ctx.fnBlur($event) class="form-control editor" ng-hide=ctx.fnDoValidations() maxlength={{ctx.maxlength}} ng-style="{ \'text-align\': ctx.justification }"> <span ng-if=ctx.classRightBtns class=input-group-addon ng-repeat="btn in ctx.buttons | orderBy:[\'seq\'] | filter:{ position : \'post\'}" ng-click="ctx.fnBtnClick(btn, this, $event)" style="cursor: pointer"><i ng-if="btn.type == \'btn\'" class={{btn.style}}>{{btn.text}}</i> <a ng-if="btn.type != \'btn\'" class={{btn.style}}>{{btn.text}}</a></span></div></section>'),a.put("src/components/ep.record.editor/ep-record-editor.html",'<div class="row ep-record-editor"><ep-editor-control ng-repeat="(key, ctrl) in state.controls | epOrderObjectBy:\'seq\'" class=ep-record-editor-column column=ctrl.col value=state.activeRecord[ctrl.columnIndex] options=ctrl.options is-drag-enabled=state.dragEnabled is-drop-enabled=state.dropEnabled></ep-editor-control></div>'),a.put("src/components/ep.search/search.html",'<div><header class=reverse><div class=searchControl><form role=form ng-submit=runSearch(searchText)><input type=search placeholder="Enter your search terms..." ng-model=searchText ng-change="changeSearch()"> <span class=input-group-btn><button class="btn btn-default" type=button><span class="icon icon-search"></span></button></span> <button ng-click=runSearch(searchText) ng-disabled=!searchText>search</button></form><div class="alert alert-danger" id=validationSummary role=alert ng-show=hasError>{{status}}</div></div></header><section><div ng-show=enterpriseSearch.searchText><p ng-show=enterpriseSearch.searching>Searching for the following terms: \'{{enterpriseSearch.searchText}}\' ...</p><p ng-show=enterpriseSearch.searchError>{{enterpriseSearch.searchError}}</p></div><ul ng-if=enterpriseSearch.searchResults class=searchResults><li ng-repeat="searchResult in enterpriseSearch.searchResults track by $index" class=searchResultCategory><b>Category: {{searchResult.label | uppercase}}</b><br><ul ng-if=searchResult.results><li ng-repeat="result in searchResult.results" class=searchResult><span class=searchResultHeader ng-class=searchResult.label>{{result.label | uppercase}} - {{result.companyContext}} - {{result.keyTag}}</span><br><div ng-if=result.fields><span ng-repeat="field in result.fields" class=searchResultField>{{field.alias}}: {{field.FieldValue}},</span></div></li></ul></li></ul></section></div>'),a.put("src/components/ep.shell/feedback/feedback_dialog.html",'<div class=form-group><label>{{config.summaryLabel}} <span class="required-indicator text-danger fa fa-asterisk"></span></label><input class=form-control ng-model=config.feedback.summary ng-required="true"></div><div class=form-group><label>{{config.descriptionLabel}} <span class="required-indicator text-danger fa fa-asterisk"></span></label><textarea class=form-control ng-model=config.feedback.description ng-required=true></textarea></div><div class=form-group><label>{{config.customerNameLabel}}</label><input class=form-control ng-model="config.feedback.customerName"></div><div class=form-group><label>{{config.customerEmailLabel}}</label><input class=form-control ng-model="config.feedback.customerEmail"></div>'),a.put("src/components/ep.shell/shell.html",'<div><section ng-controller=epShellCtrl class="ep-shell ep-browser-{{browserName}}" ng-cloak><div ng-show=state.showProgressIndicator class=ep-progress-indicator><span class="fa fa-spin fa-spinner fa-pulse fa-5x"></span></div><nav class="ep-main-navbar navbar-sm navbar-default navbar-fixed-top" ng-class="{hidden: !state.showNavbar, \'cordova-padding\': platform.app === \'Cordova\'}" ng-style="{border: \'none\', \'padding-left\': \'4px\' }"><div class="container-fluid clearfix"><ul class="navbar-nav nav" style="float: none"><!--Left hand side buttons--><li><a id=leftMenuToggle class="pull-left fa {{state.leftToggleButtonIcon}} fa-2x ep-navbar-button left-button" ng-click=toggleLeftSidebar() ng-class="{\'hidden\': !state.showLeftToggleButton}"></a></li><li><a id=homebutton href=#/home class="pull-left fa fa-home fa-2x ep-navbar-button left-button" ng-class="{\'hidden\': !state.showHomeButton}" tabindex=-1></a></li><li ng-repeat="button in leftNavButtons | orderBy:\'index\':true" index={{button.index}} ng-class="{\'hidden\': button.hidden}"><a id=navbtn_{{button.id}} ng-if="button.type === \'button\'" title={{button.title}} class="pull-left fa {{button.icon}} fa-2x ep-navbar-button left-button" ng-click=state.executeButton(button,$event) ng-mousedown=state.buttonMouseDown(button) ng-class="{\'disabled\': state.freezeNavButtons  || button.enabled === false}"><span ng-if=button.badge class="ep-badge {{button.badge.cssClass}}" ng-bind=button.badge.value></span></a> <a id=navbtn_{{button.id}} ng-if="button.type === \'select\'" title={{button.title}} class="pull-left ep-navbar-button left-button dropdown-toggle" data-toggle=dropdown aria-expanded=false ng-class="{\'disabled\': state.freezeNavButtons  || button.enabled === false}"><i class="fa {{button.icon}} fa-2x"></i> <span ng-bind=button.title style="padding-right: 5px"></span> <span class=caret></span> <span ng-if=button.badge class="ep-badge {{button.badge.cssClass}}" ng-bind=button.badge.value></span></a><ep-include class="pull-left ep-navbar-button left-button" ng-if="button.type === \'template\'" options=button.options user-data=button></ep-include><ul ng-if="button.type === \'select\'" class=dropdown-menu ng-class="{ \'align-right\': button.right, \'disabled\': state.freezeNavButtons || button.enabled === false }" role=menu><li ng-repeat="opt in button.options" ng-class="{ \'divider\': opt.type===\'separator\' }" role={{opt.type}}><a ng-if="opt.type !== \'separator\' && opt.type !== \'checked\'" ng-click=state.executeButton(opt,$event) ng-mousedown=state.buttonMouseDown(opt)><span class=ep-navmenu-item><i class="ep-navmenu-item-icon fa fa-fw {{opt.icon}}"></i> <span class=ep-navmenu-item-text>{{opt.title}}</span> <span ng-if=opt.badge class="ep-badge {{opt.badge.cssClass}}" ng-bind=opt.badge.value></span></span></a> <a ng-if="opt.type !== \'separator\' && opt.type === \'checked\'" ng-click=state.executeButton(opt,$event) ng-mousedown=state.buttonMouseDown(button)><span class=ep-navmenu-item><input type=checkbox class=ep-dropdown-btn-chk ng-model="opt.checked"> <span class=ep-navmenu-item-text ng-bind=opt.title></span> <span ng-if=opt.badge class="ep-badge {{opt.badge.cssClass}}" ng-bind=opt.badge.value></span></span></a></li></ul></li><li id=brandItem ng-hide="state.showBrand === false" ng-class="{\'ep-center-brand\': state.centerBrand}"><a id=apptitle ng-cloak="" ng-if=state.brandTarget ng-class="{\'ep-center-brand\': state.centerBrand}" class=navbar-brand ng-href=#{{(state.brandTarget)}} ng-bind-html=state.brandHTML></a> <span id=apptitle ng-cloak="" ng-if=!state.brandTarget ng-class="{\'ep-center-brand\': state.centerBrand}" class=navbar-brand ng-bind-html=state.brandHTML></span></li><li class=right-button ng-class="{\'hidden\': !state.showRightToggleButton }"><a id=rightMenuToggle class="pull-left fa {{state.rightToggleButtonIcon}} fa-2x ep-navbar-button" ng-click=toggleRightSidebar() ng-class="{\'hidden\': !state.showRightToggleButton }"></a></li><!--Right hand side buttons--><li ng-repeat="button in rightNavButtons | orderBy:\'index\':true" ng-class="{\'hidden\': button.hidden, \'disabled\': state.freezeNavButtons  || button.enabled === false}" class=right-button index={{button.index}}><a id=navbtn_{{button.id}} ng-if="button.type === \'button\'" title={{button.title}} class="fa {{button.icon}} fa-2x ep-navbar-button" ng-click=state.executeButton(button,$event) ng-mousedown=state.buttonMouseDown(button)><span ng-if=button.badge class="ep-badge {{button.badge.cssClass}}" ng-bind=button.badge.value></span></a> <a id=navbtn_{{button.id}} ng-if="button.type === \'toggle\'" title={{button.title}} class="fa {{ (button.active ? button.activeIcon : button.inactiveIcon) || button.icon }} fa-2x ep-navbar-button" ng-class="{ \'active\': button.active }" ng-click=state.executeButton(button,$event) ng-mousedown=state.buttonMouseDown(button)><span ng-if=button.badge class="ep-badge {{button.badge.cssClass}}" ng-bind=button.badge.value></span></a> <a id=navbtn_{{button.id}} ng-if="button.type === \'select\'" title={{button.title}} class="ep-navbar-button dropdown-toggle" data-toggle=dropdown aria-expanded=false><i class="fa {{button.icon}} fa-2x"></i> <span ng-bind=button.title style="padding-right: 5px"></span> <span class=caret></span> <span ng-if=button.badge class="ep-badge {{button.badge.cssClass}}" ng-bind=button.badge.value></span></a><ep-include class=ep-navbar-button ng-if="button.type === \'template\'" options=button.options user-data=button></ep-include><ul ng-if="button.type === \'select\'" class="dropdown-menu dropdown-menu-right" ng-class="{ \'align-right\': button.right, \'disabled\': state.freezeNavButtons || button.enabled === false }" role=menu><li ng-repeat="opt in button.options" ng-class="{ \'divider\': opt.type===\'separator\' }" role={{opt.type}}><a ng-if="opt.type !== \'separator\' && opt.type !== \'checked\'" ng-click=state.executeButton(opt,$event) ng-mousedown=state.buttonMouseDown(button)><span class=ep-navmenu-item><i class="ep-navmenu-item-icon fa fa-fw {{opt.icon}}"></i> <span class=ep-navmenu-item-text ng-bind=opt.title></span> <span ng-if=opt.badge class="ep-badge {{button.badge.cssClass}}" ng-bind=opt.badge.value></span></span></a> <a ng-if="opt.type !== \'separator\' && opt.type === \'checked\'" ng-click=state.executeButton(opt,$event) ng-mousedown=state.buttonMouseDown(button)><span class=ep-navmenu-item><input type=checkbox class=ep-dropdown-btn-chk ng-model="opt.checked"> <span class=ep-navmenu-item-text ng-bind=opt.title></span> <span ng-if=opt.badge class="ep-badge {{button.badge.cssClass}}" ng-bind=opt.badge.value></span></span></a></li></ul></li></ul></div></nav><!--SIDE NAVIGATION--><ep-shell-sidebar><div class=ep-fullscreen><div ng-view ng-class=state.viewAnimation class="ep-fullscreen ep-view {{options.enableViewAnimations ? (\'ep-anim-speed-\' + animationSpeed + \' \' + state.animationIn + \' \' + state.animationOut + \' ep-view-transition\') : \'\' }}"></div></div></ep-shell-sidebar><div class="navbar navbar-xsm navbar-default navbar-fixed-bottom" ng-class="{hidden: !state.showFooter}" role=navigation id=mainfooter style="color: white; padding-top: 4px; padding-left: 5px"><a class=pull-left style="color: white" ng-if=state.footerTarget ng-href={{state.footerTarget}}><sup id=footerElement ng-bind-html=state.footerHTML></sup></a> <sup ng-if=!state.footerTarget id=footerElement ng-bind-html=state.footerHTML></sup></div><span class=ep-shell-feedback-btn id=feedbackbutton ng-if=state.enableFeedback ng-click=sendFeedback()><i class="fa fa-bullhorn"></i> Give Feedback</span></section></div>'),a.put("src/components/ep.shell/sidebar/sidebar.html","<div class=ep-shell-container ng-controller=epShellCtrl ng-class=\"{ 'nav-padding': shellState.showNavbar, 'footer-padding': shellState.showFooter}\"><!-- Backdrop to disable view container when sidebars are on --><div ng-swipe-right=showSwipeLeftSidebar($event) ng-swipe-left=showSwipeRightSidebar() id=viewContainerBackdrop ng-class=\"{'ep-view-container-backdrop': shellState.showViewContainerBackdrop}\"></div><!-- Left Sidebar --><div id=leftSidebar ng-show=\"shellState.showLeftSidebar && shellState.enableLeftSidebar\" class=\"ep-sidebar-nav ep-sidebar-nav-left well ep-ease-animation\" ng-class=\"{'ep-with-navbar': shellState.showNavbar, 'ep-with-footer': shellState.showFooter, 'cordova-ios': platform.app==='Cordova' && platform.os=='mac'}\" ng-click=dismissRightSidebar() ng-swipe-left=closeLeftSidebar()></div><div id=viewPlaceholder class=\"ep-view-placeholder ep-fullscreen\" ng-transclude><!--VIEW CONTENT HERE--></div><!-- Right Sidebar --><div id=rightSidebar ng-show=\"shellState.showRightSidebar && shellState.enableRightSidebar\" class=\"ep-sidebar-nav ep-sidebar-nav-right well ep-ease-animation\" ng-swipe-right=closeRightSidebar()></div></div>"),a.put("src/components/ep.shell/view-container/view-container.html","<div id=viewContainer ng-controller=epShellCtrl my-touchstart=getTouchXPoint() ng-swipe-right=showSwipeLeftSidebar() ng-swipe-left=showSwipeRightSidebar() class=ep-view-container ng-class=\"{ 'ep-with-navbar': !!state.showNavbar,\r\n                                    'ep-with-footer': !!state.showFooter,\r\n                                    'ep-ease-animation': !!state.animateViewContainer,\r\n                                    'ep-scroll-y': !!state.allowVerticalScroll,\r\n                                    'ep-momentum-scrolling-enabled': !!state.momentumScrollingEnabled }\"><div id=viewMessage class=ep-container-message ng-if=state.infoMessage ng-style=\"{'width': state.viewDimensions.size.width + 'px', 'height': state.viewDimensions.size.height + 'px'}\"><p class=\"ep-container-message-text ep-center-item\"><i class={{state.infoIcon}}></i><br>{{state.infoMessage}}</p></div><ep-viewmodal ng-if=\"state.enableViewModal !== false && state.viewModalOptions && state.viewModalOptions.templateOptions\" options=state.viewModalOptions title=state.viewModalOptions.title><ep-include options=state.viewModalOptions.templateOptions></ep-include></ep-viewmodal><!--<ep-cached-view ng-if=\"showFromCache && hasCacheKey\" key=\"cacheKey\"></ep-cached-view>--><!--\r\n"+'    <div class="ep-fullscreen" ng-if="!showFromCache || !hasCacheKey" id="viewTemplate" ng-transclude></div>\r\n--><div class=ep-fullscreen id=viewTemplate ng-transclude></div></div>'),a.put("src/components/ep.shell/views/ep-shell-embedded-apps-container.html",'<ep-shell-view-container smallmodesettings="{ &quot;showNavbar&quot;: true, &quot;showFooter&quot;: false, &quot;enableLeftSidebar&quot;: true, &quot;enableRightSidebar&quot;: false, &quot;showHomeButton&quot;: false, &quot;showBrand&quot;: true,  &quot;animateViewContainer&quot;: false, &quot;allowVerticalScroll&quot;: true }" largemodesettings="{ &quot;showNavbar&quot;: true, &quot;showFooter&quot;: false, &quot;enableLeftSidebar&quot;: true, &quot;enableRightSidebar&quot;: false, &quot;showHomeButton&quot;: false, &quot;showBrand&quot;: true,  &quot;animateViewContainer&quot;: false, &quot;allowVerticalScroll&quot;: true }"><ep-embedded-apps></ep-embedded-apps></ep-shell-view-container>'),a.put("src/components/ep.signature/ep-signature.html",'<!--This is a partial for the ep-signature directive --><div id=signature_parent style="min-height: 100px"><div id=signature style="background-color: #ffffff"></div></div><div class=row><div class=col-xs-3><button id=clearButton class="btn btn-primary" ng-disabled=!isEnabled tabindex=-1 ng-click=reset()>Clear</button></div><div class="col-xs-6 text-center"><strong ng-bind=acknowledgeText></strong></div><div class=col-xs-3><button ng-click=accept() tabindex=-1 type=submit id=saveButton ng-disabled="!isEnabled || !acceptIsEnabled" class="btn btn-success pull-right">Accept</button></div></div>'),a.put("src/components/ep.sliding.panel/ep-pane.html","<div ng-if=\"state.displayPaneIndex === pane.index\" class=ep-sliding-pane ng-class=\"{'toLeft': state.toLeft, 'toRight': state.toRight}\" ng-transclude></div>"),a.put("src/components/ep.sliding.panel/ep-sliding-panel.html",'<div class=ep-sliding-panel ng-swipe-left="state.displayPaneIndex !== state.panes.length -1 && state.nextButtonEnabled && next()" ng-swipe-right="state.displayPaneIndex !== 0 && state.prevButtonEnabled && prev()"><div ng-transclude></div><div class="navbar navbar-fixed-bottom ep-pad-all-10" ng-if="hideNavBar !== true"><span class=pull-right><button type=button class="btn btn-info btn-med btn-round" ng-click=prev() ng-disabled=!state.prevButtonEnabled ng-hide="state.prevButtonHidden || (state.displayPaneIndex === 0)"><i class="fa-fw fa fa-lg fa-arrow-left ep-padding-right"></i></button> <button type=button class="btn btn-info btn-med btn-round" ng-click=next() ng-disabled=!state.nextButtonEnabled ng-hide="state.nextButtonHidden || (state.displayPaneIndex === state.panes.length -1)"><i class="fa-fw fa fa-lg fa-arrow-right ep-padding-right"></i></button> <button type=button class="btn btn-success btn-med btn-round" ng-click=finish() ng-disabled=!state.finishButtonEnabled ng-hide="state.displayPaneIndex !== state.panes.length -1"><i class="fa-fw fa fa-lg fa-check ep-padding-right"></i></button></span></div></div>'),a.put("src/components/ep.tabbar/ep-tabbar.html","<!--Tab Bar Components --><div class=ep-tabbar><ul id=tabbar class=\"navbar nav-pills navbar-default\" ng-class=\"{'navbar-fixed-bottom':state.tabbarAlignment=='bottom', 'navbar-fixed-top':state.tabbarAlignment!='bottom'}\"><li ng-repeat=\"icon in state.tabs | filter: {hidden: '!true'}\" class=ep-tabbar-contents ng-class=\"{'ep-tabbar-list':state.iconAlignment=='left'}\"><a ng-click=\"executeButton(icon, $event)\" class=ep-tabbar-content-color><i class={{icon.icon}}></i><label id=testing2 class=testLabel ng-hide=\"state.labelAlignment=='top'\" ng-class=\"{'ep-tabbar-label':state.labelText=='left'}\">{{icon.text}}</label><p id=testing1 class=testP ng-hide=\"state.labelAlignment!='top'\">{{icon.text}}</p></a></li></ul></div>"),a.put("src/components/ep.table/table.html",'<table class=table ng-class="{\'table-striped\' : striped}"><tr><th ng-repeat="oneTh in headers track by $index">{{oneTh}}</th></tr><tr ng-show=isLoading><td colspan={{colCount}}><div class="progress progress-striped active"><div class=progress-bar role=progressbar aria-valuenow=1 aria-valuemin=0 aria-valuemax=1 style="width: 100%"></div></div></td></tr><tr ng-show=loadError><td colspan={{colCount}}><p class="text-danger text-center"><i class="fa fa-exclamation-triangle"></i> {{loadError}}</p></td></tr><tr ng-repeat="row in data" class=ep-table-row ng-class="{ \'info\': row.$isSelected }" ng-click=selectRow(row,$event) ng-dblclick=onDblClick(row,$event)><td ng-repeat="cell in props track by $index" class=ep-table-cell>{{row[cell]}}</td></tr></table>'),a.put("src/components/ep.tile/ep-tile-templates/ep-tile-image.html",'<!--This is a partial for the ep-tile-image --><div data-mode={{state.liveSettings.dataMode}} data-direction={{state.liveSettings.dataDirection}} data-delay={{state.liveSettings.dataDelay}} class="accent live-tile" ng-class=state.tileClass><div ng-repeat="img in state.images"><img class=full ng-src={{img.src}} alt="" image-index="{{img.index}}"> <span ng-if="tile.hideFooter !== false" class="tile-title accent" style="padding: 4px; background-color: gray">{{img.title}}</span></div></div>'),a.put("src/components/ep.tile/ep-tile-templates/ep-tile-menu.html",'<!--This is a partial for the ep-tile-menu --><div class="live-tile accent" ng-class=state.tileClass><div class="well ep-tile-container"><span ng-if="tile.closeButton !== false" class=ep-tile-close-button><i class="fa fa-times" ng-click="state.closeAction(tile, $event)"></i></span><h5 ng-if="tile.caption !== undefined" class="ep-tile-caption-panel btn-primary clearfix"><span ng-if=tile.icon class="ep-tile-icon fa-lg {{tile.icon}}"></span> <span class="ep-tile-caption tile-caption">{{tile.caption}}</span></h5><p class="ep-tile-description text-primary">{{tile.description}}</p><div ng-if=tile.contentIcon class="ep-content-icon ep-align-content ep-align-vcenter"><i class="fa {{tile.contentIcon}} fa-3x"></i></div></div><span ng-if="tile.footer !== undefined" class="tile-title accent">{{tile.footer}}</span></div>'),a.put("src/components/ep.tile/ep-tile.html",'<!--This is a partial for the ep-tile directive --><div class="ep-tile {{state.sizeMode}} {{state.color}}" ng-class=state.optionsClass><div ng-if="tile.type !== \'custom\'" ng-click="state.action(tile, $event)" class=ep-tile-container ng-include=state.templateUrl></div><div ng-if="tile.type === \'custom\'" class="live-tile accent {{state.color}}" ng-class=state.tileClass><span ng-if="tile.closeButton !== false" class=ep-tile-close-button><i class="fa fa-times" ng-click="state.closeAction(tile, $event)"></i></span><div ng-click="state.action(tile, $event)" class=ep-tile-container><ep-include options=tile.templateOptions user-data=tile></ep-include></div></div></div>'),a.put("src/components/ep.tiles.panel/ep-tiles-panel.html",'<!--This is a partial for the ep-tiles-panel directive --><div class="ep-tiles-panel tiles tile-group {{state.tileColor}}" style="margin: 0px"><ep-tile ng-if="beforeList && beforeList.length" class="ep-tiles-before-list ep-repeat-animation" ng-class=state.colorFunc(item) tile=item ng-repeat="item in beforeList | orderBy:sortList" size-mode=sizeMode width=width height=height></ep-tile><ep-tile class="ep-tiles-list ep-repeat-animation" ng-class=state.colorFunc(item) tile=item ng-repeat="item in list | orderBy:sortList" size-mode=sizeMode width=width height=height></ep-tile><ep-tile ng-if="afterList && afterList.length" class="ep-tiles-after-list ep-repeat-animation" ng-class=state.colorFunc(item) tile=item ng-repeat="item in afterList | orderBy:sortList" size-mode=sizeMode width=width height=height></ep-tile></div>'),a.put("src/components/ep.token/ep-login-view/ep-login-view.html",'<!--This is a partial for the ep-login-view directive --><div class="ep-login-view container-fluid"><div class=ep-login-background><div class=ep-background-image ng-if=!settings.customImage></div><img class=ep-background-custom-image ng-if=settings.customImage ng-src={{settings.customImage}} alt=""></div><div class=ep-login-up-box><div class="ep-login-box center-block"><form class=form-group><div class=form-group><div ng-if=!options.hideCredentials><p class=ep-login-text><b>{{\'emf.ep.token.ep-login-view.label.enterCredentials\' | epTranslate}}</b></p><div class=input-group><span class=input-group-addon><i class="fa fa-user fa-fw"></i></span> <input clearable name=username ng-keypress=clearWarning() id=username class=form-control ng-model=settings.username placeholder="{{\'emf.ep.token.ep-login-view.placeholder.userName\' | epTranslate}}"></div><br><div class=input-group><span class=input-group-addon><i class="fa fa-lock fa-fw"></i></span> <input type=password clearable ng-keypress=passwordKeyPress($event) name=password id=password class=form-control ng-model=settings.password placeholder="{{\'emf.ep.token.ep-login-view.placeholder.password\' | epTranslate}}"></div><br></div><div ng-show=showServerName class=input-group><span class=input-group-addon><i class="fa fa-server fa-fw"></i></span> <input spellcheck autocorrect=false ng-readonly=options.hideCredentials clearable name=servername id=serverValue class=form-control ng-model=settings.serverName placeholder="{{\'emf.ep.token.ep-login-view.placeholder.server\' | epTranslate}}"></div><br><div align=center ng-if=options.hideCredentials><button type=button class="btn ep-btn-aad-login" ng-click=loginUserAAD()><img src=lib/bower/emf/assets/ep.token/windows.png alt="login">&nbsp;&nbsp; {{\'emf.ep.token.ep-login-view.btn.aadLogin\' | epTranslate}}</button></div><div align=center ng-if=showLoader><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=100 aria-valuemin=0 aria-valuemax=100 style="width: 100%"></div></div></div><div ng-if=status class="alert alert-danger"><label>{{status}}</label><br></div><div><button ng-if="options.showSettingsButton !== false" class="btn btn-default pull-left" ng-click=showServer()><i class="fa fa-cog fa-fw"></i></button> <button type=submit class="btn btn-primary pull-right" ng-click=loginUser() ng-if=!options.hideCredentials ng-disabled=showLoader>{{\'emf.ep.token.ep-login-view.btn.login\' | epTranslate}}</button> <a ng-click=resetApplication() class="ep-login-reset-app pull-right" ng-if=options.hideCredentials>{{\'emf.ep.token.ep-login-view.link.resetApplication\' | epTranslate}}</a></div></div></form></div></div></div>'),a.put("src/components/ep.token/ep-login/login.html",'<div class=thumbnail><div ng-if="showTitle !== false" class=caption><h3 ng-hide=hasToken><span class="icon icon-enter"></span> Login</h3><h3 ng-show=hasToken><span class="icon icon-exit"></span> Logout</h3><hr></div><form role=form><div ng-if="showLabels === false" class=input-group><span class=input-group-addon><i class="fa fa-user fa-fw"></i></span> <input tabindex=1 id=user-name name=username required class=form-control ng-model=user.username placeholder="user name" autocorrect=off autocapitalize="off"></div><div ng-if="showLabels !== false" class=form-group><label for=user-name class="col-sm-2 control-label">User:</label><div><input tabindex=1 id=user-name name=username required class=form-control ng-model=user.username placeholder="user name" autocorrect=off autocapitalize="off"></div></div><div ng-if="showLabels === false" class=form-group><div class=input-group><span class=input-group-addon><i class="fa fa-key fa-fw"></i></span> <input tabindex=2 id=user-password name=password required class=form-control type=password placeholder=password ng-model=user.password autocomplete=off autocorrect=off autocapitalize="off"></div></div><div ng-if="showLabels !== false" class=form-group><label for=user-password class="col-sm-2 control-label">Password:</label><div><input tabindex=2 id=user-password name=password required class=form-control type=password placeholder=password ng-model=user.password autocomplete=off autocorrect=off autocapitalize="off"></div></div></form><div class="alert alert-danger" id=validationSummary role=alert ng-show=hasError>{{status}}</div><div><button ng-if="showCancel !== false" type=button class="btn btn-default" ng-click=cancel()>Cancel</button> <button type=button class="btn btn-primary" ng-hide=hasToken ng-click=login()>Login</button> <button type=button class="btn btn-primary" ng-show=hasToken ng-click=logout()>Logout</button></div></div>'),a.put("src/components/ep.ui.range.slider/ep-range-slider.html",'<div class=ep-range-slider-ctr><div ng-show=touch><div class=ep-range-slider-value-ctr ng-click=toggleRangeInputMode()>{{rangeMin}} - {{rangeMax}}</div><div class=ep-range-slider-value-axis><div class=ep-range-ctr><div class=ep-range></div></div><div class="ep-range-slide-handle ep-range-slide-handle-min js-handle-min"></div><div class="ep-range-slide-handle ep-range-slide-handle-max js-handle-max"></div></div><div class=ep-range-steps-ctr><span class="ep-range-step ep-range-step-{{::step}}" ng-repeat="step in steps"></span></div></div><div ng-show=!touch><input class="form-control ep-range-input-min" name=tbMin ng-model=rangeMin ng-model-options="{ debounce: 500 }"><label for=tbMax>and</label><input class="form-control ep-range-input-max" name=tbMax ng-model=rangeMax ng-model-options="{ debounce: 500 }"><div class=range-slider-mode-toggle-ctr><small class=ep-range-slider-toggle-mode ng-click=toggleRangeInputMode()>Switch to slider</small></div></div></div>'),a.put("src/components/ep.viewmodal/ep-viewmodal.html",'<!--This is a partial for the ep-viewmodal directive --><div class=ep-viewmodal ng-class="{\'ep-viewmodal-hide\': !options.showViewModal, \'ep-viewmodal-peek\': peek}"><div class="ep-viewmodal-header modal-header bg-primary modal-title"><i class="pull-left ep-padding-top" ng-class="\'fa fa-lg \' + options.lefticon" ng-if=options.lefticon></i><h5>{{options.title}} <span ng-if=peek class=text-warning><strong>(Peek Mode)</strong></span> <i class=pull-right ng-show=options.showCloseButton><a class="fa fa-times fa-2x ep-viewmodal-icon" ng-click=closeClick()></a></i> <i class=pull-right><a class="fa fa-eye fa-2x ep-viewmodal-icon" ng-click=peekClick()></a></i></h5></div><div class=ep-viewmodal-body ng-hide=peek ng-transclude></div></div>')}]);